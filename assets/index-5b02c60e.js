import{J as xe,r as h,K as Ce,L as le,M as re,c as ne,N as S,O as c,P as f,F as R,Q as N,R as e,k as u,S as r,y as K,U,f as te,d as pe,V as T,u as J,W,A as ae,X as ee,B as X,a as Q,n as Pe,o as me,Y as ge,t as H,Z as G,_ as Te,$ as Se,T as Ie,a0 as De,x as Le,H as Ae,b as Ee,e as Ve,a1 as Re,a2 as Ne,a3 as Be,w as we,m as Fe,a4 as F,a5 as Ue,a6 as Me,a7 as Oe,a8 as ze,D as qe}from"./vendor-64db4e53.js";import{s as A,a as ue,b as Ke}from"./vant-dbf08e58.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))i(p);new MutationObserver(p=>{for(const l of p)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(p){const l={};return p.integrity&&(l.integrity=p.integrity),p.referrerPolicy&&(l.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?l.credentials="include":p.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(p){if(p.ep)return;p.ep=!0;const l=s(p);fetch(p.href,l)}})();var Ye=!1;/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const je=Symbol();var he;(function(v){v.direct="direct",v.patchObject="patch object",v.patchFunction="patch function"})(he||(he={}));function He(){const v=xe(!0),t=v.run(()=>h({}));let s=[],i=[];const p=Ce({install(l){p._a=l,l.provide(je,p),l.config.globalProperties.$pinia=p,i.forEach(d=>s.push(d)),i=[]},use(l){return!this._a&&!Ye?i.push(l):s.push(l),this},_p:s,_a:null,_e:v,_s:new Map,state:t});return p}const We="modulepreload",Ze=function(v){return"/vue-bank/"+v},ye={},Ge=function(t,s,i){if(!s||s.length===0)return t();const p=document.getElementsByTagName("link");return Promise.all(s.map(l=>{if(l=Ze(l),l in ye)return;ye[l]=!0;const d=l.endsWith(".css"),n=d?'[rel="stylesheet"]':"";if(!!i)for(let y=p.length-1;y>=0;y--){const m=p[y];if(m.href===l&&(!d||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${n}`))return;const _=document.createElement("link");if(_.rel=d?"stylesheet":We,d||(_.as="script",_.crossOrigin=""),_.href=l,document.head.appendChild(_),d)return new Promise((y,m)=>{_.addEventListener("load",y),_.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t()).catch(l=>{const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l})},Je={initSwipeBack(v){let t=0,s=0,i=0,p=!1;const l=60,d=40,n=500,a=30,_=y=>{if(p&&t<a)return y.preventDefault(),y.stopPropagation(),!1};document.addEventListener("touchstart",y=>{t=y.touches[0].clientX,s=y.touches[0].clientY,i=Date.now(),p=!1,t<a&&(p=!0,console.log("🟡 Potential edge swipe detected:",{startX:t,startY:s}))},{passive:!1}),document.addEventListener("touchmove",y=>{if(!p)return;const m=y.touches[0].clientX,g=y.touches[0].clientY,w=m-t,C=Math.abs(g-s);w>20&&C<30&&(y.preventDefault(),y.stopPropagation(),console.log("🚫 Preventing default browser swipe behavior"))},{passive:!1}),document.addEventListener("touchend",y=>{if(!t)return;const m=y.changedTouches[0].clientX,g=y.changedTouches[0].clientY,w=Date.now(),C=m-t,$=Math.abs(g-s),D=w-i,V=C/D;console.log("🔵 Gesture Analysis:",{startX:t,endX:m,diffX:C,diffY:$,swipeTime:D,swipeSpeed:V.toFixed(3),isFromLeftEdge:t<a,isRightSwipe:C>l,isHorizontal:$<d,isQuickSwipe:D<n,isValidGesture:t<a&&C>l&&$<d&&D<n}),t<a&&C>l&&$<d&&D<n&&(console.log("✅ Valid swipe back gesture detected!"),this.showSwipeBackFeedback(),setTimeout(()=>{v()},100)),t=0,s=0,i=0,p=!1},{passive:!1}),window.addEventListener("popstate",y=>{console.log("🔄 Browser popstate event detected")}),document.addEventListener("gesturestart",_,{passive:!1}),document.addEventListener("gesturechange",_,{passive:!1}),document.addEventListener("gestureend",_,{passive:!1})},showSwipeBackFeedback(){const v=document.createElement("div");if(v.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 5px;
      height: 100vh;
      background: linear-gradient(to right, rgba(0,122,255,0.8), transparent);
      z-index: 10000;
      pointer-events: none;
      animation: swipeBackFeedback 0.3s ease-out;
    `,!document.getElementById("swipe-feedback-style")){const t=document.createElement("style");t.id="swipe-feedback-style",t.textContent=`
        @keyframes swipeBackFeedback {
          0% { width: 0px; opacity: 0; }
          50% { width: 8px; opacity: 1; }
          100% { width: 0px; opacity: 0; }
        }
      `,document.head.appendChild(t)}document.body.appendChild(v),setTimeout(()=>{v.parentNode&&v.parentNode.removeChild(v)},300),console.log("💫 Swipe back feedback displayed")}};class Xe{constructor(){this.TOKEN_KEY="vue_bank_token",this.USER_KEY="vue_bank_user",this.PERMISSIONS_KEY="vue_bank_permissions",this.REFRESH_TOKEN_KEY="vue_bank_refresh_token"}getToken(){return localStorage.getItem(this.TOKEN_KEY)}setToken(t){localStorage.setItem(this.TOKEN_KEY,t)}getRefreshToken(){return localStorage.getItem(this.REFRESH_TOKEN_KEY)}setRefreshToken(t){localStorage.setItem(this.REFRESH_TOKEN_KEY,t)}getUserInfo(){const t=localStorage.getItem(this.USER_KEY);return t?JSON.parse(t):null}setUserInfo(t){localStorage.setItem(this.USER_KEY,JSON.stringify(t))}getPermissions(){const t=localStorage.getItem(this.PERMISSIONS_KEY);return t?JSON.parse(t):[]}setPermissions(t){localStorage.setItem(this.PERMISSIONS_KEY,JSON.stringify(t))}hasPermission(t){return this.getPermissions().includes(t)}hasAnyPermission(t){const s=this.getPermissions();return t.some(i=>s.includes(i))}hasAllPermissions(t){const s=this.getPermissions();return t.every(i=>s.includes(i))}getUserRole(){const t=this.getUserInfo();return t?t.role:null}hasRole(t){return this.getUserRole()===t}hasAnyRole(t){const s=this.getUserRole();return t.includes(s)}getUserLevel(){const t=this.getUserInfo();return t?t.level:"NORMAL"}isVIP(){const t=this.getUserLevel();return["VIP","SVIP","DIAMOND"].includes(t)}isTokenExpired(){const t=this.getUserInfo();return!t||!t.expireTime?!0:Date.now()>t.expireTime}isLoggedIn(){return this.getToken()&&!this.isTokenExpired()}async refreshToken(){const t=this.getRefreshToken();if(!t)throw new Error("No refresh token available");try{const s=await this.mockApiCall("/api/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:t})});if(s.success)return this.setToken(s.data.token),this.setRefreshToken(s.data.refreshToken),this.setUserInfo(s.data.user),s.data;throw new Error("Token refresh failed")}catch(s){throw this.clearAuthData(),s}}async login(t){try{const s=await this.mockApiCall("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(s.success){const{token:i,refreshToken:p,user:l,permissions:d}=s.data;return this.setToken(i),this.setRefreshToken(p),this.setUserInfo(l),this.setPermissions(d),A({type:"success",message:`欢迎回来，${l.name}！`}),s.data}else throw new Error(s.message||"登录失败")}catch(s){throw A({type:"fail",message:s.message}),s}}async logout(){try{await this.mockApiCall("/api/auth/logout",{method:"POST",headers:{Authorization:`Bearer ${this.getToken()}`}})}catch(t){console.warn("Logout API call failed:",t)}finally{this.clearAuthData(),A({type:"success",message:"已安全退出"})}}clearAuthData(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.USER_KEY),localStorage.removeItem(this.PERMISSIONS_KEY),localStorage.removeItem(this.REFRESH_TOKEN_KEY)}async mockApiCall(t,s={}){if(await new Promise(i=>setTimeout(i,1e3)),t==="/api/auth/login"){const{username:i,password:p}=JSON.parse(s.body);if(i&&i.trim()&&p&&p.trim()){let l="user",d="NORMAL",n=["user:read"],a=i,_="👤";return i.toLowerCase().includes("admin")?(l="admin",d="DIAMOND",n=["user:read","user:write","admin:read","admin:write","vip:access"],a="管理员",_="👨‍💼"):i.toLowerCase().includes("vip")?(l="vip",d="VIP",n=["user:read","user:write","vip:access"],a="VIP用户",_="⭐"):a=`用户${i}`,{success:!0,data:{token:`mock_token_${Date.now()}`,refreshToken:`mock_refresh_token_${Date.now()}`,user:{id:Date.now(),username:i,name:a,role:l,level:d,avatar:_,expireTime:Date.now()+24*60*60*1e3},permissions:n}}}else return{success:!1,message:"用户名和密码不能为空"}}return t==="/api/auth/refresh"?{success:!0,data:{token:`refreshed_token_${Date.now()}`,refreshToken:`refreshed_refresh_token_${Date.now()}`,user:this.getUserInfo()}}:t==="/api/auth/logout"?{success:!0}:{success:!0,data:{}}}canAccessPage(t){return t.requiresAuth?!(!this.isLoggedIn()||t.roles&&t.roles.length>0&&!this.hasAnyRole(t.roles)||t.permissions&&t.permissions.length>0&&!this.hasAllPermissions(t.permissions)||t.requiresVIP&&!this.isVIP()):!0}getUserDisplayInfo(){const t=this.getUserInfo();return t?{name:t.name,avatar:t.avatar,role:t.role,level:t.level,isVIP:this.isVIP()}:null}}const Z=new Xe;const Y=(v,t)=>{const s=v.__vccOpts||v;for(const[i,p]of t)s[i]=p;return s},Qe={class:"custom-tabbar"},et=["onClick"],tt={class:"tab-text"},st={__name:"BottomTabbar",setup(v){const t=le(),s=re(),i=[{icon:"wap-home-o",text:"首页",route:"/home"},{icon:"gold-coin-o",text:"理财",route:"/wealth"},{icon:"shop-o",text:"生活",route:"/life"},{icon:"credit-pay",text:"卡片",route:"/cards"}],p=ne(()=>({"/home":0,"/wealth":1,"/life":2,"/cards":3})[s.path]||0),l=d=>{const n=i[d].route;s.path!==n&&t.replace(n)};return(d,n)=>{const a=S("van-icon");return c(),f("div",Qe,[(c(),f(R,null,N(i,(_,y)=>e("div",{key:y,class:K(["tab-item",{active:p.value===y}]),onClick:m=>l(y)},[u(a,{name:_.icon,class:"tab-icon"},null,8,["name"]),e("span",tt,r(_.text),1)],10,et)),64))])}}},de=Y(st,[["__scopeId","data-v-7fc34867"]]);const nt={key:0,class:"user-info"},ot={class:"user-avatar"},at={class:"user-details"},it={class:"user-name"},lt={class:"user-role"},rt={__name:"UserInfo",setup(v){const t=le(),s=ne(()=>Z.getUserDisplayInfo()),i=n=>({admin:"管理员",vip:"VIP用户",user:"普通用户"})[n]||"未知角色",p=n=>({DIAMOND:"钻石会员",SVIP:"超级VIP",VIP:"VIP会员",NORMAL:"普通用户"})[n]||"未知等级",l=n=>({"level-diamond":n==="DIAMOND","level-svip":n==="SVIP","level-vip":n==="VIP","level-normal":n==="NORMAL"}),d=async()=>{try{await ue({title:"确认退出",message:"确定要退出登录吗？",confirmButtonText:"退出",cancelButtonText:"取消",confirmButtonColor:"#ee0a24"}),await Z.logout(),t.push("/login")}catch{}};return(n,a)=>s.value?(c(),f("div",nt,[e("div",ot,r(s.value.avatar),1),e("div",at,[e("div",it,r(s.value.name),1),e("div",lt,r(i(s.value.role)),1),e("div",{class:K(["user-level",l(s.value.level)])},r(p(s.value.level)),3)]),e("div",{class:"user-actions"},[e("button",{onClick:d,class:"logout-btn"},"退出")])])):U("",!0)}},dt=Y(rt,[["__scopeId","data-v-dee8125d"]]);const ct={class:"home-container"},ut={class:"content"},vt={class:"balance-card"},pt={class:"balance-amount"},mt={class:"amount"},ft={class:"balance-footer"},gt={class:"quick-functions"},_t={class:"function-grid"},ht={class:"function-icon transfer"},yt={class:"function-icon cards"},bt={class:"function-icon wealth"},kt={class:"function-icon loan"},wt={class:"activity-section"},$t={class:"section-header"},xt=["onClick"],Ct={class:"banner-content"},Pt={class:"banner-text"},Tt={class:"banner-icon"},St={class:"banner-tag"},It={class:"activity-grid"},Dt=["onClick"],Lt={class:"activity-info"},At={class:"activity-title"},Et={class:"activity-desc"},Vt={key:0,class:"activity-badge"},Rt={class:"developer-section"},Nt={class:"demo-grid"},Bt={class:"demo-icon permission"},Ft={class:"demo-icon component"},Ut={class:"demo-icon render"},Mt={class:"demo-icon lifecycle"},Ot={class:"demo-icon computed"},zt={class:"demo-icon proxy"},qt={class:"demo-icon vue-proxy"},Kt={class:"demo-icon promise"},Yt={class:"transaction-section"},jt={__name:"Home",setup(v){const t=le(),s=h(128888.88),i=h(!0),p=h([{id:1,title:"工资发放",time:"今天 14:30",amount:"+8,500.00",type:"income",icon:"gold-coin-o"},{id:2,title:"超市购物",time:"昨天 19:20",amount:"-156.80",type:"expense",icon:"shop-o"},{id:3,title:"转账给张三",time:"昨天 15:45",amount:"-2,000.00",type:"expense",icon:"exchange"}]),l=h([{id:1,title:"新用户专享",subtitle:"开户即送888元理财金",icon:"gift-o",tag:"限时",gradient:"linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%)",type:"newuser"},{id:2,title:"理财节",subtitle:"年化收益率高达6.8%",icon:"gold-coin-o",tag:"热门",gradient:"linear-gradient(135deg, #f9ca24 0%, #f0932b 100%)",type:"wealth"},{id:3,title:"信用卡优惠",subtitle:"消费满1000返100",icon:"credit-pay",tag:"推荐",gradient:"linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%)",type:"creditcard"}]),d=h([{id:1,title:"签到有礼",desc:"连续签到7天",icon:"calendar-o",gradient:"linear-gradient(135deg, #00b894, #00cec9)",badge:"每日",type:"checkin"},{id:2,title:"邀请好友",desc:"最高得500元",icon:"friends-o",gradient:"linear-gradient(135deg, #fd79a8, #e84393)",badge:"奖励",type:"invite"},{id:3,title:"积分商城",desc:"积分兑好礼",icon:"shop-o",gradient:"linear-gradient(135deg, #4facfe, #00f2fe)",badge:null,type:"points"},{id:4,title:"生活缴费",desc:"水电燃气费",icon:"bill-o",gradient:"linear-gradient(135deg, #667eea, #764ba2)",badge:"便民",type:"bills"}]),n=O=>{A({newuser:"新用户专享活动详情",wealth:"理财节活动详情",creditcard:"信用卡优惠活动详情",checkin:"签到功能",invite:"邀请好友功能",points:"积分商城功能",bills:"生活缴费功能"}[O.type]||"活动详情")},a=()=>{i.value=!i.value},_=()=>{t.push("/transfer")},y=()=>{t.push("/cards")},m=()=>{t.push("/account")},g=()=>{t.push("/render-demo")},w=()=>{t.push("/lifecycle-demo")},C=()=>{t.push("/computed-demo")},$=()=>{t.push("/permission-demo")},D=()=>{t.push("/component-demo")},V=()=>{t.push("/proxy-demo")},b=()=>{t.push("/vue-proxy-demo")},B=()=>{t.push("/promise-demo")},M=()=>{console.log("首页数据刷新")};return te(()=>{M()}),pe(()=>{M()}),(O,k)=>{const I=S("van-icon"),q=S("van-nav-bar"),E=S("van-swipe-item"),o=S("van-swipe"),x=S("van-cell"),oe=S("van-cell-group");return c(),f("div",ct,[u(q,{title:"CC银行",fixed:""},{right:T(()=>[u(I,{name:"search",size:"18",onClick:k[0]||(k[0]=L=>J(A)("搜索功能"))})]),_:1}),e("div",ut,[u(dt),e("div",vt,[k[6]||(k[6]=e("div",{class:"balance-header"},[e("span",{class:"account-type"},"储蓄卡"),e("span",{class:"card-number"},"尾号 8888")],-1)),e("div",pt,[k[4]||(k[4]=e("span",{class:"currency"},"¥",-1)),e("span",mt,r(s.value.toLocaleString()),1)]),e("div",ft,[k[5]||(k[5]=e("span",null,"可用余额",-1)),u(I,{name:"eye-o",onClick:a})])]),e("div",gt,[e("div",_t,[e("div",{class:"function-item",onClick:_},[e("div",ht,[u(I,{name:"exchange",size:"24"})]),k[7]||(k[7]=e("span",null,"转账",-1))]),e("div",{class:"function-item",onClick:y},[e("div",yt,[u(I,{name:"credit-pay",size:"24"})]),k[8]||(k[8]=e("span",null,"我的卡片",-1))]),e("div",{class:"function-item",onClick:k[1]||(k[1]=L=>J(A)("理财功能"))},[e("div",bt,[u(I,{name:"gold-coin-o",size:"24"})]),k[9]||(k[9]=e("span",null,"理财",-1))]),e("div",{class:"function-item",onClick:k[2]||(k[2]=L=>J(A)("贷款功能"))},[e("div",kt,[u(I,{name:"shop-o",size:"24"})]),k[10]||(k[10]=e("span",null,"贷款",-1))])])]),e("div",wt,[e("div",$t,[k[11]||(k[11]=e("h3",null,"🎉 精彩活动",-1)),e("span",{class:"more",onClick:k[3]||(k[3]=L=>J(A)("查看更多活动"))},"更多")]),u(o,{class:"activity-swipe",autoplay:3e3,"indicator-color":"white"},{default:T(()=>[(c(!0),f(R,null,N(l.value,L=>(c(),W(E,{key:L.id},{default:T(()=>[e("div",{class:"activity-banner",style:ae({background:L.gradient}),onClick:ce=>n(L)},[e("div",Ct,[e("div",Pt,[e("h4",null,r(L.title),1),e("p",null,r(L.subtitle),1)]),e("div",Tt,[u(I,{name:L.icon,size:"32"},null,8,["name"])])]),e("div",St,r(L.tag),1)],12,xt)]),_:2},1024))),128))]),_:1}),e("div",It,[(c(!0),f(R,null,N(d.value,L=>(c(),f("div",{key:L.id,class:"activity-item",onClick:ce=>n(L)},[e("div",{class:"activity-icon",style:ae({background:L.gradient})},[u(I,{name:L.icon,size:"20"},null,8,["name"])],4),e("div",Lt,[e("span",At,r(L.title),1),e("span",Et,r(L.desc),1)]),L.badge?(c(),f("div",Vt,r(L.badge),1)):U("",!0)],8,Dt))),128))])]),e("div",Rt,[k[20]||(k[20]=e("div",{class:"section-header"},[e("h3",null,"🛠️ 开发者演示")],-1)),e("div",Nt,[e("div",{class:"demo-item",onClick:$},[e("div",Bt,[u(I,{name:"shield-o",size:"20"})]),k[12]||(k[12]=e("span",null,"权限管理",-1))]),e("div",{class:"demo-item",onClick:D},[e("div",Ft,[u(I,{name:"apps-o",size:"20"})]),k[13]||(k[13]=e("span",null,"组件基础",-1))]),e("div",{class:"demo-item",onClick:g},[e("div",Ut,[u(I,{name:"setting-o",size:"20"})]),k[14]||(k[14]=e("span",null,"Render函数",-1))]),e("div",{class:"demo-item",onClick:w},[e("div",Mt,[u(I,{name:"clock-o",size:"20"})]),k[15]||(k[15]=e("span",null,"生命周期",-1))]),e("div",{class:"demo-item",onClick:C},[e("div",Ot,[u(I,{name:"fire-o",size:"20"})]),k[16]||(k[16]=e("span",null,"计算属性",-1))]),e("div",{class:"demo-item",onClick:V},[e("div",zt,[u(I,{name:"exchange",size:"18"})]),k[17]||(k[17]=e("span",null,"HTTP代理",-1))]),e("div",{class:"demo-item",onClick:b},[e("div",qt,[u(I,{name:"diamond-o",size:"18"})]),k[18]||(k[18]=e("span",null,"Vue Proxy",-1))]),e("div",{class:"demo-item",onClick:B},[e("div",Kt,[u(I,{name:"clock-o",size:"18"})]),k[19]||(k[19]=e("span",null,"Promise",-1))])])]),e("div",Yt,[e("div",{class:"section-header"},[k[21]||(k[21]=e("h3",null,"最近交易",-1)),e("span",{class:"more",onClick:m},"查看全部")]),u(oe,null,{default:T(()=>[(c(!0),f(R,null,N(p.value,L=>(c(),W(x,{key:L.id,title:L.title,label:L.time,value:L.amount,"value-class":L.type==="income"?"income":"expense"},{icon:T(()=>[e("div",{class:K(["transaction-icon",L.type])},[u(I,{name:L.icon,size:"20"},null,8,["name"])],2)]),_:2},1032,["title","label","value","value-class"]))),128))]),_:1})])]),u(de)])}}},Ht=Y(jt,[["__scopeId","data-v-9331b6ae"]]);const Wt={class:"account-container"},Zt={class:"content"},Gt={class:"filter-section"},Jt={class:"transaction-list"},Xt={class:"date-header"},Qt={__name:"Account",setup(v){const t=h(!1),s=h(!1),i=h(0),p=h(0),l=h([{text:"全部类型",value:0},{text:"收入",value:1},{text:"支出",value:2},{text:"转账",value:3}]),d=h([{text:"最近一周",value:0},{text:"最近一月",value:1},{text:"最近三月",value:2},{text:"最近一年",value:3}]),n=h([{id:1,title:"工资发放",description:"公司转账 - 月薪",amount:"+8,500.00",type:"income",icon:"gold-coin-o",date:"2024-01-15",time:"14:30"},{id:2,title:"超市购物",description:"华润万家 - 刷卡消费",amount:"-156.80",type:"expense",icon:"shop-o",date:"2024-01-14",time:"19:20"},{id:3,title:"转账给张三",description:"个人转账",amount:"-2,000.00",type:"expense",icon:"exchange",date:"2024-01-14",time:"15:45"},{id:4,title:"理财收益",description:"朝朝盈 - 收益到账",amount:"+25.60",type:"income",icon:"gold-coin-o",date:"2024-01-13",time:"09:00"},{id:5,title:"餐厅消费",description:"海底捞 - 刷卡消费",amount:"-298.00",type:"expense",icon:"shop-o",date:"2024-01-13",time:"20:15"}]),a=ne(()=>{const g={};return n.value.forEach(w=>{const C=_(w.date);g[C]||(g[C]=[]),g[C].push(w)}),g}),_=g=>{const w=new Date(g),C=new Date,$=new Date(C);return $.setDate($.getDate()-1),w.toDateString()===C.toDateString()?"今天":w.toDateString()===$.toDateString()?"昨天":`${w.getMonth()+1}月${w.getDate()}日`},y=()=>{setTimeout(()=>{t.value=!1,s.value=!0},1e3)},m=g=>{A(`查看 ${g.title} 详情`)};return te(()=>{}),(g,w)=>{const C=S("van-nav-bar"),$=S("van-dropdown-item"),D=S("van-dropdown-menu"),V=S("van-icon"),b=S("van-cell"),B=S("van-cell-group"),M=S("van-list");return c(),f("div",Wt,[u(C,{title:"账户明细","left-arrow":"",onClickLeft:w[0]||(w[0]=O=>g.$router.back())}),e("div",Zt,[w[4]||(w[4]=ee('<div class="account-info" data-v-b1abf6b9><div class="account-card" data-v-b1abf6b9><div class="card-header" data-v-b1abf6b9><span class="card-type" data-v-b1abf6b9>储蓄卡</span><span class="card-bank" data-v-b1abf6b9>CC银行</span></div><div class="card-number" data-v-b1abf6b9>**** **** **** 8888</div><div class="card-balance" data-v-b1abf6b9><span class="label" data-v-b1abf6b9>可用余额</span><span class="amount" data-v-b1abf6b9>¥128,888.88</span></div></div></div>',1)),e("div",Gt,[u(D,null,{default:T(()=>[u($,{modelValue:i.value,"onUpdate:modelValue":w[1]||(w[1]=O=>i.value=O),options:l.value},null,8,["modelValue","options"]),u($,{modelValue:p.value,"onUpdate:modelValue":w[2]||(w[2]=O=>p.value=O),options:d.value},null,8,["modelValue","options"])]),_:1})]),e("div",Jt,[u(M,{loading:t.value,"onUpdate:loading":w[3]||(w[3]=O=>t.value=O),finished:s.value,"finished-text":"没有更多了",onLoad:y},{default:T(()=>[(c(!0),f(R,null,N(a.value,(O,k)=>(c(),f("div",{key:k,class:"transaction-group"},[e("div",Xt,r(k),1),u(B,null,{default:T(()=>[(c(!0),f(R,null,N(O,I=>(c(),W(b,{key:I.id,title:I.title,label:I.description,value:I.amount,"value-class":I.type==="income"?"income":"expense",onClick:q=>m(I)},{icon:T(()=>[e("div",{class:K(["transaction-icon",I.type])},[u(V,{name:I.icon,size:"20"},null,8,["name"])],2)]),"right-icon":T(()=>[u(V,{name:"arrow"})]),_:2},1032,["title","label","value","value-class","onClick"]))),128))]),_:2},1024)]))),128))]),_:1},8,["loading","finished"])])]),u(de)])}}},es=Y(Qt,[["__scopeId","data-v-b1abf6b9"]]);const ts={class:"transfer-container"},ss={class:"content"},ns={class:"submit-section"},os={__name:"Transfer",setup(v){const t=le(),s=h(!1),i=h(!1),p=h({name:"",account:"",bank:""}),l=h(""),d=h(""),n=h(["CC银行","中国工商银行","中国建设银行","中国农业银行","中国银行","交通银行","中信银行","光大银行","华夏银行","民生银行"]),a=({selectedValues:y})=>{p.value.bank=y[0],i.value=!1},_=async()=>{try{await ue({title:"确认转账",message:`向 ${p.value.name} 转账 ¥${l.value} 元？`}),s.value=!0,setTimeout(()=>{A("转账成功"),t.back(),s.value=!1},2e3)}catch{}};return(y,m)=>{const g=S("van-nav-bar"),w=S("van-field"),C=S("van-cell-group"),$=S("van-button"),D=S("van-form"),V=S("van-picker"),b=S("van-popup");return c(),f("div",ts,[u(g,{title:"转账","left-arrow":"",onClickLeft:m[0]||(m[0]=B=>y.$router.back())}),e("div",ss,[u(D,{onSubmit:_},{default:T(()=>[u(C,{inset:"",title:"收款人信息"},{default:T(()=>[u(w,{modelValue:p.value.name,"onUpdate:modelValue":m[1]||(m[1]=B=>p.value.name=B),name:"name",label:"收款人",placeholder:"请输入收款人姓名",rules:[{required:!0,message:"请填写收款人姓名"}]},null,8,["modelValue"]),u(w,{modelValue:p.value.account,"onUpdate:modelValue":m[2]||(m[2]=B=>p.value.account=B),name:"account",label:"收款账号",placeholder:"请输入收款账号",rules:[{required:!0,message:"请填写收款账号"}]},null,8,["modelValue"]),u(w,{modelValue:p.value.bank,"onUpdate:modelValue":m[3]||(m[3]=B=>p.value.bank=B),name:"bank",label:"收款银行",placeholder:"请选择收款银行",readonly:"",onClick:m[4]||(m[4]=B=>i.value=!0)},null,8,["modelValue"])]),_:1}),u(C,{inset:"",title:"转账信息"},{default:T(()=>[u(w,{modelValue:l.value,"onUpdate:modelValue":m[5]||(m[5]=B=>l.value=B),name:"amount",label:"转账金额",placeholder:"请输入转账金额",type:"number",rules:[{required:!0,message:"请填写转账金额"}]},{"left-icon":T(()=>m[9]||(m[9]=[e("span",{style:{"margin-right":"4px"}},"¥",-1)])),_:1},8,["modelValue"]),u(w,{modelValue:d.value,"onUpdate:modelValue":m[6]||(m[6]=B=>d.value=B),name:"remark",label:"转账备注",placeholder:"请输入转账备注（可选）",maxlength:"50","show-word-limit":""},null,8,["modelValue"])]),_:1}),e("div",ns,[u($,{round:"",block:"",type:"primary","native-type":"submit",loading:s.value,"loading-text":"处理中..."},{default:T(()=>m[10]||(m[10]=[X(" 确认转账 ",-1)])),_:1,__:[10]},8,["loading"])])]),_:1})]),u(b,{show:i.value,"onUpdate:show":m[8]||(m[8]=B=>i.value=B),position:"bottom"},{default:T(()=>[u(V,{columns:n.value,onConfirm:a,onCancel:m[7]||(m[7]=B=>i.value=!1)},null,8,["columns"])]),_:1},8,["show"]),u(de)])}}},as=Y(os,[["__scopeId","data-v-fbd6ad4d"]]);const is={class:"cards-container"},ls={class:"content"},rs={class:"cards-carousel"},ds={class:"card-header"},cs={class:"card-name"},us={class:"card-logo"},vs={class:"card-number"},ps={class:"card-footer"},ms={class:"card-info"},fs={class:"value"},gs={class:"card-info"},_s={class:"value"},hs={class:"card-functions"},ys={class:"card-list"},bs={class:"add-card-section"},ks={__name:"Cards",setup(v){re();const t=h([{id:1,name:"一卡通储蓄卡",bank:"CC银行",number:"**** **** **** 8888",holder:"张三",expiry:"12/28",type:"debit",status:"正常"},{id:2,name:"信用卡金卡",bank:"CC银行",number:"**** **** **** 6666",holder:"张三",expiry:"08/27",type:"credit",status:"正常"},{id:3,name:"理财金卡",bank:"CC银行",number:"**** **** **** 9999",holder:"张三",expiry:"03/29",type:"wealth",status:"冻结"}]),s=h([{name:"挂失",icon:"warning-o",action:"reportLoss"},{name:"解挂",icon:"success",action:"unfreeze"},{name:"设置密码",icon:"lock",action:"setPassword"},{name:"额度调整",icon:"balance-o",action:"adjustLimit"},{name:"账单查询",icon:"orders-o",action:"viewBill"},{name:"分期还款",icon:"gold-coin-o",action:"installment"},{name:"积分查询",icon:"star-o",action:"viewPoints"},{name:"更多",icon:"ellipsis",action:"more"}]),i=n=>{A({reportLoss:"挂失功能",unfreeze:"解挂功能",setPassword:"设置密码",adjustLimit:"额度调整",viewBill:"账单查询",installment:"分期还款",viewPoints:"积分查询",more:"更多功能"}[n]||"功能开发中")},p=n=>{A(`查看 ${n.name} 详情`)},l=()=>{A("申请新卡功能")},d=()=>{console.log("卡片页面数据刷新")};return te(()=>{d()}),pe(()=>{d()}),(n,a)=>{const _=S("van-nav-bar"),y=S("van-swipe-item"),m=S("van-swipe"),g=S("van-grid-item"),w=S("van-grid"),C=S("van-icon"),$=S("van-cell"),D=S("van-cell-group"),V=S("van-button");return c(),f("div",is,[u(_,{title:"我的卡片","left-arrow":"",onClickLeft:a[0]||(a[0]=b=>n.$router.back())}),e("div",ls,[e("div",rs,[u(m,{autoplay:3e3,"indicator-color":"white"},{default:T(()=>[(c(!0),f(R,null,N(t.value,b=>(c(),W(y,{key:b.id},{default:T(()=>[e("div",{class:K(["card-item",b.type])},[e("div",ds,[e("span",cs,r(b.name),1),e("span",us,r(b.bank),1)]),e("div",vs,r(b.number),1),e("div",ps,[e("div",ms,[a[1]||(a[1]=e("span",{class:"label"},"持卡人",-1)),e("span",fs,r(b.holder),1)]),e("div",gs,[a[2]||(a[2]=e("span",{class:"label"},"有效期",-1)),e("span",_s,r(b.expiry),1)])])],2)]),_:2},1024))),128))]),_:1})]),e("div",hs,[u(w,{"column-num":4,border:!1},{default:T(()=>[(c(!0),f(R,null,N(s.value,b=>(c(),W(g,{key:b.name,icon:b.icon,text:b.name,onClick:B=>i(b.action)},null,8,["icon","text","onClick"]))),128))]),_:1})]),e("div",ys,[u(D,{title:"我的银行卡"},{default:T(()=>[(c(!0),f(R,null,N(t.value,b=>(c(),W($,{key:b.id,title:b.name,label:`${b.bank} • ${b.number}`,value:b.status,"value-class":b.status==="正常"?"status-normal":"status-frozen",onClick:B=>p(b)},{icon:T(()=>[e("div",{class:K(["card-icon",b.type])},[u(C,{name:"credit-pay",size:"20"})],2)]),"right-icon":T(()=>[u(C,{name:"arrow"})]),_:2},1032,["title","label","value","value-class","onClick"]))),128))]),_:1})]),e("div",bs,[u(V,{round:"",block:"",type:"primary",icon:"plus",onClick:l},{default:T(()=>a[3]||(a[3]=[X(" 申请新卡 ",-1)])),_:1,__:[3]})])]),u(de)])}}},ws=Y(ks,[["__scopeId","data-v-83b9fc9c"]]);const $s={class:"wealth-container"},xs={class:"content"},Cs={class:"recommend-section"},Ps=["onClick"],Ts={key:0,class:"vip-badge"},Ss={class:"product-header"},Is={class:"product-info"},Ds={class:"product-name"},Ls={class:"product-rate"},As={class:"rate-number"},Es={class:"product-desc"},Vs={class:"product-action"},Rs={class:"product-details"},Ns={class:"detail-text"},Bs={class:"fund-section"},Fs={class:"fund-grid"},Us=["onClick"],Ms={key:0,class:"vip-badge-small"},Os={class:"fund-info"},zs={class:"product-list"},qs=["onClick"],Ks={class:"item-left"},Ys={class:"chart-icon"},js={width:"40",height:"30",viewBox:"0 0 40 30"},Hs=["points","stroke"],Ws={class:"item-info"},Zs={class:"item-desc"},Gs={class:"item-right"},Js={class:"item-tags"},Xs={key:0,class:"item-discount"},Qs={class:"news-section"},en={class:"section-header"},tn={__name:"Wealth",setup(v){re();const t=h([{id:1,name:'"芙蓉锦程·日日得益"',rate:"1.539",desc:"7日年化收益率",details:"",buttonText:"立即购买"},{id:2,name:"南银理财安稳1906—年定开T-G份额（自动赎回···",rate:"2.9~3.2",desc:"业绩比较基准",details:"",buttonText:"立即购买"},{id:3,name:"宁银理财宁欣日日薪30号（芙蓉锦程-优选）（···",rate:"1.99",desc:"近一月年化",details:"",buttonText:"立即购买"}]),s=h([{id:1,title:"基金超市",subtitle:"多支基金任你挑",icon:"shop-o",gradient:"linear-gradient(135deg, #ffeaa7, #fab1a0)"},{id:2,title:"定投专区",subtitle:"小投资大未来",icon:"clock-o",gradient:"linear-gradient(135deg, #a8e6cf, #74b9ff)"}]),i=h([{id:1,name:"工银精选平衡混合",rate:"11.61",period:"近1年收益率",tags:["均衡配置","低波权益"],discount:"0.1折申购",isPositive:!0,chartPoints:"5,25 10,15 15,20 20,10 25,18 30,8 35,12"},{id:2,name:"易方达如意安享一年持有混合（FOF）A",rate:"3.72",period:"近1年收益率",tags:["风险分散","长期稳健"],discount:"1折申购",isPositive:!0,chartPoints:"5,20 10,18 15,22 20,16 25,19 30,14 35,17"},{id:3,name:"华夏行业景气混合",rate:"51.85",period:"近1年收益率",tags:["据金量气赛道","布局成长"],discount:"0.1折申购",isPositive:!0,chartPoints:"5,28 10,12 15,8 20,15 25,5 30,18 35,3"}]),p=async n=>{if([2,3].includes(n.id)&&!Z.hasVIPLevel(1)){try{await ue({title:"VIP专享产品",message:"此产品为VIP专享，升级VIP即可享受更高收益理财产品。是否了解VIP权益？",confirmButtonText:"了解VIP",cancelButtonText:"取消"}),A("VIP权益详情页面")}catch{}return}A(`查看${n.name}详情`)},l=async n=>{if(n.id===2&&!Z.hasVIPLevel(1)){try{await ue({title:"VIP专享功能",message:"定投专区为VIP专享功能，可享受更优质的定投服务和更低的手续费。是否了解VIP权益？",confirmButtonText:"了解VIP",cancelButtonText:"取消"}),A("VIP权益详情页面")}catch{}return}A(`进入${n.title}`)},d=()=>{console.log("理财页面数据刷新")};return te(()=>{d()}),pe(()=>{d()}),(n,a)=>{const _=S("van-icon"),y=S("van-nav-bar"),m=S("van-button");return c(),f("div",$s,[u(y,{title:"理财推荐",fixed:""},{right:T(()=>[u(_,{name:"search",size:"18",onClick:a[0]||(a[0]=g=>J(A)("搜索理财产品"))})]),_:1}),e("div",xs,[e("div",Cs,[(c(!0),f(R,null,N(t.value,g=>(c(),f("div",{class:"recommend-item",key:g.id,onClick:w=>p(g)},[[2,3].includes(g.id)?(c(),f("div",Ts,[u(_,{name:"diamond-o",size:"12"}),a[2]||(a[2]=e("span",null,"VIP专享",-1))])):U("",!0),e("div",Ss,[e("div",Is,[e("h3",Ds,r(g.name),1),e("div",Ls,[e("span",As,r(g.rate),1),a[3]||(a[3]=e("span",{class:"rate-unit"},"%",-1))]),e("div",Es,r(g.desc),1)]),e("div",Vs,[u(m,{type:"danger",size:"small",round:""},{default:T(()=>[X(r(g.buttonText),1)]),_:2},1024)])]),e("div",Rs,[e("span",Ns,r(g.details),1)])],8,Ps))),128))]),e("div",Bs,[a[5]||(a[5]=e("div",{class:"section-header"},[e("h3",null,"精选基金")],-1)),e("div",Fs,[(c(!0),f(R,null,N(s.value,g=>(c(),f("div",{class:"fund-card",key:g.id,onClick:w=>l(g)},[g.id===2?(c(),f("div",Ms,[u(_,{name:"diamond-o",size:"10"}),a[4]||(a[4]=e("span",null,"VIP",-1))])):U("",!0),e("div",{class:"fund-icon",style:ae({background:g.gradient})},[u(_,{name:g.icon,size:"24"},null,8,["name"])],4),e("div",Os,[e("h4",null,r(g.title),1),e("p",null,r(g.subtitle),1)])],8,Us))),128))])]),e("div",zs,[(c(!0),f(R,null,N(i.value,g=>(c(),f("div",{class:"product-item",key:g.id,onClick:w=>p(g)},[e("div",Ks,[e("div",Ys,[(c(),f("svg",js,[e("polyline",{points:g.chartPoints,fill:"none",stroke:g.isPositive?"#ff6b6b":"#00b894","stroke-width":"2"},null,8,Hs)]))]),e("div",Ws,[e("h4",null,r(g.name),1),e("div",{class:K(["item-rate",{positive:g.isPositive,negative:!g.isPositive}])},r(g.isPositive?"+":"")+r(g.rate)+"% ",3),e("div",Zs,r(g.period),1)])]),e("div",Gs,[e("div",Js,[(c(!0),f(R,null,N(g.tags,w=>(c(),f("span",{class:"tag",key:w},r(w),1))),128))]),g.discount?(c(),f("div",Xs,r(g.discount),1)):U("",!0)])],8,qs))),128))]),e("div",Qs,[e("div",en,[a[6]||(a[6]=e("h3",null,"行业资讯",-1)),u(_,{name:"arrow"})]),e("div",{class:"news-item",onClick:a[1]||(a[1]=g=>J(A)("查看资讯详情"))},[a[8]||(a[8]=ee('<div class="news-tag" data-v-4dcf82e9>秒懂市场</div><div class="news-content" data-v-4dcf82e9><h4 data-v-4dcf82e9>指数波动加剧！如何降低震感？| 秒懂市场</h4><div class="news-meta" data-v-4dcf82e9><span class="news-date" data-v-4dcf82e9>5/5</span><div class="news-mascot" data-v-4dcf82e9><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiMzMzMiLz4KPGNpcmNsZSBjeD0iMTQiIGN5PSIxNiIgcj0iMyIgZmlsbD0iI2ZmZiIvPgo8Y2lyY2xlIGN4PSIyNiIgY3k9IjE2IiByPSIzIiBmaWxsPSIjZmZmIi8+CjxwYXRoIGQ9Ik0xMiAyNEMyMCAyOCAyOCAyNCAxMiAyNCIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K" alt="熊猫" data-v-4dcf82e9></div></div></div>',2)),u(m,{size:"small",round:"",color:"#d4a574"},{default:T(()=>a[7]||(a[7]=[X("查看详情",-1)])),_:1,__:[7]})])])]),u(de)])}}},sn=Y(tn,[["__scopeId","data-v-4dcf82e9"]]);const nn={class:"life-container"},on={class:"custom-nav-bar"},an={class:"nav-content"},ln={class:"nav-icons"},rn={class:"content"},dn={class:"category-tabs"},cn={key:0,class:"life-payment"},un={class:"service-card"},vn={class:"service-icon"},pn={class:"service-info"},mn={key:1,class:"government-services"},fn={class:"service-card"},gn={class:"service-icon"},_n={class:"service-info"},hn={class:"livelihood-item"},yn={key:2,class:"fans-benefits"},bn={class:"benefits-list"},kn=["onClick"],wn={class:"benefit-icon"},$n={class:"benefit-info"},xn={class:"benefit-tag"},Cn={class:"benefit-action"},Pn={class:"privilege-card"},Tn={key:3},Sn={class:"car-service-section"},In={class:"section-header"},Dn={class:"car-activity"},Ln={class:"activity-content"},An={class:"stars"},En={class:"car-brands"},Vn=["onClick"],Rn={class:"brand-logo"},Nn={class:"car-service-card"},Bn={class:"service-icon"},Fn={class:"travel-section"},Un={class:"travel-services"},Mn={class:"card-image"},On={class:"travel-grid"},zn=["onClick"],qn={class:"travel-icon"},Kn={class:"convenience-section"},Yn={class:"convenience-item"},jn={__name:"Life",setup(v){re();const t=h(0),s=h(""),i=h([{id:1,title:"水费",description:"在线缴水费",icon:"💧",type:"water"},{id:2,title:"手机话费",description:"在线缴话费",icon:"📱",type:"phone"},{id:3,title:"燃气费",description:"在线缴燃气费",icon:"🔥",type:"gas"},{id:4,title:"固话",description:"在线缴固话费",icon:"☎️",type:"landline"}]),p=h([{id:1,title:"社保查询",description:"查询社保缴费记录",icon:"🏛️",type:"social_security"},{id:2,title:"公积金查询",description:"查询公积金余额",icon:"🏦",type:"housing_fund"},{id:3,title:"个税查询",description:"个人所得税查询",icon:"📊",type:"tax_query"},{id:4,title:"违章查询",description:"车辆违章查询",icon:"🚗",type:"violation_query"},{id:5,title:"证件办理",description:"身份证等证件办理",icon:"📄",type:"document_service"},{id:6,title:"户籍服务",description:"户口迁移等服务",icon:"🏠",type:"household_service"}]),l=h([{id:1,title:"医保服务",icon:"certificate",gradient:"linear-gradient(135deg, #43E97B, #38F9D7)",type:"medical_insurance"},{id:2,title:"教育缴费",icon:"certificate",gradient:"linear-gradient(135deg, #FA709A, #FEE140)",type:"education_fee"},{id:3,title:"养老服务",icon:"like-o",gradient:"linear-gradient(135deg, #A8EDEA, #FED6E3)",type:"pension_service"},{id:4,title:"就业服务",icon:"manager-o",gradient:"linear-gradient(135deg, #667eea, #764ba2)",type:"employment_service"},{id:5,title:"法律援助",icon:"balance-o",gradient:"linear-gradient(135deg, #f093fb, #f5576c)",type:"legal_aid"},{id:6,title:"便民热线",icon:"phone-o",gradient:"linear-gradient(135deg, #4facfe, #00f2fe)",type:"hotline"}]),d=h([{id:1,title:"新人专享大礼包",description:"注册即送1000积分+专属优惠券",icon:"🎁",tag:"限时",action:"立即领取",type:"newbie_gift"},{id:2,title:"每日签到奖励",description:"连续签到7天送神秘大奖",icon:"📅",tag:"每日",action:"去签到",type:"daily_checkin"},{id:3,title:"生日专属福利",description:"生日当月享受专属折扣",icon:"🎂",tag:"专属",action:"查看详情",type:"birthday_benefit"},{id:4,title:"邀请好友奖励",description:"邀请好友注册双方都有奖",icon:"👥",tag:"双赢",action:"邀请好友",type:"invite_reward"}]),n=h([{id:1,title:"VIP专属客服",description:"7x24小时专属服务",icon:"service-o",gradient:"linear-gradient(135deg, #667eea, #764ba2)",type:"vip_service"},{id:2,title:"免费提现",description:"每月10次免费提现",icon:"gold-coin-o",gradient:"linear-gradient(135deg, #f9ca24, #f0932b)",type:"free_withdrawal"},{id:3,title:"积分翻倍",description:"消费积分双倍奖励",icon:"fire-o",gradient:"linear-gradient(135deg, #ff6b6b, #ee5a24)",type:"double_points"},{id:4,title:"专属理财",description:"高收益理财产品",icon:"diamond-o",gradient:"linear-gradient(135deg, #6c5ce7, #a29bfe)",type:"exclusive_finance"}]),a=h([{id:1,name:"别克",logo:"🚗"},{id:2,name:"奔驰",logo:"🚙"},{id:3,name:"大众",logo:"🚐"},{id:4,name:"本田",logo:"🚕"},{id:5,name:"凯迪拉克",logo:"🚖"},{id:6,name:"雪佛兰",logo:"🚗"}]),_=h([{id:1,title:"看车有礼",description:"到店看车享好礼",icon:"gift-o",type:"car_gift"},{id:2,title:"优惠购车",description:"超值优惠购新车",icon:"discount",type:"car_discount"}]),y=h([{id:1,title:"权益洗车",description:"洗车更优惠",icon:"fire-o",type:"car_wash"},{id:2,title:"停车缴费",description:"扫码缴费",icon:"scan",type:"parking"},{id:3,title:"机场贵宾服务",description:"享贵宾礼遇",icon:"gem-o",type:"airport_vip"}]),m=h([{id:1,title:"粉丝福利社",description:"专属福利",icon:"star-o",gradient:"linear-gradient(135deg, #FF6B6B, #FF8E8E)",type:"fans"},{id:2,title:"领券中心",description:"优惠券",icon:"coupon-o",gradient:"linear-gradient(135deg, #4ECDC4, #44A08D)",type:"coupon"},{id:3,title:"付款码",description:"快速支付",icon:"qr",gradient:"linear-gradient(135deg, #45B7D1, #96C93D)",type:"qr_pay"},{id:4,title:"电影票",description:"优惠购票",icon:"video-o",gradient:"linear-gradient(135deg, #F093FB, #F5576C)",type:"movie"},{id:5,title:"话费充值",description:"快速充值",icon:"phone-o",gradient:"linear-gradient(135deg, #4FACFE, #00F2FE)",type:"recharge"},{id:6,title:"医保码",description:"医保支付",icon:"certificate",gradient:"linear-gradient(135deg, #43E97B, #38F9D7)",type:"medical"},{id:7,title:"中小学学费",description:"在线缴费",icon:"certificate",gradient:"linear-gradient(135deg, #FA709A, #FEE140)",type:"tuition"},{id:8,title:"学生儿童医保",description:"医保服务",icon:"like-o",gradient:"linear-gradient(135deg, #A8EDEA, #FED6E3)",type:"student_medical"},{id:9,title:"全部菜单",description:"更多服务",icon:"ellipsis",gradient:"linear-gradient(135deg, #D299C2, #FEF9D7)",type:"more"}]),g=V=>{A(`搜索: ${V}`)},w=V=>{A(`切换到分类: ${V}`)},C=V=>{A(`点击了: ${V.title||V.type}`)},$=V=>{A(`选择品牌: ${V.name}`)},D=()=>{console.log("生活页面数据刷新")};return te(()=>{D()}),pe(()=>{D()}),(V,b)=>{const B=S("van-search"),M=S("van-icon"),O=S("van-tab"),k=S("van-tabs"),I=S("van-grid-item"),q=S("van-grid"),E=S("van-button");return c(),f("div",nn,[e("div",on,[e("div",an,[u(B,{modelValue:s.value,"onUpdate:modelValue":b[0]||(b[0]=o=>s.value=o),placeholder:"请输入搜索内容",shape:"round",background:"transparent",onSearch:g,class:"nav-search"},null,8,["modelValue"]),e("div",ln,[u(M,{name:"scan",size:"20",onClick:b[1]||(b[1]=o=>J(A)("扫一扫"))}),u(M,{name:"service-o",size:"20",onClick:b[2]||(b[2]=o=>J(A)("客服"))}),u(M,{name:"add-o",size:"20",onClick:b[3]||(b[3]=o=>J(A)("添加"))})])])]),e("div",rn,[e("div",dn,[u(k,{active:t.value,"onUpdate:active":b[4]||(b[4]=o=>t.value=o),onChange:w},{default:T(()=>[u(O,{title:"生活缴费"}),u(O,{title:"政务民生"}),u(O,{title:"粉丝福利"})]),_:1},8,["active"])]),t.value===0?(c(),f("div",cn,[u(q,{"column-num":2,gutter:16,class:"payment-grid"},{default:T(()=>[(c(!0),f(R,null,N(i.value,o=>(c(),W(I,{key:o.id,onClick:x=>C(o)},{default:T(()=>[e("div",un,[e("div",vn,r(o.icon),1),e("div",pn,[e("h3",null,r(o.title),1),e("p",null,r(o.description),1)])])]),_:2},1032,["onClick"]))),128))]),_:1})])):U("",!0),t.value===1?(c(),f("div",mn,[b[6]||(b[6]=e("div",{class:"section-header"},[e("h2",null,"🏛️ 政务服务")],-1)),u(q,{"column-num":2,gutter:16,class:"government-grid"},{default:T(()=>[(c(!0),f(R,null,N(p.value,o=>(c(),W(I,{key:o.id,onClick:x=>C(o)},{default:T(()=>[e("div",fn,[e("div",gn,r(o.icon),1),e("div",_n,[e("h3",null,r(o.title),1),e("p",null,r(o.description),1)])])]),_:2},1032,["onClick"]))),128))]),_:1}),b[7]||(b[7]=e("div",{class:"section-header"},[e("h2",null,"🏥 民生服务")],-1)),u(q,{"column-num":3,gutter:12,class:"livelihood-grid"},{default:T(()=>[(c(!0),f(R,null,N(l.value,o=>(c(),W(I,{key:o.id,onClick:x=>C(o)},{default:T(()=>[e("div",hn,[e("div",{class:"livelihood-icon",style:ae({background:o.gradient})},[u(M,{name:o.icon,size:"20",color:"white"},null,8,["name"])],4),e("span",null,r(o.title),1)])]),_:2},1032,["onClick"]))),128))]),_:1})])):U("",!0),t.value===2?(c(),f("div",yn,[b[8]||(b[8]=e("div",{class:"benefits-banner"},[e("div",{class:"banner-content"},[e("h2",null,"🎉 粉丝专属福利"),e("p",null,"感谢您的支持，专属福利等您来领！")])],-1)),b[9]||(b[9]=e("div",{class:"section-header"},[e("h2",null,"🎁 限时福利")],-1)),e("div",bn,[(c(!0),f(R,null,N(d.value,o=>(c(),f("div",{key:o.id,class:"benefit-card",onClick:x=>C(o)},[e("div",wn,r(o.icon),1),e("div",$n,[e("h3",null,r(o.title),1),e("p",null,r(o.description),1),e("div",xn,r(o.tag),1)]),e("div",Cn,[u(E,{size:"small",type:"primary"},{default:T(()=>[X(r(o.action),1)]),_:2},1024)])],8,kn))),128))]),b[10]||(b[10]=e("div",{class:"section-header"},[e("h2",null,"🏆 会员特权")],-1)),u(q,{"column-num":2,gutter:16,class:"privilege-grid"},{default:T(()=>[(c(!0),f(R,null,N(n.value,o=>(c(),W(I,{key:o.id,onClick:x=>C(o)},{default:T(()=>[e("div",Pn,[e("div",{class:"privilege-icon",style:ae({background:o.gradient})},[u(M,{name:o.icon,size:"24",color:"white"},null,8,["name"])],4),e("h3",null,r(o.title),1),e("p",null,r(o.description),1)])]),_:2},1032,["onClick"]))),128))]),_:1})])):U("",!0),t.value===0?(c(),f("div",Tn,[e("div",Sn,[e("div",In,[b[11]||(b[11]=e("h2",null,"汽车服务",-1)),u(M,{name:"arrow"})]),e("div",Dn,[e("div",Ln,[b[12]||(b[12]=e("h3",null,"「营速2024」",-1)),b[13]||(b[13]=e("p",null,"内卷的尽头是抽象？",-1)),e("div",An,[(c(),f(R,null,N(4,o=>e("span",{key:o,class:"star"},"✨")),64))])])]),e("div",En,[(c(!0),f(R,null,N(a.value,o=>(c(),f("div",{key:o.id,class:"brand-item",onClick:x=>$(o)},[e("div",Rn,r(o.logo),1),e("span",null,r(o.name),1)],8,Vn))),128))]),u(q,{"column-num":2,gutter:16,class:"car-services"},{default:T(()=>[(c(!0),f(R,null,N(_.value,o=>(c(),W(I,{key:o.id,onClick:x=>C(o)},{default:T(()=>[e("div",Nn,[e("div",Bn,[u(M,{name:o.icon,size:"24"},null,8,["name"])]),e("h4",null,r(o.title),1),e("p",null,r(o.description),1)])]),_:2},1032,["onClick"]))),128))]),_:1})]),e("div",Fn,[b[15]||(b[15]=e("div",{class:"section-header"},[e("h2",null,"出行礼遇")],-1)),e("div",Un,[e("div",{class:"travel-main-card",onClick:b[5]||(b[5]=o=>C({type:"metro"}))},[b[14]||(b[14]=e("div",{class:"card-content"},[e("h3",null,"地铁公交"),e("p",null,"绿色出行，随机立减")],-1)),e("div",Mn,[u(M,{name:"logistics",size:"40",color:"#4A90E2"})])]),e("div",On,[(c(!0),f(R,null,N(y.value,o=>(c(),f("div",{key:o.id,class:"travel-card",onClick:x=>C(o)},[e("div",qn,[u(M,{name:o.icon,size:"20"},null,8,["name"])]),e("h4",null,r(o.title),1),e("p",null,r(o.description),1)],8,zn))),128))])])]),e("div",Kn,[u(q,{"column-num":5,gutter:12,class:"convenience-grid"},{default:T(()=>[(c(!0),f(R,null,N(m.value,o=>(c(),W(I,{key:o.id,onClick:x=>C(o)},{default:T(()=>[e("div",Yn,[e("div",{class:"convenience-icon",style:ae({background:o.gradient})},[u(M,{name:o.icon,size:"20",color:"white"},null,8,["name"])],4),e("span",null,r(o.title),1)])]),_:2},1032,["onClick"]))),128))]),_:1})])])):U("",!0)]),u(de)])}}},Hn=Y(jn,[["__scopeId","data-v-13bc8d54"]]);const Wn={class:"login-page"},Zn={class:"status-bar"},Gn={class:"time"},Jn={class:"main-content"},Xn={class:"logo-section"},Qn={class:"app-title"},eo={class:"app-subtitle"},to={class:"form-container"},so={class:"input-wrapper"},no=["disabled"],oo={key:0,class:"error-message"},ao={class:"input-wrapper"},io=["type","disabled"],lo={key:0,class:"error-message"},ro={class:"checkbox-group"},co={class:"checkbox-label"},uo=["disabled"],vo={key:0},po={key:1,class:"loading-spinner"},mo={class:"quick-actions"},fo={key:0,class:"biometric-section"},go={class:"biometric-icon"},_o={class:"footer"},ho={class:"version"},yo={__name:"Login",setup(v){const t=le(),s=re(),i=h(""),p=h(!1),l=h(""),d=h(!1),n=h(!1),a=h(!1),_=h(!0),y=h("face"),m=Q({username:"",password:""}),g=Q({username:"",password:""}),w=Q({show:!1,message:"",type:"success"}),C=Q({title:"CC银行",subtitle:"一网通用户登录",version:"v8.8.8"}),$=h(null),D=h(null),V=ne(()=>m.username.length>0&&m.password.length>0&&!g.username&&!g.password),b=()=>{const z=new Date;i.value=z.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})},B=z=>{switch(z){case"username":return!m.username||m.username.trim()===""?(g.username="请输入用户名",!1):(g.username="",!0);case"password":return!m.password||m.password.trim()===""?(g.password="请输入密码",!1):(g.password="",!0);default:return!0}},M=z=>{l.value=z},O=z=>{l.value="",B(z)},k=z=>{g[z]=""},I=z=>{m[z]="",k(z)},q=()=>{d.value=!d.value},E=(z,P="success")=>{w.message=z,w.type=P,w.show=!0,setTimeout(()=>{w.show=!1},3e3)},o=async()=>{const z=B("username"),P=B("password");if(!z||!P){E("请检查输入信息","error");return}a.value=!0;try{const j=await Z.login({username:m.username,password:m.password});n.value?localStorage.setItem("rememberedPassword",m.password):localStorage.removeItem("rememberedPassword");const $e=s.query.redirect||"/home";setTimeout(()=>{t.push($e)},1e3)}catch(j){console.error("Login failed:",j)}finally{a.value=!1}},x=()=>{E(`${y.value==="face"?"Face ID":"Touch ID"}登录功能`,"warning")},oe=()=>{E("忘记密码功能","warning")},L=()=>{E("注册账户功能","warning")};let ce=null;return te(()=>{setTimeout(()=>{p.value=!0},500),b(),ce=setInterval(b,1e3);const z=localStorage.getItem("rememberedPassword");z&&(m.password=z,n.value=!0),Pe(()=>{$.value&&$.value.focus()})}),me(()=>{ce&&clearInterval(ce)}),(z,P)=>(c(),f("div",Wn,[e("div",Zn,[e("span",Gn,r(i.value),1),P[10]||(P[10]=e("div",{class:"indicators"},[e("span",{class:"signal"},"📶"),e("span",{class:"wifi"},"📶"),e("span",{class:"battery"},"🔋")],-1))]),e("div",Jn,[e("div",Xn,[e("div",{class:K(["logo-container",{animate:p.value}])},P[11]||(P[11]=[e("div",{class:"logo-circle"},[e("span",{class:"logo-text"},"C行")],-1)]),2),e("h1",Qn,r(C.title),1),e("p",eo,r(C.subtitle),1)]),e("div",to,[e("form",{onSubmit:ge(o,["prevent"]),class:"login-form"},[e("div",{class:K(["input-group",{error:g.username,focused:l.value==="username"}])},[e("div",so,[P[12]||(P[12]=e("span",{class:"input-icon"},"👤",-1)),H(e("input",{ref_key:"usernameInput",ref:$,"onUpdate:modelValue":P[0]||(P[0]=j=>m.username=j),type:"text",placeholder:"请输入用户名",class:"form-input",disabled:a.value,onFocus:P[1]||(P[1]=j=>M("username")),onBlur:P[2]||(P[2]=j=>O("username")),onInput:P[3]||(P[3]=j=>k("username"))},null,40,no),[[G,m.username]]),m.username?(c(),f("span",{key:0,class:"clear-btn",onClick:P[4]||(P[4]=j=>I("username"))},"✕")):U("",!0)]),g.username?(c(),f("div",oo,r(g.username),1)):U("",!0)],2),e("div",{class:K(["input-group",{error:g.password,focused:l.value==="password"}])},[e("div",ao,[P[13]||(P[13]=e("span",{class:"input-icon"},"🔒",-1)),H(e("input",{ref_key:"passwordInput",ref:D,"onUpdate:modelValue":P[5]||(P[5]=j=>m.password=j),type:d.value?"text":"password",placeholder:"请输入密码",class:"form-input",disabled:a.value,onFocus:P[6]||(P[6]=j=>M("password")),onBlur:P[7]||(P[7]=j=>O("password")),onInput:P[8]||(P[8]=j=>k("password"))},null,40,io),[[Te,m.password]]),e("span",{class:"toggle-password",onClick:q},r(d.value?"🙈":"👁️"),1)]),g.password?(c(),f("div",lo,r(g.password),1)):U("",!0)],2),e("div",ro,[e("label",co,[H(e("input",{"onUpdate:modelValue":P[9]||(P[9]=j=>n.value=j),type:"checkbox",class:"checkbox"},null,512),[[Se,n.value]]),P[14]||(P[14]=e("span",{class:"checkmark"},null,-1)),P[15]||(P[15]=X(" 记住密码 ",-1))])]),e("button",{type:"submit",class:K(["login-btn",{loading:a.value,disabled:!V.value}]),disabled:!V.value||a.value},[a.value?(c(),f("div",po,P[16]||(P[16]=[e("div",{class:"spinner"},null,-1),e("span",null,"登录中...",-1)]))):(c(),f("span",vo,"登录"))],10,uo)],32),e("div",mo,[e("a",{href:"#",onClick:ge(oe,["prevent"]),class:"action-link"},"忘记密码？"),e("a",{href:"#",onClick:ge(L,["prevent"]),class:"action-link"},"注册账户")]),_.value?(c(),f("div",fo,[P[17]||(P[17]=e("div",{class:"divider"},[e("span",null,"或")],-1)),e("button",{onClick:x,class:"biometric-btn"},[e("span",go,r(y.value==="face"?"👤":"👆"),1),X(" "+r(y.value==="face"?"Face ID登录":"Touch ID登录"),1)])])):U("",!0)])]),e("div",_o,[e("p",ho,"版本 "+r(C.version),1),P[18]||(P[18]=e("p",{class:"copyright"},"© 2024 CC银行股份有限公司",-1))]),u(Ie,{name:"toast"},{default:T(()=>[w.show?(c(),f("div",{key:0,class:K(["toast",w.type])},r(w.message),3)):U("",!0)]),_:1})]))}},bo=Y(yo,[["__scopeId","data-v-4678136e"]]),ko={style:{padding:"20px"}},wo={__name:"InterpolationDemo",setup(v){const t=h("张三"),s=h(""),i=h(!1),p=()=>{i.value=!i.value},l=()=>{console.log("用户名：",t.value),console.log("密码：",s.value),console.log("登录状态：",i.value)};return(d,n)=>(c(),f("div",ko,[n[2]||(n[2]=e("h2",null,"插值表达式演示",-1)),e("p",null,"用户名："+r(t.value),1),e("p",null,"密码长度："+r(s.value.length),1),e("p",null,"是否登录："+r(i.value?"是":"否"),1),e("p",null,"用户名大写："+r(t.value.toUpperCase()),1),n[3]||(n[3]=e("p",null,"计算结果："+r(1+1),-1)),H(e("input",{"onUpdate:modelValue":n[0]||(n[0]=a=>t.value=a),placeholder:"输入用户名"},null,512),[[G,t.value]]),H(e("input",{"onUpdate:modelValue":n[1]||(n[1]=a=>s.value=a),type:"password",placeholder:"输入密码"},null,512),[[G,s.value]]),e("button",{onClick:p},"切换登录状态"),e("button",{onClick:l},"在控制台显示值")]))}},$o={__name:"RefDemo",setup(v){const t=h(""),s=()=>{t.value="张三"},i=()=>{t.value=""};return(p,l)=>(c(),f("div",null,[e("h2",null,"你好，"+r(t.value)+"！",1),e("p",null,"你输入了 "+r(t.value.length)+" 个字符",1),H(e("input",{"onUpdate:modelValue":l[0]||(l[0]=d=>t.value=d),placeholder:"输入你的名字"},null,512),[[G,t.value]]),e("button",{onClick:s},"改成张三"),e("button",{onClick:i},"清空")]))}};const xo={class:"demo-container"},Co={__name:"StyleDemo",setup(v){return(t,s)=>(c(),f("div",xo,s[0]||(s[0]=[ee('<h2 data-v-c18decd7>CSS样式演示</h2><div class="box margin-demo" data-v-c18decd7> 外边距演示 (margin) </div><div class="box padding-demo" data-v-c18decd7> 内边距演示 (padding) </div><div class="box gradient-demo" data-v-c18decd7> 渐变背景演示 </div><div class="flex-demo" data-v-c18decd7><div class="flex-item" data-v-c18decd7>项目1</div><div class="flex-item" data-v-c18decd7>项目2</div><div class="flex-item" data-v-c18decd7>项目3</div></div>',5)])))}},Po=Y(Co,[["__scopeId","data-v-c18decd7"]]),To={style:{padding:"20px"}},So={key:0},Io={key:1},Do={__name:"TemplateVsScript",setup(v){const t=h(""),s=h(""),i=()=>{t.value==="demo"&&s.value==="123456"?alert("登录成功！"):alert("登录失败！")},p=()=>{console.log("用户名：",t.value),console.log("密码：",s.value),console.log("登录条件：",t.value==="demo"&&s.value==="123456")};return(l,d)=>(c(),f("div",To,[d[2]||(d[2]=e("h2",null,"模板 vs JavaScript 的区别",-1)),e("p",null,"用户名："+r(t.value),1),e("p",null,"密码："+r(s.value),1),e("p",null,"用户名是否为demo："+r(t.value==="demo"),1),e("p",null,"密码是否正确："+r(s.value==="123456"),1),e("p",null,"登录条件："+r(t.value==="demo"&&s.value==="123456"),1),H(e("input",{"onUpdate:modelValue":d[0]||(d[0]=n=>t.value=n),placeholder:"用户名"},null,512),[[G,t.value]]),H(e("input",{"onUpdate:modelValue":d[1]||(d[1]=n=>s.value=n),type:"password",placeholder:"密码"},null,512),[[G,s.value]]),e("button",{onClick:i},"检查登录条件"),e("button",{onClick:p},"在控制台显示"),t.value==="demo"&&s.value==="123456"?(c(),f("div",So," ✅ 登录条件满足！ ")):(c(),f("div",Io," ❌ 登录条件不满足 "))]))}};const Lo={class:"card-header"},Ao={class:"bank-name"},Eo={class:"card-type"},Vo={class:"card-number"},Ro={class:"card-footer"},No={class:"balance"},Bo={class:"amount"},Fo={__name:"BankCard",props:{bankName:{type:String,default:"CC银行"},cardNumber:{type:String,required:!0},cardType:{type:String,default:"savings",validator:v=>["savings","credit","debit"].includes(v)},balance:{type:Number,default:0}},emits:["transfer","showDetails"],setup(v,{emit:t}){const s=v,i=t,p=h(!1),l=ne(()=>({savings:"储蓄卡",credit:"信用卡",debit:"借记卡"})[s.cardType]||"银行卡"),d=ne(()=>s.cardNumber?`**** **** **** ${s.cardNumber.replace(/\s/g,"").slice(-4)}`:""),n=ne(()=>s.balance.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})),a=()=>{p.value=!0,i("transfer",{cardNumber:s.cardNumber,cardType:s.cardType}),setTimeout(()=>{p.value=!1},1e3)},_=()=>{i("showDetails",{cardNumber:s.cardNumber,balance:s.balance})};return(y,m)=>(c(),f("div",{class:K(["bank-card",v.cardType])},[e("div",Lo,[e("span",Ao,r(v.bankName),1),e("span",Eo,r(l.value),1)]),e("div",Vo,r(d.value),1),e("div",Ro,[e("div",No,[m[0]||(m[0]=e("span",{class:"label"},"可用余额",-1)),e("span",Bo,"¥"+r(n.value),1)]),e("div",{class:"actions"},[e("button",{onClick:a,class:"action-btn"},"转账"),e("button",{onClick:_,class:"action-btn"},"详情")])])],2))}},_e=Y(Fo,[["__scopeId","data-v-be33502f"]]);const Uo={class:"component-demo"},Mo={class:"demo-section"},Oo={class:"cards-container"},zo={class:"interaction-section"},qo={class:"interaction-log"},Ko={class:"log-list"},Yo={class:"timestamp"},jo={class:"action"},Ho={class:"details"},Wo={__name:"ComponentDemo",setup(v){const t=h([]),s=(d,n)=>{t.value.unshift({time:new Date().toLocaleTimeString(),action:d,details:n}),t.value.length>10&&(t.value=t.value.slice(0,10))},i=d=>{s("转账操作",`卡号: ${d.cardNumber}, 类型: ${d.cardType}`)},p=d=>{s("查看详情",`卡号: ${d.cardNumber}, 余额: ¥${d.balance.toLocaleString()}`)},l=()=>{t.value=[]};return(d,n)=>(c(),f("div",Uo,[n[3]||(n[3]=ee('<h2 data-v-ae0d76f9>🧩 Vue组件基础演示</h2><div class="theory-section" data-v-ae0d76f9><h3 data-v-ae0d76f9>💡 什么是Vue组件？</h3><div class="explanation" data-v-ae0d76f9><p data-v-ae0d76f9><strong data-v-ae0d76f9>组件</strong>是Vue应用的基础构建块，就像搭积木一样：</p><ul data-v-ae0d76f9><li data-v-ae0d76f9>🏗️ <strong data-v-ae0d76f9>可复用</strong>：一次编写，多处使用</li><li data-v-ae0d76f9>🔧 <strong data-v-ae0d76f9>独立</strong>：有自己的数据、方法、样式</li><li data-v-ae0d76f9>🔗 <strong data-v-ae0d76f9>可组合</strong>：小组件组成大组件</li><li data-v-ae0d76f9>📦 <strong data-v-ae0d76f9>封装性</strong>：内部逻辑对外隐藏</li></ul></div></div>',2)),e("div",Mo,[n[0]||(n[0]=e("h3",null,"🎯 实际演示：银行卡组件",-1)),e("div",Oo,[u(_e,{"bank-name":"CC银行","card-number":"6225 8888 1234 5678","card-type":"savings",balance:128888.88,onTransfer:i,onShowDetails:p}),u(_e,{"bank-name":"CC银行","card-number":"5555 4444 3333 2222","card-type":"credit",balance:5e4,onTransfer:i,onShowDetails:p}),u(_e,{"bank-name":"CC银行","card-number":"6225 1111 9999 8888","card-type":"debit",balance:25680.5,onTransfer:i,onShowDetails:p})])]),e("div",zo,[n[2]||(n[2]=e("h3",null,"🔄 组件交互演示",-1)),e("div",qo,[n[1]||(n[1]=e("h4",null,"操作日志：",-1)),e("div",Ko,[(c(!0),f(R,null,N(t.value,(a,_)=>(c(),f("div",{key:_,class:"log-item"},[e("span",Yo,r(a.time),1),e("span",jo,r(a.action),1),e("span",Ho,r(a.details),1)]))),128))]),e("button",{onClick:l,class:"clear-btn"},"清空日志")])]),n[4]||(n[4]=ee('<div class="structure-section" data-v-ae0d76f9><h3 data-v-ae0d76f9>🏗️ 组件的三个核心部分</h3><div class="structure-grid" data-v-ae0d76f9><div class="structure-item template" data-v-ae0d76f9><h4 data-v-ae0d76f9>📄 Template（模板）</h4><p data-v-ae0d76f9>定义组件的HTML结构</p><code data-v-ae0d76f9>&lt;template&gt;<br data-v-ae0d76f9>  &lt;div&gt;界面内容&lt;/div&gt;<br data-v-ae0d76f9>&lt;/template&gt;</code></div><div class="structure-item script" data-v-ae0d76f9><h4 data-v-ae0d76f9>⚙️ Script（脚本）</h4><p data-v-ae0d76f9>定义组件的逻辑和数据</p><code data-v-ae0d76f9>&lt;script&gt;<br data-v-ae0d76f9>  export default {<br data-v-ae0d76f9>    // 组件逻辑<br data-v-ae0d76f9>  }<br data-v-ae0d76f9>&lt;/script&gt;</code></div><div class="structure-item style" data-v-ae0d76f9><h4 data-v-ae0d76f9>🎨 Style（样式）</h4><p data-v-ae0d76f9>定义组件的外观样式</p><code data-v-ae0d76f9>&lt;style scoped&gt;<br data-v-ae0d76f9>  .component {<br data-v-ae0d76f9>    /* 样式 */<br data-v-ae0d76f9>  }<br data-v-ae0d76f9>&lt;/style&gt;</code></div></div></div><div class="lifecycle-section" data-v-ae0d76f9><h3 data-v-ae0d76f9>🔄 组件生命周期</h3><div class="lifecycle-flow" data-v-ae0d76f9><div class="lifecycle-step" data-v-ae0d76f9><div class="step-icon" data-v-ae0d76f9>🚀</div><div class="step-content" data-v-ae0d76f9><h4 data-v-ae0d76f9>创建阶段</h4><p data-v-ae0d76f9>setup() → 初始化数据</p></div></div><div class="lifecycle-arrow" data-v-ae0d76f9>→</div><div class="lifecycle-step" data-v-ae0d76f9><div class="step-icon" data-v-ae0d76f9>📱</div><div class="step-content" data-v-ae0d76f9><h4 data-v-ae0d76f9>挂载阶段</h4><p data-v-ae0d76f9>onMounted() → 渲染到页面</p></div></div><div class="lifecycle-arrow" data-v-ae0d76f9>→</div><div class="lifecycle-step" data-v-ae0d76f9><div class="step-icon" data-v-ae0d76f9>🔄</div><div class="step-content" data-v-ae0d76f9><h4 data-v-ae0d76f9>更新阶段</h4><p data-v-ae0d76f9>数据变化 → 重新渲染</p></div></div><div class="lifecycle-arrow" data-v-ae0d76f9>→</div><div class="lifecycle-step" data-v-ae0d76f9><div class="step-icon" data-v-ae0d76f9>🗑️</div><div class="step-content" data-v-ae0d76f9><h4 data-v-ae0d76f9>销毁阶段</h4><p data-v-ae0d76f9>onUnmounted() → 清理资源</p></div></div></div></div>',2))]))}},Zo=Y(Wo,[["__scopeId","data-v-ae0d76f9"]]);const Go={class:"demo-container"},Jo={class:"input-section"},Xo={class:"result-section"},Qo={__name:"ComputedVsMethod",setup(v){const t=h("张"),s=h("三"),i=h(0),p=h(0),l=ne(()=>(i.value++,console.log("计算属性被调用了！"),`${t.value}${s.value}`)),d=()=>(p.value++,console.log("方法被调用了！"),`${t.value}${s.value}`);return(n,a)=>(c(),f("div",Go,[a[7]||(a[7]=e("h2",null,"计算属性 vs 方法的区别",-1)),e("div",Jo,[H(e("input",{"onUpdate:modelValue":a[0]||(a[0]=_=>t.value=_),placeholder:"姓"},null,512),[[G,t.value]]),H(e("input",{"onUpdate:modelValue":a[1]||(a[1]=_=>s.value=_),placeholder:"名"},null,512),[[G,s.value]])]),e("div",Xo,[a[2]||(a[2]=e("h3",null,"1. 计算属性 (Computed Property)",-1)),e("p",null,"全名: "+r(l.value),1),e("p",null,"全名: "+r(l.value),1),e("p",null,"全名: "+r(l.value),1),a[3]||(a[3]=e("small",null,"👆 多次访问，但只计算一次（有缓存）",-1)),a[4]||(a[4]=e("h3",null,"2. 方法 (Method)",-1)),e("p",null,"全名: "+r(d()),1),e("p",null,"全名: "+r(d()),1),e("p",null,"全名: "+r(d()),1),a[5]||(a[5]=e("small",null,"👆 每次访问都重新计算（无缓存）",-1)),a[6]||(a[6]=e("h3",null,"3. 性能对比",-1)),e("p",null,"计算属性调用次数: "+r(i.value),1),e("p",null,"方法调用次数: "+r(p.value),1)]),a[8]||(a[8]=ee('<div class="explanation" data-v-8da02685><h3 data-v-8da02685>为什么叫&quot;计算属性&quot;？</h3><ul data-v-8da02685><li data-v-8da02685><strong data-v-8da02685>访问方式像属性：</strong> fullNameComputed（无括号）</li><li data-v-8da02685><strong data-v-8da02685>行为像属性：</strong> 有缓存，依赖不变时不重新计算</li><li data-v-8da02685><strong data-v-8da02685>声明像属性：</strong> const fullName = computed(...)</li></ul><h3 data-v-8da02685>与方法的区别：</h3><ul data-v-8da02685><li data-v-8da02685><strong data-v-8da02685>方法访问：</strong> fullNameMethod()（有括号）</li><li data-v-8da02685><strong data-v-8da02685>方法行为：</strong> 每次调用都执行</li><li data-v-8da02685><strong data-v-8da02685>方法声明：</strong> const fullNameMethod = () =&gt; {...}</li></ul></div>',1))]))}},ea=Y(Qo,[["__scopeId","data-v-8da02685"]]);const ta={class:"lifecycle-demo"},sa={class:"controls"},na={class:"data-display"},oa={key:0,class:"child-component"},aa={class:"logs"},ia={class:"log-container"},la={class:"log-time"},ra={class:"log-hook"},da={class:"log-message"},ca={__name:"LifecycleDemo",setup(v){const t=h(0),s=h("Hello Vue!"),i=h(!1),p=h([]),l=(y,m,g="parent")=>{p.value.push({hook:y,message:m,type:g,time:new Date().toLocaleTimeString()})};l("setup()","组件创建，响应式数据初始化"),De(()=>{l("onBeforeMount","组件即将挂载到DOM，模板编译完成但未渲染")}),te(()=>{l("onMounted","组件已挂载到DOM，可以访问DOM元素")}),Le(()=>{l("onBeforeUpdate","响应式数据变化，DOM即将更新")}),Ae(()=>{l("onUpdated","DOM已更新完成")}),Ee(()=>{l("onBeforeUnmount","组件即将卸载，清理工作的最佳时机")}),me(()=>{l("onUnmounted","组件已卸载，所有子组件也已卸载")}),pe(()=>{l("onActivated","Keep-alive组件被激活")}),Ve(()=>{l("onDeactivated","Keep-alive组件被停用")}),Re((y,m,g)=>(l("onErrorCaptured",`捕获到错误: ${y.message}`,"error"),!1)),Ne(y=>{l("onRenderTracked",`追踪到依赖: ${y.key}`,"debug")}),Be(y=>{l("onRenderTriggered",`触发重新渲染: ${y.key}`,"debug")}),we(t,(y,m)=>{l("watch",`计数器从 ${m} 变为 ${y}`,"watch")}),Fe(()=>{t.value>0&&l("watchEffect",`watchEffect执行，计数器: ${t.value}`,"watch")});const d=()=>{i.value=!i.value},n=()=>{t.value++,s.value=`更新了 ${t.value} 次`},a=()=>{l("forceUpdate","手动触发强制更新","manual")},_=()=>{p.value=[]};return(y,m)=>(c(),f("div",ta,[m[5]||(m[5]=e("h2",null,"🔄 生命周期钩子演示",-1)),e("div",sa,[e("button",{onClick:n},"更新数据 ("+r(t.value)+")",1),e("button",{onClick:d},r(i.value?"隐藏":"显示")+"子组件",1),e("button",{onClick:a},"强制更新"),e("button",{onClick:_},"清空日志")]),e("div",na,[e("p",null,[m[0]||(m[0]=e("strong",null,"计数器:",-1)),X(" "+r(t.value),1)]),e("p",null,[m[1]||(m[1]=e("strong",null,"消息:",-1)),X(" "+r(s.value),1)])]),i.value?(c(),f("div",oa,[m[2]||(m[2]=e("h4",null,"子组件",-1)),e("p",null,"接收到的计数器: "+r(t.value),1),m[3]||(m[3]=e("p",null,"我是子组件的数据",-1))])):U("",!0),e("div",aa,[m[4]||(m[4]=e("h3",null,"生命周期日志",-1)),e("div",ia,[(c(!0),f(R,null,N(p.value,(g,w)=>(c(),f("div",{key:w,class:K(["log-item",`log-${g.type}`])},[e("span",la,r(g.time),1),e("span",ra,r(g.hook),1),e("span",da,r(g.message),1)],2))),128))])])]))}},ua=Y(ca,[["__scopeId","data-v-dde61e6c"]]);const va={class:"render-demo"},pa={class:"demo-section"},ma={class:"demo-content"},fa={class:"demo-section"},ga={class:"demo-content"},_a={class:"demo-section"},ha={class:"demo-content"},ya={class:"card-grid"},ba={class:"demo-section"},ka={class:"demo-content"},wa={__name:"RenderDemo",setup(v){const t={props:["level","text"],render(){return F(`h${this.level}`,{class:"dynamic-heading",style:{color:"#667eea",fontSize:`${2.5-this.level*.3}rem`,margin:"8px 0"}},this.text)}},s={props:["status","amount"],render(){const n={success:{color:"#28a745",icon:"✅",text:"交易成功"},pending:{color:"#ffc107",icon:"⏳",text:"处理中"},failed:{color:"#dc3545",icon:"❌",text:"交易失败"}}[this.status];return F("div",{class:"transaction-status",style:{display:"flex",alignItems:"center",padding:"12px 16px",backgroundColor:`${n.color}15`,border:`2px solid ${n.color}30`,borderRadius:"8px",margin:"8px 0"}},[F("span",{style:{fontSize:"20px",marginRight:"8px"}},n.icon),F("div",[F("div",{style:{fontWeight:"bold",color:n.color}},n.text),F("div",{style:{fontSize:"14px",color:"#666"}},`金额: ¥${this.amount}`)])])}},i={props:["type"],render(){const n={credit:{name:"信用卡",icon:"💳",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",features:["透支消费","分期付款","积分奖励"]},debit:{name:"借记卡",icon:"🏦",gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",features:["即时扣款","ATM取现","转账汇款"]},savings:{name:"储蓄卡",icon:"💰",gradient:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",features:["定期存款","活期存款","理财产品"]}}[this.type];return F("div",{class:"bank-card-type",style:{background:n.gradient,color:"white",padding:"20px",borderRadius:"12px",margin:"10px 0",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}},[F("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"}},[F("span",{style:{fontSize:"24px",marginRight:"8px"}},n.icon),F("h4",{style:{margin:"0",fontSize:"18px"}},n.name)]),F("ul",{style:{margin:"0",paddingLeft:"20px"}},n.features.map(a=>F("li",{style:{marginBottom:"4px"}},a)))])}},p={props:["menuData"],render(){const d=n=>n.children&&n.children.length>0?F("li",{style:{marginBottom:"8px"}},[F("div",{style:{fontWeight:"bold",color:"#667eea",marginBottom:"4px",cursor:"pointer"}},[F("span","📁 "),F("span",n.name)]),F("ul",{style:{marginLeft:"20px",borderLeft:"2px solid #f0f0f0",paddingLeft:"12px"}},n.children.map(d))]):F("li",{style:{marginBottom:"4px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px",transition:"background-color 0.2s"},onMouseenter:a=>{a.target.style.backgroundColor="#f8f9fa"},onMouseleave:a=>{a.target.style.backgroundColor="transparent"}},[F("span","📄 "),F("span",n.name)]);return F("ul",{style:{listStyle:"none",padding:"0",border:"1px solid #e8e8e8",borderRadius:"8px",padding:"16px",backgroundColor:"#fafafa"}},this.menuData.map(d))}},l=h([{name:"账户服务",children:[{name:"余额查询"},{name:"交易明细"},{name:"账户设置"}]},{name:"转账汇款",children:[{name:"行内转账"},{name:"跨行转账"},{name:"国际汇款"}]},{name:"理财服务",children:[{name:"定期存款"},{name:"基金投资"},{name:"保险产品"}]},{name:"信用卡服务",children:[{name:"账单查询"},{name:"还款服务"},{name:"积分兑换"}]}]);return(d,n)=>(c(),f("div",va,[n[8]||(n[8]=e("div",{class:"demo-header"},[e("h2",null,"渲染函数演示"),e("p",null,"使用 Vue 3 的 h() 函数创建动态组件")],-1)),e("div",pa,[n[0]||(n[0]=e("h3",null,"1. 动态标题组件",-1)),n[1]||(n[1]=e("p",null,"根据 level 属性动态生成不同级别的标题",-1)),e("div",ma,[u(t,{level:1,text:"一级标题"}),u(t,{level:2,text:"二级标题"}),u(t,{level:3,text:"三级标题"}),u(t,{level:4,text:"四级标题"})])]),e("div",fa,[n[2]||(n[2]=e("h3",null,"2. 交易状态组件",-1)),n[3]||(n[3]=e("p",null,"根据状态动态渲染不同样式的交易信息",-1)),e("div",ga,[u(s,{status:"success",amount:"1000.00"}),u(s,{status:"pending",amount:"500.50"}),u(s,{status:"failed",amount:"200.00"})])]),e("div",_a,[n[4]||(n[4]=e("h3",null,"3. 银行卡类型组件",-1)),n[5]||(n[5]=e("p",null,"根据卡片类型渲染不同的卡片样式",-1)),e("div",ha,[e("div",ya,[u(i,{type:"credit"}),u(i,{type:"debit"}),u(i,{type:"savings"})])])]),e("div",ba,[n[6]||(n[6]=e("h3",null,"4. 菜单树组件",-1)),n[7]||(n[7]=e("p",null,"递归渲染树形菜单结构",-1)),e("div",ka,[u(p,{menuData:l.value},null,8,["menuData"])])])]))}},$a=Y(wa,[["__scopeId","data-v-ddcf00ec"]]);async function ie(v,t={}){try{const s=await fetch(v,{headers:{"Content-Type":"application/json",...t.headers},...t});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){throw console.error("API请求失败:",s),s}}const be={async getUserProfile(v){return ie(`/api/users/${v}/profile`)},async updateUserProfile(v,t){return ie(`/api/users/${v}/profile`,{method:"PUT",body:JSON.stringify(t)})}},ke={async getAccountBalance(v){return ie(`/bank-api/accounts/${v}/balance`)},async transfer(v,t,s){return ie("/bank-api/transfer",{method:"POST",body:JSON.stringify({from:v,to:t,amount:s})})}},xa={async login(v,t){return ie("/auth/login",{method:"POST",body:JSON.stringify({username:v,password:t})})},async register(v){return ie("/auth/register",{method:"POST",body:JSON.stringify(v)})}};function Ca(){try{const v=new WebSocket("ws://localhost:8080/socket.io");return v.onopen=()=>{console.log("WebSocket连接成功")},v.onclose=()=>{console.log("WebSocket连接断开")},v.onerror=t=>{console.error("WebSocket连接错误:",t)},v}catch(v){return console.error("创建WebSocket连接失败:",v),null}}const Pa={class:"proxy-demo"},Ta={class:"section"},Sa={key:0},Ia=["disabled"],Da={class:"section"},La={key:0},Aa=["disabled"],Ea={class:"section"},Va={class:"auth-form"},Ra=["disabled"],Na={class:"section"},Ba={key:0,class:"error"},Fa={__name:"ProxyDemo",setup(v){const t=h(null),s=h(null),i=h(""),p=h("未连接"),l=h(!1);let d=null;const n=Q({user:!1,bank:!1,auth:!1}),a=Q({username:"",password:""}),_=async()=>{n.user=!0,i.value="";try{t.value=await be.getUserProfile("123")}catch($){i.value=`加载用户信息失败: ${$.message}`}finally{n.user=!1}},y=async()=>{try{const $={email:"new-email@example.com",phone:"13800138000"};await be.updateUserProfile("123",$),await _()}catch($){i.value=`更新用户信息失败: ${$.message}`}},m=async()=>{n.bank=!0,i.value="";try{const $=await ke.getAccountBalance("456");s.value=$.balance}catch($){i.value=`查询余额失败: ${$.message}`}finally{n.bank=!1}},g=async()=>{try{const $=await ke.transfer("456","789",100);console.log("转账成功:",$),await m()}catch($){i.value=`转账失败: ${$.message}`}},w=async()=>{if(!a.username||!a.password){i.value="请输入用户名和密码";return}n.auth=!0,i.value="";try{const $=await xa.login(a.username,a.password);console.log("登录成功:",$),a.username="",a.password=""}catch($){i.value=`登录失败: ${$.message}`}finally{n.auth=!1}},C=()=>{l.value?d&&(d.disconnect(),d=null):(d=Ca(),d.on("connect",()=>{p.value="已连接",l.value=!0}),d.on("disconnect",()=>{p.value="已断开",l.value=!1}),d.on("error",$=>{p.value=`连接错误: ${$.message}`,l.value=!1}))};return te(()=>{console.log("Proxy Demo组件已挂载"),console.log("可用的代理路径:"),console.log("- /api -> http://localhost:8080"),console.log("- /bank-api -> https://api.bank.example.com/v1"),console.log("- /auth -> http://localhost:3001"),console.log("- /socket.io -> ws://localhost:8080")}),me(()=>{d&&d.disconnect()}),($,D)=>(c(),f("div",Pa,[D[6]||(D[6]=e("h2",null,"Proxy使用示例",-1)),e("div",Ta,[D[2]||(D[2]=e("h3",null,"用户信息 (使用 /api 代理)",-1)),t.value?(c(),f("div",Sa,[e("p",null,"用户名: "+r(t.value.username),1),e("p",null,"邮箱: "+r(t.value.email),1),e("button",{onClick:y},"更新资料")])):U("",!0),e("button",{onClick:_,disabled:n.user},r(n.user?"加载中...":"加载用户信息"),9,Ia)]),e("div",Da,[D[3]||(D[3]=e("h3",null,"银行信息 (使用 /bank-api 代理)",-1)),s.value?(c(),f("div",La,[e("p",null,"账户余额: ¥"+r(s.value.toLocaleString()),1),e("button",{onClick:g},"转账测试")])):U("",!0),e("button",{onClick:m,disabled:n.bank},r(n.bank?"加载中...":"查询余额"),9,Aa)]),e("div",Ea,[D[4]||(D[4]=e("h3",null,"用户认证 (使用 /auth 代理)",-1)),e("div",Va,[H(e("input",{"onUpdate:modelValue":D[0]||(D[0]=V=>a.username=V),placeholder:"用户名"},null,512),[[G,a.username]]),H(e("input",{"onUpdate:modelValue":D[1]||(D[1]=V=>a.password=V),type:"password",placeholder:"密码"},null,512),[[G,a.password]]),e("button",{onClick:w,disabled:n.auth},r(n.auth?"登录中...":"登录"),9,Ra)])]),e("div",Na,[D[5]||(D[5]=e("h3",null,"WebSocket连接 (使用 /socket.io 代理)",-1)),e("p",null,"连接状态: "+r(p.value),1),e("button",{onClick:C},r(l.value?"断开连接":"连接WebSocket"),1)]),i.value?(c(),f("div",Ba," 错误: "+r(i.value),1)):U("",!0)]))}},Ua=Y(Fa,[["__scopeId","data-v-4a2d10f7"]]);const Ma={class:"vue-proxy-demo"},Oa={class:"section"},za={class:"demo-card"},qa={key:0,class:"log-section"},Ka={class:"section"},Ya={class:"demo-card"},ja={key:0,class:"log-section"},Ha={class:"section"},Wa={class:"demo-card"},Za={class:"result-display"},Ga={key:0},Ja={class:"section"},Xa={class:"demo-card"},Qa={class:"form-demo"},ei={class:"error-messages"},ti={__name:"VueProxyDemo",setup(v){const t=h(0),s=Q({name:"张三",age:25}),i=h([]),p={balance:5e3,status:"active"},l=h([]);let d=0;const n=new Proxy(p,{get(E,o){return q(`读取属性: ${o} = ${E[o]}`,"info"),E[o]},set(E,o,x){if(o==="balance"){if(x<0)return q(`❌ 错误: 余额不能为负数 (尝试设置: ${x})`,"error"),!1;x>1e6&&q(`⚠️ 警告: 余额过高 (${x})`,"warning")}const oe=E[o];return E[o]=x,q(`✅ 设置属性: ${o} = ${x} (原值: ${oe})`,"success"),!0},has(E,o){return q(`检查属性是否存在: ${o}`,"info"),o in E},deleteProperty(E,o){return q(`❌ 尝试删除属性: ${o} (被拒绝)`,"error"),!1}}),a={publicData:"这是公开数据",_privateData:"这是私有数据",secretKey:"top-secret"},_=h(""),y=new Proxy(a,{get(E,o){return typeof o=="string"&&o.startsWith("_")?"❌ 访问被拒绝: 私有属性":o==="secretKey"?"❌ 访问被拒绝: 机密信息":E[o]||"❌ 属性不存在"}}),m=Q({username:"",email:"",age:""}),g=Q({}),w=new Proxy(m,{set(E,o,x){switch(E[o]=x,o){case"username":x.length<3||x.length>20?g.username="用户名长度必须在3-20字符之间":delete g.username;break;case"email":x&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x)?g.email="请输入有效的邮箱地址":delete g.email;break;case"age":const L=parseInt(x);x&&(isNaN(L)||L<18||L>100)?g.age="年龄必须在18-100之间":delete g.age;break}return!0}});we(m,()=>{Object.keys(m).forEach(E=>{w[E]=m[E]})},{deep:!0});const C=()=>{t.value++,I(`计数器增加到: ${t.value}`)},$=()=>{s.age++,s.name=s.name==="张三"?"李四":"张三",I(`用户信息更新: ${s.name}, ${s.age}岁`)},D=()=>{I("Vue 3使用Proxy实现响应式系统，自动追踪依赖变化")},V=()=>{n.balance+=1e3},b=()=>{n.balance-=500},B=()=>{try{n.balance=-100}catch(E){q(`❌ 操作失败: ${E.message}`,"error")}},M=()=>{_.value=y.publicData},O=()=>{_.value=y._privateData},k=()=>{_.value=y.nonExistent},I=E=>{i.value.unshift({id:Date.now(),message:E,time:new Date().toLocaleTimeString()}),i.value.length>5&&i.value.pop()},q=(E,o="info")=>{l.value.unshift({id:++d,message:E,type:o,time:new Date().toLocaleTimeString()}),l.value.length>8&&l.value.pop()};return(E,o)=>(c(),f("div",Ma,[o[15]||(o[15]=e("h2",null,"Vue中的Proxy详解",-1)),e("div",Oa,[o[6]||(o[6]=e("h3",null,"🔥 Vue 3响应式系统（基于Proxy）",-1)),e("div",za,[o[5]||(o[5]=e("h4",null,"响应式数据示例",-1)),e("p",null,[o[3]||(o[3]=X("当前计数: ",-1)),e("strong",null,r(t.value),1)]),e("p",null,"用户信息: "+r(s.name)+" ("+r(s.age)+"岁)",1),e("div",{class:"buttons"},[e("button",{onClick:C},"增加计数"),e("button",{onClick:$},"更新用户"),e("button",{onClick:D},"查看响应式日志")]),i.value.length?(c(),f("div",qa,[o[4]||(o[4]=e("h5",null,"响应式操作日志:",-1)),e("ul",null,[(c(!0),f(R,null,N(i.value,x=>(c(),f("li",{key:x.id},r(x.message),1))),128))])])):U("",!0)])]),e("div",Ka,[o[9]||(o[9]=e("h3",null,"⚡ 手动创建Proxy示例",-1)),e("div",Ya,[o[8]||(o[8]=e("h4",null,"数据验证Proxy",-1)),e("p",null,"银行账户余额: ¥"+r(J(n).balance.toLocaleString()),1),e("p",null,"账户状态: "+r(J(n).status),1),e("div",{class:"buttons"},[e("button",{onClick:V},"存款 ¥1000"),e("button",{onClick:b},"取款 ¥500"),e("button",{onClick:B},"无效操作测试")]),l.value.length?(c(),f("div",ja,[o[7]||(o[7]=e("h5",null,"Proxy操作日志:",-1)),e("ul",null,[(c(!0),f(R,null,N(l.value,x=>(c(),f("li",{key:x.id,class:K(x.type)},r(x.message),3))),128))])])):U("",!0)])]),e("div",Ha,[o[12]||(o[12]=e("h3",null,"🛡️ Proxy拦截器演示",-1)),e("div",Wa,[o[10]||(o[10]=e("h4",null,"属性访问控制",-1)),o[11]||(o[11]=e("p",null,"尝试访问不同的属性:",-1)),e("div",{class:"buttons"},[e("button",{onClick:M},"访问公开属性"),e("button",{onClick:O},"访问私有属性"),e("button",{onClick:k},"访问不存在属性")]),e("div",Za,[_.value?(c(),f("p",Ga,"访问结果: "+r(_.value),1)):U("",!0)])])]),o[16]||(o[16]=ee('<div class="section" data-v-52186c15><h3 data-v-52186c15>📊 Proxy vs Object.defineProperty</h3><div class="comparison-grid" data-v-52186c15><div class="comparison-item" data-v-52186c15><h4 data-v-52186c15>Vue 2 (Object.defineProperty)</h4><ul data-v-52186c15><li data-v-52186c15>只能监听已存在的属性</li><li data-v-52186c15>无法监听数组索引变化</li><li data-v-52186c15>需要递归遍历所有属性</li><li data-v-52186c15>性能开销较大</li></ul></div><div class="comparison-item" data-v-52186c15><h4 data-v-52186c15>Vue 3 (Proxy)</h4><ul data-v-52186c15><li data-v-52186c15>可以监听整个对象</li><li data-v-52186c15>支持数组索引和length变化</li><li data-v-52186c15>支持动态添加属性</li><li data-v-52186c15>性能更好，懒代理</li></ul></div></div></div>',1)),e("div",Ja,[o[14]||(o[14]=e("h3",null,"🎯 实际应用场景",-1)),e("div",Xa,[o[13]||(o[13]=e("h4",null,"表单验证Proxy",-1)),e("div",Qa,[H(e("input",{"onUpdate:modelValue":o[0]||(o[0]=x=>m.username=x),placeholder:"用户名 (3-20字符)",class:K({error:g.username})},null,2),[[G,m.username]]),H(e("input",{"onUpdate:modelValue":o[1]||(o[1]=x=>m.email=x),placeholder:"邮箱地址",class:K({error:g.email})},null,2),[[G,m.email]]),H(e("input",{"onUpdate:modelValue":o[2]||(o[2]=x=>m.age=x),type:"number",placeholder:"年龄 (18-100)",class:K({error:g.age})},null,2),[[G,m.age]]),e("div",ei,[(c(!0),f(R,null,N(Object.values(g),x=>(c(),f("p",{key:x,class:"error-text"},r(x),1))),128))])])])]),o[17]||(o[17]=e("div",{class:"section"},[e("h3",null,"💻 核心代码示例"),e("div",{class:"code-examples"},[e("div",{class:"code-block"},[e("h4",null,"Vue 3响应式原理简化版"),e("pre",null,[e("code",null,`function reactive(target) {
  return new Proxy(target, {
    get(target, key) {
      // 依赖收集
      track(target, key)
      return target[key]
    },
    set(target, key, value) {
      target[key] = value
      // 触发更新
      trigger(target, key)
      return true
    }
  })
}`)])]),e("div",{class:"code-block"},[e("h4",null,"数据验证Proxy"),e("pre",null,[e("code",null,`const validatedData = new Proxy(data, {
  set(target, key, value) {
    if (key === 'balance' && value < 0) {
      throw new Error('余额不能为负数')
    }
    target[key] = value
    return true
  }
})`)])])])],-1))]))}},si=Y(ti,[["__scopeId","data-v-52186c15"]]);const ni={class:"promise-demo"},oi={class:"demo-container"},ai={class:"demo-section"},ii={class:"demo-buttons"},li=["disabled"],ri=["disabled"],di={class:"logs"},ci={class:"log-container"},ui={class:"timestamp"},vi={__name:"PromiseDemo",setup(v){const t=h([]),s=h(!1),i=(a,_="info")=>{t.value.push({time:new Date().toLocaleTimeString(),message:a,type:_})},p=(a=2e3)=>new Promise((_,y)=>{setTimeout(()=>{Math.random()>.1?_("操作成功完成"):y(new Error("操作失败"))},a)}),l=()=>{s.value||(s.value=!0,i("开始执行 Promise 版本...","info"),p(1500).then(a=>(i(`Promise 结果: ${a}`,"success"),"数据处理完成")).then(a=>{i(`Promise 处理结果: ${a}`,"success")}).catch(a=>{i(`Promise 错误: ${a.message}`,"error")}).finally(()=>{i("Promise 版本执行完毕","info"),s.value=!1}))},d=async()=>{if(!s.value){s.value=!0,i("开始执行 Async/Await 版本...","info");try{const a=await p(1500);i(`Async/Await 结果: ${a}`,"success"),i("Async/Await 处理结果: 数据处理完成","success")}catch(a){i(`Async/Await 错误: ${a.message}`,"error")}finally{i("Async/Await 版本执行完毕","info"),s.value=!1}}},n=()=>{t.value=[]};return(a,_)=>(c(),f("div",ni,[_[4]||(_[4]=e("div",{class:"header"},[e("h1",null,"Promise vs Async/Await 演示"),e("p",null,"理解它们的等价关系")],-1)),e("div",oi,[_[2]||(_[2]=ee(`<div class="concept-section" data-v-14fddf70><h2 data-v-14fddf70>🔍 核心概念</h2><div class="concept-card" data-v-14fddf70><h3 data-v-14fddf70>async/await 是 Promise 的语法糖</h3><p data-v-14fddf70>它们本质上是同一个东西，只是写法不同</p></div></div><div class="comparison-section" data-v-14fddf70><h2 data-v-14fddf70>📝 等价写法对比</h2><div class="comparison-grid" data-v-14fddf70><div class="code-block" data-v-14fddf70><h3 data-v-14fddf70>Promise 写法</h3><pre data-v-14fddf70><code data-v-14fddf70>function fetchData() {
  return new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      resolve(&#39;数据获取成功&#39;)
    }, 2000)
  })
}

// 使用 Promise
fetchData()
  .then(result =&gt; {
    console.log(result)
    return &#39;处理完成&#39;
  })
  .then(finalResult =&gt; {
    console.log(finalResult)
  })
  .catch(error =&gt; {
    console.error(error)
  })</code></pre></div><div class="code-block" data-v-14fddf70><h3 data-v-14fddf70>async/await 写法</h3><pre data-v-14fddf70><code data-v-14fddf70>function fetchData() {
  return new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      resolve(&#39;数据获取成功&#39;)
    }, 2000)
  })
}

// 使用 async/await
async function handleData() {
  try {
    const result = await fetchData()
    console.log(result)
    const finalResult = &#39;处理完成&#39;
    console.log(finalResult)
  } catch (error) {
    console.error(error)
  }
}</code></pre></div></div></div>`,2)),e("div",ai,[_[1]||(_[1]=e("h2",null,"🎯 实际演示",-1)),e("div",ii,[e("button",{onClick:l,disabled:s.value}," 运行 Promise 版本 ",8,li),e("button",{onClick:d,disabled:s.value}," 运行 Async/Await 版本 ",8,ri),e("button",{onClick:n},"清空日志")]),e("div",di,[_[0]||(_[0]=e("h3",null,"执行日志：",-1)),e("div",ci,[(c(!0),f(R,null,N(t.value,(y,m)=>(c(),f("div",{key:m,class:"log-item"},[e("span",ui,r(y.time),1),e("span",{class:K(["message",y.type])},r(y.message),3)]))),128))])])]),_[3]||(_[3]=ee(`<div class="explanation-section" data-v-14fddf70><h2 data-v-14fddf70>💡 详细解释</h2><div class="explanation-grid" data-v-14fddf70><div class="explanation-card" data-v-14fddf70><h3 data-v-14fddf70>1. async 函数</h3><p data-v-14fddf70><code data-v-14fddf70>async</code> 关键字让函数自动返回 Promise</p><pre data-v-14fddf70><code data-v-14fddf70>async function test() {
  return &#39;hello&#39;
}
// 等价于
function test() {
  return Promise.resolve(&#39;hello&#39;)
}</code></pre></div><div class="explanation-card" data-v-14fddf70><h3 data-v-14fddf70>2. await 关键字</h3><p data-v-14fddf70><code data-v-14fddf70>await</code> 等待 Promise 完成并返回结果</p><pre data-v-14fddf70><code data-v-14fddf70>const result = await promise
// 等价于
promise.then(result =&gt; {
  // 使用 result
})</code></pre></div><div class="explanation-card" data-v-14fddf70><h3 data-v-14fddf70>3. 错误处理</h3><p data-v-14fddf70>try/catch 等价于 .catch()</p><pre data-v-14fddf70><code data-v-14fddf70>try {
  const result = await promise
} catch (error) {
  console.error(error)
}
// 等价于
promise.catch(error =&gt; {
  console.error(error)
})</code></pre></div><div class="explanation-card" data-v-14fddf70><h3 data-v-14fddf70>4. 你的代码示例</h3><p data-v-14fddf70>Login.vue 中的这行代码：</p><pre data-v-14fddf70><code data-v-14fddf70>await new Promise(resolve =&gt; 
  setTimeout(resolve, 2000)
)
// 等价于
new Promise(resolve =&gt; 
  setTimeout(resolve, 2000)
).then(() =&gt; {
  // 继续执行后续代码
})</code></pre></div></div></div><div class="pros-cons-section" data-v-14fddf70><h2 data-v-14fddf70>⚖️ 优缺点对比</h2><div class="comparison-table" data-v-14fddf70><table data-v-14fddf70><thead data-v-14fddf70><tr data-v-14fddf70><th data-v-14fddf70>特性</th><th data-v-14fddf70>Promise</th><th data-v-14fddf70>async/await</th></tr></thead><tbody data-v-14fddf70><tr data-v-14fddf70><td data-v-14fddf70>可读性</td><td data-v-14fddf70>链式调用，嵌套复杂</td><td data-v-14fddf70>同步代码风格，易读</td></tr><tr data-v-14fddf70><td data-v-14fddf70>错误处理</td><td data-v-14fddf70>.catch() 处理</td><td data-v-14fddf70>try/catch 统一处理</td></tr><tr data-v-14fddf70><td data-v-14fddf70>调试</td><td data-v-14fddf70>调试困难</td><td data-v-14fddf70>容易调试</td></tr><tr data-v-14fddf70><td data-v-14fddf70>浏览器支持</td><td data-v-14fddf70>ES6 支持</td><td data-v-14fddf70>ES2017 支持</td></tr><tr data-v-14fddf70><td data-v-14fddf70>性能</td><td data-v-14fddf70>相同</td><td data-v-14fddf70>相同（只是语法糖）</td></tr></tbody></table></div></div>`,2))])]))}},pi=Y(vi,[["__scopeId","data-v-14fddf70"]]),mi=[{path:"/",redirect:"/home"},{path:"/login",name:"Login",component:bo,meta:{requiresAuth:!1,isFirstLevel:!0,title:"登录"}},{path:"/permission-demo",name:"PermissionDemo",component:()=>Ge(()=>import("./PermissionDemo-aff08ce1.js"),["assets/PermissionDemo-aff08ce1.js","assets/vendor-64db4e53.js","assets/vant-dbf08e58.js","assets/PermissionDemo-42372748.css"]),meta:{requiresAuth:!0,isFirstLevel:!1,title:"权限管理演示"}},{path:"/home",name:"Home",component:Ht,meta:{requiresAuth:!0,isFirstLevel:!0,title:"首页"}},{path:"/account",name:"Account",component:es,meta:{requiresAuth:!0,isFirstLevel:!0,title:"我的账户",permissions:["user:read"]}},{path:"/transfer",name:"Transfer",component:as,meta:{requiresAuth:!0,isFirstLevel:!0,title:"转账汇款",permissions:["user:read"]}},{path:"/cards",name:"Cards",component:ws,meta:{requiresAuth:!0,isFirstLevel:!0,title:"我的卡片",permissions:["user:read"]}},{path:"/wealth",name:"Wealth",component:sn,meta:{requiresAuth:!0,isFirstLevel:!0,title:"财富管理"}},{path:"/life",name:"Life",component:Hn,meta:{requiresAuth:!0,isFirstLevel:!0,title:"生活服务"}},{path:"/computed-demo",name:"ComputedDemo",component:ea,meta:{requiresAuth:!0,isFirstLevel:!1,title:"Computed演示",roles:["admin"]}},{path:"/lifecycle-demo",name:"LifecycleDemo",component:ua,meta:{requiresAuth:!0,isFirstLevel:!1,title:"生命周期演示",roles:["admin"]}},{path:"/render-demo",name:"RenderDemo",component:$a,meta:{requiresAuth:!0,isFirstLevel:!1,title:"渲染演示",roles:["admin"]}},{path:"/component-demo",name:"ComponentDemo",component:Zo,meta:{requiresAuth:!0,isFirstLevel:!1,title:"组件演示",roles:["admin"]}},{path:"/proxy-demo",name:"ProxyDemo",component:Ua,meta:{requiresAuth:!0,isFirstLevel:!1,title:"Proxy演示",roles:["admin"]}},{path:"/vue-proxy-demo",name:"VueProxyDemo",component:si,meta:{requiresAuth:!0,isFirstLevel:!1,title:"Vue Proxy演示",roles:["admin"]}},{path:"/promise-demo",name:"PromiseDemo",component:pi,meta:{requiresAuth:!0,isFirstLevel:!1,title:"Promise演示",roles:["admin"]}},{path:"/interpolation-demo",name:"InterpolationDemo",component:wo,meta:{requiresAuth:!0,isFirstLevel:!1,title:"插值演示",roles:["admin"]}},{path:"/ref-demo",name:"RefDemo",component:$o,meta:{requiresAuth:!0,isFirstLevel:!1,title:"Ref演示",roles:["admin"]}},{path:"/style-demo",name:"StyleDemo",component:Po,meta:{requiresAuth:!0,isFirstLevel:!1,title:"样式演示",roles:["admin"]}},{path:"/template-vs-script",name:"TemplateVsScript",component:Do,meta:{requiresAuth:!0,isFirstLevel:!1,title:"模板vs脚本",roles:["admin"]}}],ve=Ue({history:Me("/vue-bank/"),routes:mi});ve.beforeEach(async(v,t,s)=>{if(console.log("🔐 Route Guard Check:",{to:v.path,requiresAuth:v.meta.requiresAuth,roles:v.meta.roles,permissions:v.meta.permissions,requiresVIP:v.meta.requiresVIP}),v.meta.requiresAuth){if(!Z.isLoggedIn()){console.log("❌ Not logged in, redirecting to login"),A({type:"fail",message:"请先登录"}),s({path:"/login",query:{redirect:v.fullPath}});return}if(Z.isTokenExpired())try{console.log("🔄 Token expired, attempting refresh"),await Z.refreshToken(),console.log("✅ Token refreshed successfully")}catch(i){console.log("❌ Token refresh failed:",i.message),A({type:"fail",message:"登录已过期，请重新登录"}),s({path:"/login",query:{redirect:v.fullPath}});return}if(v.meta.roles&&v.meta.roles.length>0&&!Z.hasAnyRole(v.meta.roles)){console.log("❌ Insufficient role permissions"),A({type:"fail",message:"权限不足，无法访问该页面"}),s({path:t.path||"/home"});return}if(v.meta.permissions&&v.meta.permissions.length>0&&!Z.hasAllPermissions(v.meta.permissions)){console.log("❌ Insufficient permissions"),A({type:"fail",message:"权限不足，无法访问该功能"}),s({path:t.path||"/home"});return}if(v.meta.requiresVIP&&!Z.isVIP()){console.log("❌ VIP access required"),A({type:"fail",message:"该功能仅限VIP用户使用"}),s({path:t.path||"/home"});return}console.log("✅ All permission checks passed")}if(v.path==="/login"&&Z.isLoggedIn()){console.log("🏠 Already logged in, redirecting to home");const i=v.query.redirect||"/home";s({path:i});return}if(v.path==="/"&&!Z.isLoggedIn()){s({path:"/login"});return}console.log("✅ Route guard passed, proceeding to:",v.path),s()});ve.afterEach((v,t)=>{v.meta.title&&(document.title=`${v.meta.title} - CC银行`),console.log("🔄 ROUTE CHANGE DETECTED:",{from:t.path,to:v.path,timestamp:new Date().toLocaleTimeString(),reason:"Vue Router navigation"}),window.backHandler&&(window.backHandler.recordNavigation(t.path,v.path),window.backHandler.resetBackTimer())});Je.initSwipeBack(()=>{var t,s;const v=ve.currentRoute.value;if(console.log("🎯 Swipe back triggered on route:",v.path,"isFirstLevel:",(t=v.meta)==null?void 0:t.isFirstLevel),(s=v.meta)!=null&&s.isFirstLevel)if(console.log("🚪 First level page - showing exit confirmation with enhanced feedback"),navigator.vibrate&&(navigator.vibrate([50,30,50]),console.log("📳 Vibration feedback triggered")),window.confirm(`🚪 您正在一级页面

侧滑将退出应用，确定要退出吗？

💡 提示：在二级页面侧滑可返回上一页`)){console.log("✅ User confirmed exit");try{window.close()}catch{console.log("⚠️ Cannot close window directly, showing alternative message"),alert(`
          🌟 感谢使用！
          
          由于浏览器安全限制，无法直接关闭页面。
          请手动关闭浏览器标签页。
          
          💡 建议：将此应用添加到桌面，获得更好的体验！
        `)}"serviceWorker"in navigator&&console.log("📱 PWA environment detected - enhanced exit handling")}else console.log("❌ User cancelled exit");else console.log("⬅️ Second level page - going back with smooth transition"),navigator.vibrate&&navigator.vibrate(30),ve.go(-1),setTimeout(()=>{console.log("✅ Successfully navigated back to previous page")},100)});class fi{constructor(){this.topLevelRoutes=["/home","/wealth","/life","/cards"],this.lastBackTime=0,this.backToExitInterval=2e3,this.navigationStack=[],this.isInitialized=!1}isTopLevelRoute(t){return this.topLevelRoutes.includes(t)}initialize(t){this.isInitialized||(this.navigationStack=[t],this.isInitialized=!0)}recordNavigation(t,s){if(this.isTopLevelRoute(t)&&this.isTopLevelRoute(s)){this.navigationStack.length>0?this.navigationStack[this.navigationStack.length-1]=s:this.navigationStack.push(s);return}if(this.isTopLevelRoute(t)&&!this.isTopLevelRoute(s)){this.navigationStack.push(s);return}if(!this.isTopLevelRoute(t)&&this.isTopLevelRoute(s)){for(;this.navigationStack.length>0&&!this.isTopLevelRoute(this.navigationStack[this.navigationStack.length-1]);)this.navigationStack.pop();(this.navigationStack.length===0||this.navigationStack[this.navigationStack.length-1]!==s)&&this.navigationStack.push(s);return}this.navigationStack.push(s)}shouldExitApp(t){return this.isTopLevelRoute(t)?this.navigationStack.filter(i=>!this.isTopLevelRoute(i)).length===0&&this.navigationStack.length<=1:!1}async handleBack(t,s){if(this.isTopLevelRoute(t))if(this.shouldExitApp(t)){const i=Date.now();return this.isPWA()?this.showExitConfirm():i-this.lastBackTime<this.backToExitInterval?(this.exitApp(),!0):(this.lastBackTime=i,A({message:"再按一次退出应用",position:"bottom",duration:2e3}),!1)}else return!0;return!0}isPWA(){return window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches||window.matchMedia("(display-mode: fullscreen)").matches}async showExitConfirm(){try{return await ue({title:"退出应用",message:"确定要退出Vue银行吗？",confirmButtonText:"退出",cancelButtonText:"取消",confirmButtonColor:"#ee0a24",overlay:!0,closeOnClickOverlay:!1}),this.exitApp(),!0}catch{return!1}}exitApp(){this.isPWA()?window.close&&window.close():window.history.length>1?window.history.back():window.close()}resetBackTimer(){this.lastBackTime=0}}const se=new fi;const gi={id:"app"},_i={__name:"App",setup(v){const t=le(),s=re(),i=async l=>{const d=s.path;if(console.log("🚨 POPSTATE in handlePopState:",{currentPath:d,isTopLevel:se.isTopLevelRoute(d),timestamp:new Date().toLocaleTimeString()}),se.isTopLevelRoute(d))return console.log("🔴 BLOCKING POPSTATE for top-level route, showing exit dialog:",d),l.preventDefault(),l.stopPropagation(),window.history.pushState(null,"",d),await se.handleBack(d,t)||window.history.pushState(null,"",d),!1},p=async l=>{if(l.key==="Escape"||l.keyCode===27){const d=s.path;se.isTopLevelRoute(d)&&(l.preventDefault(),await se.handleBack(d,t))}};return window.backHandler=se,te(()=>{se.initialize(s.path),preventBrowserNavigation(),window.history.pushState(null,"",s.path),window.addEventListener("popstate",i),window.addEventListener("keydown",p),window.addEventListener("beforeunload",l=>{se.isTopLevelRoute(s.path)&&(l.preventDefault(),l.returnValue="")})}),me(()=>{window.removeEventListener("popstate",i),window.removeEventListener("keydown",p)}),(l,d)=>{const n=S("router-view");return c(),f("div",gi,[u(n,null,{default:T(({Component:a,route:_})=>[(c(),W(ze,{include:["Transfer","Account"]},[(c(),W(Oe(a),{key:_.path}))],1024))]),_:1})])}}};const fe=qe(_i);fe.use(He());fe.use(ve);fe.use(Ke);fe.mount("#app");export{dt as U,Y as _,Z as a};
