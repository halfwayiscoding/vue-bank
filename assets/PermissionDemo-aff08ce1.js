import{L as _,N as $,O as w,P as D,k as s,R as i,V as v}from"./vendor-64db4e53.js";import{_ as N,U as y,a as f}from"./index-5b02c60e.js";import{s as a,a as L}from"./vant-dbf08e58.js";const R={class:"permission-demo"},T={class:"content"},A={class:"user-status"},O={class:"permission-tests"},x={class:"permission-switch"},M={class:"protected-features"},B={__name:"PermissionDemo",setup(U){const m=_(),o=t=>f.hasPermission(t),r=t=>f.hasRole(t),u=t=>f.hasVIPLevel(t),P=t=>{const e=o(t);a({message:`æƒé™ ${t}: ${e?"é€šè¿‡":"æ‹’ç»"}`,type:e?"success":"fail"})},I=t=>{const e=r(t);a({message:`è§’è‰² ${t}: ${e?"é€šè¿‡":"æ‹’ç»"}`,type:e?"success":"fail"})},p=t=>{const e=u(t);a({message:`VIPç­‰çº§ ${t}: ${e?"é€šè¿‡":"æ‹’ç»"}`,type:e?"success":"fail"})},V=async t=>{try{await L({title:"åˆ‡æ¢ç”¨æˆ·",message:`ç¡®å®šè¦åˆ‡æ¢ä¸º${t==="admin"?"ç®¡ç†å‘˜":t==="vip"?"VIPç”¨æˆ·":"æ™®é€šç”¨æˆ·"}å—ï¼Ÿ`,confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ"});const e={user:{id:1,username:"testuser",name:"æµ‹è¯•ç”¨æˆ·",avatar:"ğŸ‘¤",role:"user",level:"NORMAL",permissions:["user:read"]},vip:{id:2,username:"vipuser",name:"VIPç”¨æˆ·",avatar:"ğŸ’",role:"vip",level:"VIP",permissions:["user:read","user:write"]},admin:{id:3,username:"admin",name:"ç®¡ç†å‘˜",avatar:"ğŸ‘‘",role:"admin",level:"DIAMOND",permissions:["user:read","user:write","admin:manage"]}};f.setUserInfo(e[t]),a({message:`å·²åˆ‡æ¢ä¸º${t==="admin"?"ç®¡ç†å‘˜":t==="vip"?"VIPç”¨æˆ·":"æ™®é€šç”¨æˆ·"}`,type:"success"})}catch{}},c=()=>{o("user:read")?m.push("/account"):a("æƒé™ä¸è¶³")},k=()=>{o("user:read")?m.push("/transfer"):a("æƒé™ä¸è¶³")},C=()=>{u("VIP")?m.push("/wealth"):a("éœ€è¦VIPæƒé™")},g=()=>{r("admin")?m.push("/component-demo"):a("éœ€è¦ç®¡ç†å‘˜æƒé™")};return(t,e)=>{const b=$("van-nav-bar"),n=$("van-cell"),d=$("van-cell-group");return w(),D("div",R,[s(b,{title:"æƒé™ç®¡ç†æ¼”ç¤º","left-arrow":"",onClickLeft:e[0]||(e[0]=l=>t.$router.back())}),i("div",T,[i("div",A,[e[14]||(e[14]=i("h3",null,"å½“å‰ç”¨æˆ·çŠ¶æ€",-1)),s(y)]),i("div",O,[e[15]||(e[15]=i("h3",null,"æƒé™æµ‹è¯•",-1)),s(d,{title:"åŸºç¡€æƒé™"},{default:v(()=>[s(n,{title:"ç”¨æˆ·ä¿¡æ¯æŸ¥çœ‹",value:o("user:read")?"âœ… æœ‰æƒé™":"âŒ æ— æƒé™",onClick:e[1]||(e[1]=l=>P("user:read"))},null,8,["value"]),s(n,{title:"ç”¨æˆ·ä¿¡æ¯ç¼–è¾‘",value:o("user:write")?"âœ… æœ‰æƒé™":"âŒ æ— æƒé™",onClick:e[2]||(e[2]=l=>P("user:write"))},null,8,["value"]),s(n,{title:"ç®¡ç†å‘˜åŠŸèƒ½",value:o("admin:manage")?"âœ… æœ‰æƒé™":"âŒ æ— æƒé™",onClick:e[3]||(e[3]=l=>P("admin:manage"))},null,8,["value"])]),_:1}),s(d,{title:"è§’è‰²æƒé™"},{default:v(()=>[s(n,{title:"æ™®é€šç”¨æˆ·åŠŸèƒ½",value:r("user")?"âœ… æœ‰æƒé™":"âŒ æ— æƒé™",onClick:e[4]||(e[4]=l=>I("user"))},null,8,["value"]),s(n,{title:"VIPç”¨æˆ·åŠŸèƒ½",value:r("vip")?"âœ… æœ‰æƒé™":"âŒ æ— æƒé™",onClick:e[5]||(e[5]=l=>I("vip"))},null,8,["value"]),s(n,{title:"ç®¡ç†å‘˜åŠŸèƒ½",value:r("admin")?"âœ… æœ‰æƒé™":"âŒ æ— æƒé™",onClick:e[6]||(e[6]=l=>I("admin"))},null,8,["value"])]),_:1}),s(d,{title:"VIPç­‰çº§æƒé™"},{default:v(()=>[s(n,{title:"æ™®é€šç”¨æˆ·åŠŸèƒ½",value:u("NORMAL")?"âœ… æœ‰æƒé™":"âŒ æ— æƒé™",onClick:e[7]||(e[7]=l=>p("NORMAL"))},null,8,["value"]),s(n,{title:"VIPä¼šå‘˜åŠŸèƒ½",value:u("VIP")?"âœ… æœ‰æƒé™":"âŒ æ— æƒé™",onClick:e[8]||(e[8]=l=>p("VIP"))},null,8,["value"]),s(n,{title:"è¶…çº§VIPåŠŸèƒ½",value:u("SVIP")?"âœ… æœ‰æƒé™":"âŒ æ— æƒé™",onClick:e[9]||(e[9]=l=>p("SVIP"))},null,8,["value"]),s(n,{title:"é’»çŸ³ä¼šå‘˜åŠŸèƒ½",value:u("DIAMOND")?"âœ… æœ‰æƒé™":"âŒ æ— æƒé™",onClick:e[10]||(e[10]=l=>p("DIAMOND"))},null,8,["value"])]),_:1})]),i("div",x,[e[16]||(e[16]=i("h3",null,"æƒé™åˆ‡æ¢æ¼”ç¤º",-1)),s(d,null,{default:v(()=>[s(n,{title:"åˆ‡æ¢ä¸ºæ™®é€šç”¨æˆ·",onClick:e[11]||(e[11]=l=>V("user"))}),s(n,{title:"åˆ‡æ¢ä¸ºVIPç”¨æˆ·",onClick:e[12]||(e[12]=l=>V("vip"))}),s(n,{title:"åˆ‡æ¢ä¸ºç®¡ç†å‘˜",onClick:e[13]||(e[13]=l=>V("admin"))})]),_:1})]),i("div",M,[e[17]||(e[17]=i("h3",null,"å—ä¿æŠ¤çš„åŠŸèƒ½",-1)),s(d,null,{default:v(()=>[s(n,{title:"è´¦æˆ·ç®¡ç†",onClick:c,disabled:!o("user:read")},null,8,["disabled"]),s(n,{title:"è½¬è´¦åŠŸèƒ½",onClick:k,disabled:!o("user:read")},null,8,["disabled"]),s(n,{title:"ç†è´¢äº§å“",onClick:C,disabled:!u("VIP")},null,8,["disabled"]),s(n,{title:"å¼€å‘è€…å·¥å…·",onClick:g,disabled:!r("admin")},null,8,["disabled"])]),_:1})])])])}}},j=N(B,[["__scopeId","data-v-b1b309e8"]]);export{j as default};
