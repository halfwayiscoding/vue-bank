import{J as xe,r as h,K as Ce,L as oe,M as ie,c as se,N as T,O as c,P as g,F as E,Q as V,R as e,k as m,S as r,y as O,U as F,f as ee,d as ue,V as P,u as G,W as j,A as ne,X as Q,B as J,a as X,n as Pe,o as pe,Y as ge,t as Y,Z as W,_ as Se,$ as Te,T as Ie,a0 as De,x as Le,H as Ae,b as Ee,e as Ve,a1 as Re,a2 as Ne,a3 as Be,w as we,m as Fe,a4 as B,a5 as Ue,a6 as Me,a7 as Oe,a8 as ze,D as qe}from"./vendor-64db4e53.js";import{s as D,a as de,b as Ke}from"./vant-dbf08e58.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))i(v);new MutationObserver(v=>{for(const l of v)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(v){const l={};return v.integrity&&(l.integrity=v.integrity),v.referrerPolicy&&(l.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?l.credentials="include":v.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(v){if(v.ep)return;v.ep=!0;const l=s(v);fetch(v.href,l)}})();var Ye=!1;/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const je=Symbol();var he;(function(u){u.direct="direct",u.patchObject="patch object",u.patchFunction="patch function"})(he||(he={}));function He(){const u=xe(!0),t=u.run(()=>h({}));let s=[],i=[];const v=Ce({install(l){v._a=l,l.provide(je,v),l.config.globalProperties.$pinia=v,i.forEach(d=>s.push(d)),i=[]},use(l){return!this._a&&!Ye?i.push(l):s.push(l),this},_p:s,_a:null,_e:u,_s:new Map,state:t});return v}const We="modulepreload",Ze=function(u){return"/vue-bank/"+u},ye={},Ge=function(t,s,i){if(!s||s.length===0)return t();const v=document.getElementsByTagName("link");return Promise.all(s.map(l=>{if(l=Ze(l),l in ye)return;ye[l]=!0;const d=l.endsWith(".css"),n=d?'[rel="stylesheet"]':"";if(!!i)for(let y=v.length-1;y>=0;y--){const p=v[y];if(p.href===l&&(!d||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${n}`))return;const _=document.createElement("link");if(_.rel=d?"stylesheet":We,d||(_.as="script",_.crossOrigin=""),_.href=l,document.head.appendChild(_),d)return new Promise((y,p)=>{_.addEventListener("load",y),_.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t()).catch(l=>{const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l})},Je={initSwipeBack(u){let t=0,s=0,i=0,v=!1;const l=60,d=40,n=500,a=30,_=y=>{if(v&&t<a)return y.preventDefault(),y.stopPropagation(),!1};document.addEventListener("touchstart",y=>{t=y.touches[0].clientX,s=y.touches[0].clientY,i=Date.now(),v=!1,t<a&&(v=!0,console.log("🟡 Potential edge swipe detected:",{startX:t,startY:s}))},{passive:!1}),document.addEventListener("touchmove",y=>{if(!v)return;const p=y.touches[0].clientX,f=y.touches[0].clientY,w=p-t,b=Math.abs(f-s);w>20&&b<30&&(y.preventDefault(),y.stopPropagation(),console.log("🚫 Preventing default browser swipe behavior"))},{passive:!1}),document.addEventListener("touchend",y=>{if(!t)return;const p=y.changedTouches[0].clientX,f=y.changedTouches[0].clientY,w=Date.now(),b=p-t,$=Math.abs(f-s),I=w-i,L=b/I;console.log("🔵 Gesture Analysis:",{startX:t,endX:p,diffX:b,diffY:$,swipeTime:I,swipeSpeed:L.toFixed(3),isFromLeftEdge:t<a,isRightSwipe:b>l,isHorizontal:$<d,isQuickSwipe:I<n,isValidGesture:t<a&&b>l&&$<d&&I<n}),t<a&&b>l&&$<d&&I<n&&(console.log("✅ Valid swipe back gesture detected!"),this.showSwipeBackFeedback(),setTimeout(()=>{u()},100)),t=0,s=0,i=0,v=!1},{passive:!1}),window.addEventListener("popstate",y=>{console.log("🔄 Browser popstate event detected")}),document.addEventListener("gesturestart",_,{passive:!1}),document.addEventListener("gesturechange",_,{passive:!1}),document.addEventListener("gestureend",_,{passive:!1})},showSwipeBackFeedback(){const u=document.createElement("div");if(u.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 5px;
      height: 100vh;
      background: linear-gradient(to right, rgba(0,122,255,0.8), transparent);
      z-index: 10000;
      pointer-events: none;
      animation: swipeBackFeedback 0.3s ease-out;
    `,!document.getElementById("swipe-feedback-style")){const t=document.createElement("style");t.id="swipe-feedback-style",t.textContent=`
        @keyframes swipeBackFeedback {
          0% { width: 0px; opacity: 0; }
          50% { width: 8px; opacity: 1; }
          100% { width: 0px; opacity: 0; }
        }
      `,document.head.appendChild(t)}document.body.appendChild(u),setTimeout(()=>{u.parentNode&&u.parentNode.removeChild(u)},300),console.log("💫 Swipe back feedback displayed")}};class Xe{constructor(){this.TOKEN_KEY="vue_bank_token",this.USER_KEY="vue_bank_user",this.PERMISSIONS_KEY="vue_bank_permissions",this.REFRESH_TOKEN_KEY="vue_bank_refresh_token"}getToken(){return localStorage.getItem(this.TOKEN_KEY)}setToken(t){localStorage.setItem(this.TOKEN_KEY,t)}getRefreshToken(){return localStorage.getItem(this.REFRESH_TOKEN_KEY)}setRefreshToken(t){localStorage.setItem(this.REFRESH_TOKEN_KEY,t)}getUserInfo(){const t=localStorage.getItem(this.USER_KEY);return t?JSON.parse(t):null}setUserInfo(t){localStorage.setItem(this.USER_KEY,JSON.stringify(t))}getPermissions(){const t=localStorage.getItem(this.PERMISSIONS_KEY);return t?JSON.parse(t):[]}setPermissions(t){localStorage.setItem(this.PERMISSIONS_KEY,JSON.stringify(t))}hasPermission(t){return this.getPermissions().includes(t)}hasAnyPermission(t){const s=this.getPermissions();return t.some(i=>s.includes(i))}hasAllPermissions(t){const s=this.getPermissions();return t.every(i=>s.includes(i))}getUserRole(){const t=this.getUserInfo();return t?t.role:null}hasRole(t){return this.getUserRole()===t}hasAnyRole(t){const s=this.getUserRole();return t.includes(s)}getUserLevel(){const t=this.getUserInfo();return t?t.level:"NORMAL"}isVIP(){const t=this.getUserLevel();return["VIP","SVIP","DIAMOND"].includes(t)}isTokenExpired(){const t=this.getUserInfo();return!t||!t.expireTime?!0:Date.now()>t.expireTime}isLoggedIn(){return this.getToken()&&!this.isTokenExpired()}async refreshToken(){const t=this.getRefreshToken();if(!t)throw new Error("No refresh token available");try{const s=await this.mockApiCall("/api/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:t})});if(s.success)return this.setToken(s.data.token),this.setRefreshToken(s.data.refreshToken),this.setUserInfo(s.data.user),s.data;throw new Error("Token refresh failed")}catch(s){throw this.clearAuthData(),s}}async login(t){try{const s=await this.mockApiCall("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(s.success){const{token:i,refreshToken:v,user:l,permissions:d}=s.data;return this.setToken(i),this.setRefreshToken(v),this.setUserInfo(l),this.setPermissions(d),D({type:"success",message:`欢迎回来，${l.name}！`}),s.data}else throw new Error(s.message||"登录失败")}catch(s){throw D({type:"fail",message:s.message}),s}}async logout(){try{await this.mockApiCall("/api/auth/logout",{method:"POST",headers:{Authorization:`Bearer ${this.getToken()}`}})}catch(t){console.warn("Logout API call failed:",t)}finally{this.clearAuthData(),D({type:"success",message:"已安全退出"})}}clearAuthData(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.USER_KEY),localStorage.removeItem(this.PERMISSIONS_KEY),localStorage.removeItem(this.REFRESH_TOKEN_KEY)}async mockApiCall(t,s={}){if(await new Promise(i=>setTimeout(i,1e3)),t==="/api/auth/login"){const{username:i,password:v}=JSON.parse(s.body);if(i&&i.trim()&&v&&v.trim()){let l="user",d="NORMAL",n=["user:read"],a=i,_="👤";return i.toLowerCase().includes("admin")?(l="admin",d="DIAMOND",n=["user:read","user:write","admin:read","admin:write","vip:access"],a="管理员",_="👨‍💼"):i.toLowerCase().includes("vip")?(l="vip",d="VIP",n=["user:read","user:write","vip:access"],a="VIP用户",_="⭐"):a=`用户${i}`,{success:!0,data:{token:`mock_token_${Date.now()}`,refreshToken:`mock_refresh_token_${Date.now()}`,user:{id:Date.now(),username:i,name:a,role:l,level:d,avatar:_,expireTime:Date.now()+24*60*60*1e3},permissions:n}}}else return{success:!1,message:"用户名和密码不能为空"}}return t==="/api/auth/refresh"?{success:!0,data:{token:`refreshed_token_${Date.now()}`,refreshToken:`refreshed_refresh_token_${Date.now()}`,user:this.getUserInfo()}}:t==="/api/auth/logout"?{success:!0}:{success:!0,data:{}}}canAccessPage(t){return t.requiresAuth?!(!this.isLoggedIn()||t.roles&&t.roles.length>0&&!this.hasAnyRole(t.roles)||t.permissions&&t.permissions.length>0&&!this.hasAllPermissions(t.permissions)||t.requiresVIP&&!this.isVIP()):!0}getUserDisplayInfo(){const t=this.getUserInfo();return t?{name:t.name,avatar:t.avatar,role:t.role,level:t.level,isVIP:this.isVIP()}:null}}const H=new Xe;const z=(u,t)=>{const s=u.__vccOpts||u;for(const[i,v]of t)s[i]=v;return s},Qe={class:"custom-tabbar"},et=["onClick"],tt={class:"tab-text"},st={__name:"BottomTabbar",setup(u){const t=oe(),s=ie(),i=[{icon:"wap-home-o",text:"首页",route:"/home"},{icon:"gold-coin-o",text:"理财",route:"/wealth"},{icon:"shop-o",text:"生活",route:"/life"},{icon:"credit-pay",text:"卡片",route:"/cards"}],v=se(()=>({"/home":0,"/wealth":1,"/life":2,"/cards":3})[s.path]||0),l=d=>{const n=i[d].route;s.path!==n&&t.replace(n)};return(d,n)=>{const a=T("van-icon");return c(),g("div",Qe,[(c(),g(E,null,V(i,(_,y)=>e("div",{key:y,class:O(["tab-item",{active:v.value===y}]),onClick:p=>l(y)},[m(a,{name:_.icon,class:"tab-icon"},null,8,["name"]),e("span",tt,r(_.text),1)],10,et)),64))])}}},le=z(st,[["__scopeId","data-v-7fc34867"]]);const nt={key:0,class:"user-info"},at={class:"user-avatar"},ot={class:"user-details"},it={class:"user-name"},lt={class:"user-role"},rt={__name:"UserInfo",setup(u){const t=oe(),s=se(()=>H.getUserDisplayInfo()),i=n=>({admin:"管理员",vip:"VIP用户",user:"普通用户"})[n]||"未知角色",v=n=>({DIAMOND:"钻石会员",SVIP:"超级VIP",VIP:"VIP会员",NORMAL:"普通用户"})[n]||"未知等级",l=n=>({"level-diamond":n==="DIAMOND","level-svip":n==="SVIP","level-vip":n==="VIP","level-normal":n==="NORMAL"}),d=async()=>{try{await de({title:"确认退出",message:"确定要退出登录吗？",confirmButtonText:"退出",cancelButtonText:"取消",confirmButtonColor:"#ee0a24"}),await H.logout(),t.push("/login")}catch{}};return(n,a)=>s.value?(c(),g("div",nt,[e("div",at,r(s.value.avatar),1),e("div",ot,[e("div",it,r(s.value.name),1),e("div",lt,r(i(s.value.role)),1),e("div",{class:O(["user-level",l(s.value.level)])},r(v(s.value.level)),3)]),e("div",{class:"user-actions"},[e("button",{onClick:d,class:"logout-btn"},"退出")])])):F("",!0)}},dt=z(rt,[["__scopeId","data-v-dee8125d"]]);const ct={class:"home-container"},ut={class:"content"},vt={class:"balance-card"},pt={class:"balance-amount"},mt={class:"amount"},ft={class:"balance-footer"},gt={class:"quick-functions"},_t={class:"function-grid"},ht={class:"function-icon transfer"},yt={class:"function-icon cards"},bt={class:"function-icon wealth"},kt={class:"function-icon loan"},wt={class:"activity-section"},$t={class:"section-header"},xt=["onClick"],Ct={class:"banner-content"},Pt={class:"banner-text"},St={class:"banner-icon"},Tt={class:"banner-tag"},It={class:"activity-grid"},Dt=["onClick"],Lt={class:"activity-info"},At={class:"activity-title"},Et={class:"activity-desc"},Vt={key:0,class:"activity-badge"},Rt={class:"transaction-section"},Nt={__name:"Home",setup(u){const t=oe(),s=h(128888.88),i=h(!0),v=h([{id:1,title:"工资发放",time:"今天 14:30",amount:"+8,500.00",type:"income",icon:"gold-coin-o"},{id:2,title:"超市购物",time:"昨天 19:20",amount:"-156.80",type:"expense",icon:"shop-o"},{id:3,title:"转账给张三",time:"昨天 15:45",amount:"-2,000.00",type:"expense",icon:"exchange"}]),l=h([{id:1,title:"新用户专享",subtitle:"开户即送888元理财金",icon:"gift-o",tag:"限时",gradient:"linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%)",type:"newuser"},{id:2,title:"理财节",subtitle:"年化收益率高达6.8%",icon:"gold-coin-o",tag:"热门",gradient:"linear-gradient(135deg, #f9ca24 0%, #f0932b 100%)",type:"wealth"},{id:3,title:"信用卡优惠",subtitle:"消费满1000返100",icon:"credit-pay",tag:"推荐",gradient:"linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%)",type:"creditcard"}]),d=h([{id:1,title:"签到有礼",desc:"连续签到7天",icon:"calendar-o",gradient:"linear-gradient(135deg, #00b894, #00cec9)",badge:"每日",type:"checkin"},{id:2,title:"邀请好友",desc:"最高得500元",icon:"friends-o",gradient:"linear-gradient(135deg, #fd79a8, #e84393)",badge:"奖励",type:"invite"},{id:3,title:"积分商城",desc:"积分兑好礼",icon:"shop-o",gradient:"linear-gradient(135deg, #4facfe, #00f2fe)",badge:null,type:"points"},{id:4,title:"生活缴费",desc:"水电燃气费",icon:"bill-o",gradient:"linear-gradient(135deg, #667eea, #764ba2)",badge:"便民",type:"bills"}]),n=w=>{D({newuser:"新用户专享活动详情",wealth:"理财节活动详情",creditcard:"信用卡优惠活动详情",checkin:"签到功能",invite:"邀请好友功能",points:"积分商城功能",bills:"生活缴费功能"}[w.type]||"活动详情")},a=()=>{i.value=!i.value},_=()=>{t.push("/transfer")},y=()=>{t.push("/cards")},p=()=>{t.push("/account")},f=()=>{console.log("首页数据刷新")};return ee(()=>{f()}),ue(()=>{f()}),(w,b)=>{const $=T("van-icon"),I=T("van-nav-bar"),L=T("van-swipe-item"),k=T("van-swipe"),R=T("van-cell"),M=T("van-cell-group");return c(),g("div",ct,[m(I,{title:"CC银行",fixed:""},{right:P(()=>[m($,{name:"search",size:"18",onClick:b[0]||(b[0]=x=>G(D)("搜索功能"))})]),_:1}),e("div",ut,[m(dt),e("div",vt,[b[6]||(b[6]=e("div",{class:"balance-header"},[e("span",{class:"account-type"},"储蓄卡"),e("span",{class:"card-number"},"尾号 8888")],-1)),e("div",pt,[b[4]||(b[4]=e("span",{class:"currency"},"¥",-1)),e("span",mt,r(s.value.toLocaleString()),1)]),e("div",ft,[b[5]||(b[5]=e("span",null,"可用余额",-1)),m($,{name:"eye-o",onClick:a})])]),e("div",gt,[e("div",_t,[e("div",{class:"function-item",onClick:_},[e("div",ht,[m($,{name:"exchange",size:"24"})]),b[7]||(b[7]=e("span",null,"转账",-1))]),e("div",{class:"function-item",onClick:y},[e("div",yt,[m($,{name:"credit-pay",size:"24"})]),b[8]||(b[8]=e("span",null,"我的卡片",-1))]),e("div",{class:"function-item",onClick:b[1]||(b[1]=x=>G(D)("理财功能"))},[e("div",bt,[m($,{name:"gold-coin-o",size:"24"})]),b[9]||(b[9]=e("span",null,"理财",-1))]),e("div",{class:"function-item",onClick:b[2]||(b[2]=x=>G(D)("贷款功能"))},[e("div",kt,[m($,{name:"shop-o",size:"24"})]),b[10]||(b[10]=e("span",null,"贷款",-1))])])]),e("div",wt,[e("div",$t,[b[11]||(b[11]=e("h3",null,"🎉 精彩活动",-1)),e("span",{class:"more",onClick:b[3]||(b[3]=x=>G(D)("查看更多活动"))},"更多")]),m(k,{class:"activity-swipe",autoplay:3e3,"indicator-color":"white"},{default:P(()=>[(c(!0),g(E,null,V(l.value,x=>(c(),j(L,{key:x.id},{default:P(()=>[e("div",{class:"activity-banner",style:ne({background:x.gradient}),onClick:Z=>n(x)},[e("div",Ct,[e("div",Pt,[e("h4",null,r(x.title),1),e("p",null,r(x.subtitle),1)]),e("div",St,[m($,{name:x.icon,size:"32"},null,8,["name"])])]),e("div",Tt,r(x.tag),1)],12,xt)]),_:2},1024))),128))]),_:1}),e("div",It,[(c(!0),g(E,null,V(d.value,x=>(c(),g("div",{key:x.id,class:"activity-item",onClick:Z=>n(x)},[e("div",{class:"activity-icon",style:ne({background:x.gradient})},[m($,{name:x.icon,size:"20"},null,8,["name"])],4),e("div",Lt,[e("span",At,r(x.title),1),e("span",Et,r(x.desc),1)]),x.badge?(c(),g("div",Vt,r(x.badge),1)):F("",!0)],8,Dt))),128))])]),e("div",Rt,[e("div",{class:"section-header"},[b[12]||(b[12]=e("h3",null,"最近交易",-1)),e("span",{class:"more",onClick:p},"查看全部")]),m(M,null,{default:P(()=>[(c(!0),g(E,null,V(v.value,x=>(c(),j(R,{key:x.id,title:x.title,label:x.time,value:x.amount,"value-class":x.type==="income"?"income":"expense"},{icon:P(()=>[e("div",{class:O(["transaction-icon",x.type])},[m($,{name:x.icon,size:"20"},null,8,["name"])],2)]),_:2},1032,["title","label","value","value-class"]))),128))]),_:1})])]),m(le)])}}},Bt=z(Nt,[["__scopeId","data-v-e840cd9d"]]);const Ft={class:"account-container"},Ut={class:"content"},Mt={class:"filter-section"},Ot={class:"transaction-list"},zt={class:"date-header"},qt={__name:"Account",setup(u){const t=h(!1),s=h(!1),i=h(0),v=h(0),l=h([{text:"全部类型",value:0},{text:"收入",value:1},{text:"支出",value:2},{text:"转账",value:3}]),d=h([{text:"最近一周",value:0},{text:"最近一月",value:1},{text:"最近三月",value:2},{text:"最近一年",value:3}]),n=h([{id:1,title:"工资发放",description:"公司转账 - 月薪",amount:"+8,500.00",type:"income",icon:"gold-coin-o",date:"2024-01-15",time:"14:30"},{id:2,title:"超市购物",description:"华润万家 - 刷卡消费",amount:"-156.80",type:"expense",icon:"shop-o",date:"2024-01-14",time:"19:20"},{id:3,title:"转账给张三",description:"个人转账",amount:"-2,000.00",type:"expense",icon:"exchange",date:"2024-01-14",time:"15:45"},{id:4,title:"理财收益",description:"朝朝盈 - 收益到账",amount:"+25.60",type:"income",icon:"gold-coin-o",date:"2024-01-13",time:"09:00"},{id:5,title:"餐厅消费",description:"海底捞 - 刷卡消费",amount:"-298.00",type:"expense",icon:"shop-o",date:"2024-01-13",time:"20:15"}]),a=se(()=>{const f={};return n.value.forEach(w=>{const b=_(w.date);f[b]||(f[b]=[]),f[b].push(w)}),f}),_=f=>{const w=new Date(f),b=new Date,$=new Date(b);return $.setDate($.getDate()-1),w.toDateString()===b.toDateString()?"今天":w.toDateString()===$.toDateString()?"昨天":`${w.getMonth()+1}月${w.getDate()}日`},y=()=>{setTimeout(()=>{t.value=!1,s.value=!0},1e3)},p=f=>{D(`查看 ${f.title} 详情`)};return ee(()=>{}),(f,w)=>{const b=T("van-nav-bar"),$=T("van-dropdown-item"),I=T("van-dropdown-menu"),L=T("van-icon"),k=T("van-cell"),R=T("van-cell-group"),M=T("van-list");return c(),g("div",Ft,[m(b,{title:"账户明细","left-arrow":"",onClickLeft:w[0]||(w[0]=x=>f.$router.back())}),e("div",Ut,[w[4]||(w[4]=Q('<div class="account-info" data-v-b1abf6b9><div class="account-card" data-v-b1abf6b9><div class="card-header" data-v-b1abf6b9><span class="card-type" data-v-b1abf6b9>储蓄卡</span><span class="card-bank" data-v-b1abf6b9>CC银行</span></div><div class="card-number" data-v-b1abf6b9>**** **** **** 8888</div><div class="card-balance" data-v-b1abf6b9><span class="label" data-v-b1abf6b9>可用余额</span><span class="amount" data-v-b1abf6b9>¥128,888.88</span></div></div></div>',1)),e("div",Mt,[m(I,null,{default:P(()=>[m($,{modelValue:i.value,"onUpdate:modelValue":w[1]||(w[1]=x=>i.value=x),options:l.value},null,8,["modelValue","options"]),m($,{modelValue:v.value,"onUpdate:modelValue":w[2]||(w[2]=x=>v.value=x),options:d.value},null,8,["modelValue","options"])]),_:1})]),e("div",Ot,[m(M,{loading:t.value,"onUpdate:loading":w[3]||(w[3]=x=>t.value=x),finished:s.value,"finished-text":"没有更多了",onLoad:y},{default:P(()=>[(c(!0),g(E,null,V(a.value,(x,Z)=>(c(),g("div",{key:Z,class:"transaction-group"},[e("div",zt,r(Z),1),m(R,null,{default:P(()=>[(c(!0),g(E,null,V(x,N=>(c(),j(k,{key:N.id,title:N.title,label:N.description,value:N.amount,"value-class":N.type==="income"?"income":"expense",onClick:q=>p(N)},{icon:P(()=>[e("div",{class:O(["transaction-icon",N.type])},[m(L,{name:N.icon,size:"20"},null,8,["name"])],2)]),"right-icon":P(()=>[m(L,{name:"arrow"})]),_:2},1032,["title","label","value","value-class","onClick"]))),128))]),_:2},1024)]))),128))]),_:1},8,["loading","finished"])])]),m(le)])}}},Kt=z(qt,[["__scopeId","data-v-b1abf6b9"]]);const Yt={class:"transfer-container"},jt={class:"content"},Ht={class:"submit-section"},Wt={__name:"Transfer",setup(u){const t=oe(),s=h(!1),i=h(!1),v=h({name:"",account:"",bank:""}),l=h(""),d=h(""),n=h(["CC银行","中国工商银行","中国建设银行","中国农业银行","中国银行","交通银行","中信银行","光大银行","华夏银行","民生银行"]),a=({selectedValues:y})=>{v.value.bank=y[0],i.value=!1},_=async()=>{try{await de({title:"确认转账",message:`向 ${v.value.name} 转账 ¥${l.value} 元？`}),s.value=!0,setTimeout(()=>{D("转账成功"),t.back(),s.value=!1},2e3)}catch{}};return(y,p)=>{const f=T("van-nav-bar"),w=T("van-field"),b=T("van-cell-group"),$=T("van-button"),I=T("van-form"),L=T("van-picker"),k=T("van-popup");return c(),g("div",Yt,[m(f,{title:"转账","left-arrow":"",onClickLeft:p[0]||(p[0]=R=>y.$router.back())}),e("div",jt,[m(I,{onSubmit:_},{default:P(()=>[m(b,{inset:"",title:"收款人信息"},{default:P(()=>[m(w,{modelValue:v.value.name,"onUpdate:modelValue":p[1]||(p[1]=R=>v.value.name=R),name:"name",label:"收款人",placeholder:"请输入收款人姓名",rules:[{required:!0,message:"请填写收款人姓名"}]},null,8,["modelValue"]),m(w,{modelValue:v.value.account,"onUpdate:modelValue":p[2]||(p[2]=R=>v.value.account=R),name:"account",label:"收款账号",placeholder:"请输入收款账号",rules:[{required:!0,message:"请填写收款账号"}]},null,8,["modelValue"]),m(w,{modelValue:v.value.bank,"onUpdate:modelValue":p[3]||(p[3]=R=>v.value.bank=R),name:"bank",label:"收款银行",placeholder:"请选择收款银行",readonly:"",onClick:p[4]||(p[4]=R=>i.value=!0)},null,8,["modelValue"])]),_:1}),m(b,{inset:"",title:"转账信息"},{default:P(()=>[m(w,{modelValue:l.value,"onUpdate:modelValue":p[5]||(p[5]=R=>l.value=R),name:"amount",label:"转账金额",placeholder:"请输入转账金额",type:"number",rules:[{required:!0,message:"请填写转账金额"}]},{"left-icon":P(()=>p[9]||(p[9]=[e("span",{style:{"margin-right":"4px"}},"¥",-1)])),_:1},8,["modelValue"]),m(w,{modelValue:d.value,"onUpdate:modelValue":p[6]||(p[6]=R=>d.value=R),name:"remark",label:"转账备注",placeholder:"请输入转账备注（可选）",maxlength:"50","show-word-limit":""},null,8,["modelValue"])]),_:1}),e("div",Ht,[m($,{round:"",block:"",type:"primary","native-type":"submit",loading:s.value,"loading-text":"处理中..."},{default:P(()=>p[10]||(p[10]=[J(" 确认转账 ",-1)])),_:1,__:[10]},8,["loading"])])]),_:1})]),m(k,{show:i.value,"onUpdate:show":p[8]||(p[8]=R=>i.value=R),position:"bottom"},{default:P(()=>[m(L,{columns:n.value,onConfirm:a,onCancel:p[7]||(p[7]=R=>i.value=!1)},null,8,["columns"])]),_:1},8,["show"]),m(le)])}}},Zt=z(Wt,[["__scopeId","data-v-fbd6ad4d"]]);const Gt={class:"cards-container"},Jt={class:"content"},Xt={class:"cards-carousel"},Qt={class:"card-header"},es={class:"card-name"},ts={class:"card-logo"},ss={class:"card-number"},ns={class:"card-footer"},as={class:"card-info"},os={class:"value"},is={class:"card-info"},ls={class:"value"},rs={class:"card-functions"},ds={class:"card-list"},cs={class:"add-card-section"},us={__name:"Cards",setup(u){ie();const t=h([{id:1,name:"一卡通储蓄卡",bank:"CC银行",number:"**** **** **** 8888",holder:"张三",expiry:"12/28",type:"debit",status:"正常"},{id:2,name:"信用卡金卡",bank:"CC银行",number:"**** **** **** 6666",holder:"张三",expiry:"08/27",type:"credit",status:"正常"},{id:3,name:"理财金卡",bank:"CC银行",number:"**** **** **** 9999",holder:"张三",expiry:"03/29",type:"wealth",status:"冻结"}]),s=h([{name:"挂失",icon:"warning-o",action:"reportLoss"},{name:"解挂",icon:"success",action:"unfreeze"},{name:"设置密码",icon:"lock",action:"setPassword"},{name:"额度调整",icon:"balance-o",action:"adjustLimit"},{name:"账单查询",icon:"orders-o",action:"viewBill"},{name:"分期还款",icon:"gold-coin-o",action:"installment"},{name:"积分查询",icon:"star-o",action:"viewPoints"},{name:"更多",icon:"ellipsis",action:"more"}]),i=n=>{D({reportLoss:"挂失功能",unfreeze:"解挂功能",setPassword:"设置密码",adjustLimit:"额度调整",viewBill:"账单查询",installment:"分期还款",viewPoints:"积分查询",more:"更多功能"}[n]||"功能开发中")},v=n=>{D(`查看 ${n.name} 详情`)},l=()=>{D("申请新卡功能")},d=()=>{console.log("卡片页面数据刷新")};return ee(()=>{d()}),ue(()=>{d()}),(n,a)=>{const _=T("van-nav-bar"),y=T("van-swipe-item"),p=T("van-swipe"),f=T("van-grid-item"),w=T("van-grid"),b=T("van-icon"),$=T("van-cell"),I=T("van-cell-group"),L=T("van-button");return c(),g("div",Gt,[m(_,{title:"我的卡片","left-arrow":"",onClickLeft:a[0]||(a[0]=k=>n.$router.back())}),e("div",Jt,[e("div",Xt,[m(p,{autoplay:3e3,"indicator-color":"white"},{default:P(()=>[(c(!0),g(E,null,V(t.value,k=>(c(),j(y,{key:k.id},{default:P(()=>[e("div",{class:O(["card-item",k.type])},[e("div",Qt,[e("span",es,r(k.name),1),e("span",ts,r(k.bank),1)]),e("div",ss,r(k.number),1),e("div",ns,[e("div",as,[a[1]||(a[1]=e("span",{class:"label"},"持卡人",-1)),e("span",os,r(k.holder),1)]),e("div",is,[a[2]||(a[2]=e("span",{class:"label"},"有效期",-1)),e("span",ls,r(k.expiry),1)])])],2)]),_:2},1024))),128))]),_:1})]),e("div",rs,[m(w,{"column-num":4,border:!1},{default:P(()=>[(c(!0),g(E,null,V(s.value,k=>(c(),j(f,{key:k.name,icon:k.icon,text:k.name,onClick:R=>i(k.action)},null,8,["icon","text","onClick"]))),128))]),_:1})]),e("div",ds,[m(I,{title:"我的银行卡"},{default:P(()=>[(c(!0),g(E,null,V(t.value,k=>(c(),j($,{key:k.id,title:k.name,label:`${k.bank} • ${k.number}`,value:k.status,"value-class":k.status==="正常"?"status-normal":"status-frozen",onClick:R=>v(k)},{icon:P(()=>[e("div",{class:O(["card-icon",k.type])},[m(b,{name:"credit-pay",size:"20"})],2)]),"right-icon":P(()=>[m(b,{name:"arrow"})]),_:2},1032,["title","label","value","value-class","onClick"]))),128))]),_:1})]),e("div",cs,[m(L,{round:"",block:"",type:"primary",icon:"plus",onClick:l},{default:P(()=>a[3]||(a[3]=[J(" 申请新卡 ",-1)])),_:1,__:[3]})])]),m(le)])}}},vs=z(us,[["__scopeId","data-v-83b9fc9c"]]);const ps={class:"wealth-container"},ms={class:"content"},fs={class:"recommend-section"},gs=["onClick"],_s={key:0,class:"vip-badge"},hs={class:"product-header"},ys={class:"product-info"},bs={class:"product-name"},ks={class:"product-rate"},ws={class:"rate-number"},$s={class:"product-desc"},xs={class:"product-action"},Cs={class:"product-details"},Ps={class:"detail-text"},Ss={class:"fund-section"},Ts={class:"fund-grid"},Is=["onClick"],Ds={key:0,class:"vip-badge-small"},Ls={class:"fund-info"},As={class:"product-list"},Es=["onClick"],Vs={class:"item-left"},Rs={class:"chart-icon"},Ns={width:"40",height:"30",viewBox:"0 0 40 30"},Bs=["points","stroke"],Fs={class:"item-info"},Us={class:"item-desc"},Ms={class:"item-right"},Os={class:"item-tags"},zs={key:0,class:"item-discount"},qs={class:"news-section"},Ks={class:"section-header"},Ys={__name:"Wealth",setup(u){ie();const t=h([{id:1,name:'"芙蓉锦程·日日得益"',rate:"1.539",desc:"7日年化收益率",details:"",buttonText:"立即购买"},{id:2,name:"南银理财安稳1906—年定开T-G份额（自动赎回···",rate:"2.9~3.2",desc:"业绩比较基准",details:"",buttonText:"立即购买"},{id:3,name:"宁银理财宁欣日日薪30号（芙蓉锦程-优选）（···",rate:"1.99",desc:"近一月年化",details:"",buttonText:"立即购买"}]),s=h([{id:1,title:"基金超市",subtitle:"多支基金任你挑",icon:"shop-o",gradient:"linear-gradient(135deg, #ffeaa7, #fab1a0)"},{id:2,title:"定投专区",subtitle:"小投资大未来",icon:"clock-o",gradient:"linear-gradient(135deg, #a8e6cf, #74b9ff)"}]),i=h([{id:1,name:"工银精选平衡混合",rate:"11.61",period:"近1年收益率",tags:["均衡配置","低波权益"],discount:"0.1折申购",isPositive:!0,chartPoints:"5,25 10,15 15,20 20,10 25,18 30,8 35,12"},{id:2,name:"易方达如意安享一年持有混合（FOF）A",rate:"3.72",period:"近1年收益率",tags:["风险分散","长期稳健"],discount:"1折申购",isPositive:!0,chartPoints:"5,20 10,18 15,22 20,16 25,19 30,14 35,17"},{id:3,name:"华夏行业景气混合",rate:"51.85",period:"近1年收益率",tags:["据金量气赛道","布局成长"],discount:"0.1折申购",isPositive:!0,chartPoints:"5,28 10,12 15,8 20,15 25,5 30,18 35,3"}]),v=async n=>{if([2,3].includes(n.id)&&!H.hasVIPLevel(1)){try{await de({title:"VIP专享产品",message:"此产品为VIP专享，升级VIP即可享受更高收益理财产品。是否了解VIP权益？",confirmButtonText:"了解VIP",cancelButtonText:"取消"}),D("VIP权益详情页面")}catch{}return}D(`查看${n.name}详情`)},l=async n=>{if(n.id===2&&!H.hasVIPLevel(1)){try{await de({title:"VIP专享功能",message:"定投专区为VIP专享功能，可享受更优质的定投服务和更低的手续费。是否了解VIP权益？",confirmButtonText:"了解VIP",cancelButtonText:"取消"}),D("VIP权益详情页面")}catch{}return}D(`进入${n.title}`)},d=()=>{console.log("理财页面数据刷新")};return ee(()=>{d()}),ue(()=>{d()}),(n,a)=>{const _=T("van-icon"),y=T("van-nav-bar"),p=T("van-button");return c(),g("div",ps,[m(y,{title:"理财推荐",fixed:""},{right:P(()=>[m(_,{name:"search",size:"18",onClick:a[0]||(a[0]=f=>G(D)("搜索理财产品"))})]),_:1}),e("div",ms,[e("div",fs,[(c(!0),g(E,null,V(t.value,f=>(c(),g("div",{class:"recommend-item",key:f.id,onClick:w=>v(f)},[[2,3].includes(f.id)?(c(),g("div",_s,[m(_,{name:"diamond-o",size:"12"}),a[2]||(a[2]=e("span",null,"VIP专享",-1))])):F("",!0),e("div",hs,[e("div",ys,[e("h3",bs,r(f.name),1),e("div",ks,[e("span",ws,r(f.rate),1),a[3]||(a[3]=e("span",{class:"rate-unit"},"%",-1))]),e("div",$s,r(f.desc),1)]),e("div",xs,[m(p,{type:"danger",size:"small",round:""},{default:P(()=>[J(r(f.buttonText),1)]),_:2},1024)])]),e("div",Cs,[e("span",Ps,r(f.details),1)])],8,gs))),128))]),e("div",Ss,[a[5]||(a[5]=e("div",{class:"section-header"},[e("h3",null,"精选基金")],-1)),e("div",Ts,[(c(!0),g(E,null,V(s.value,f=>(c(),g("div",{class:"fund-card",key:f.id,onClick:w=>l(f)},[f.id===2?(c(),g("div",Ds,[m(_,{name:"diamond-o",size:"10"}),a[4]||(a[4]=e("span",null,"VIP",-1))])):F("",!0),e("div",{class:"fund-icon",style:ne({background:f.gradient})},[m(_,{name:f.icon,size:"24"},null,8,["name"])],4),e("div",Ls,[e("h4",null,r(f.title),1),e("p",null,r(f.subtitle),1)])],8,Is))),128))])]),e("div",As,[(c(!0),g(E,null,V(i.value,f=>(c(),g("div",{class:"product-item",key:f.id,onClick:w=>v(f)},[e("div",Vs,[e("div",Rs,[(c(),g("svg",Ns,[e("polyline",{points:f.chartPoints,fill:"none",stroke:f.isPositive?"#ff6b6b":"#00b894","stroke-width":"2"},null,8,Bs)]))]),e("div",Fs,[e("h4",null,r(f.name),1),e("div",{class:O(["item-rate",{positive:f.isPositive,negative:!f.isPositive}])},r(f.isPositive?"+":"")+r(f.rate)+"% ",3),e("div",Us,r(f.period),1)])]),e("div",Ms,[e("div",Os,[(c(!0),g(E,null,V(f.tags,w=>(c(),g("span",{class:"tag",key:w},r(w),1))),128))]),f.discount?(c(),g("div",zs,r(f.discount),1)):F("",!0)])],8,Es))),128))]),e("div",qs,[e("div",Ks,[a[6]||(a[6]=e("h3",null,"行业资讯",-1)),m(_,{name:"arrow"})]),e("div",{class:"news-item",onClick:a[1]||(a[1]=f=>G(D)("查看资讯详情"))},[a[8]||(a[8]=Q('<div class="news-tag" data-v-4dcf82e9>秒懂市场</div><div class="news-content" data-v-4dcf82e9><h4 data-v-4dcf82e9>指数波动加剧！如何降低震感？| 秒懂市场</h4><div class="news-meta" data-v-4dcf82e9><span class="news-date" data-v-4dcf82e9>5/5</span><div class="news-mascot" data-v-4dcf82e9><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiMzMzMiLz4KPGNpcmNsZSBjeD0iMTQiIGN5PSIxNiIgcj0iMyIgZmlsbD0iI2ZmZiIvPgo8Y2lyY2xlIGN4PSIyNiIgY3k9IjE2IiByPSIzIiBmaWxsPSIjZmZmIi8+CjxwYXRoIGQ9Ik0xMiAyNEMyMCAyOCAyOCAyNCAxMiAyNCIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K" alt="熊猫" data-v-4dcf82e9></div></div></div>',2)),m(p,{size:"small",round:"",color:"#d4a574"},{default:P(()=>a[7]||(a[7]=[J("查看详情",-1)])),_:1,__:[7]})])])]),m(le)])}}},js=z(Ys,[["__scopeId","data-v-4dcf82e9"]]);const Hs={class:"life-container"},Ws={class:"custom-nav-bar"},Zs={class:"nav-content"},Gs={class:"nav-icons"},Js={class:"content"},Xs={class:"category-tabs"},Qs={key:0,class:"life-payment"},en={class:"service-card"},tn={class:"service-icon"},sn={class:"service-info"},nn={key:1,class:"government-services"},an={class:"service-card"},on={class:"service-icon"},ln={class:"service-info"},rn={class:"livelihood-item"},dn={key:2,class:"fans-benefits"},cn={class:"benefits-list"},un=["onClick"],vn={class:"benefit-icon"},pn={class:"benefit-info"},mn={class:"benefit-tag"},fn={class:"benefit-action"},gn={class:"privilege-card"},_n={key:3},hn={class:"car-service-section"},yn={class:"section-header"},bn={class:"car-activity"},kn={class:"activity-content"},wn={class:"stars"},$n={class:"car-brands"},xn=["onClick"],Cn={class:"brand-logo"},Pn={class:"car-service-card"},Sn={class:"service-icon"},Tn={class:"travel-section"},In={class:"travel-services"},Dn={class:"card-image"},Ln={class:"travel-grid"},An=["onClick"],En={class:"travel-icon"},Vn={class:"convenience-section"},Rn={class:"convenience-item"},Nn={__name:"Life",setup(u){ie();const t=h(0),s=h(""),i=h([{id:1,title:"水费",description:"在线缴水费",icon:"💧",type:"water"},{id:2,title:"手机话费",description:"在线缴话费",icon:"📱",type:"phone"},{id:3,title:"燃气费",description:"在线缴燃气费",icon:"🔥",type:"gas"},{id:4,title:"固话",description:"在线缴固话费",icon:"☎️",type:"landline"}]),v=h([{id:1,title:"社保查询",description:"查询社保缴费记录",icon:"🏛️",type:"social_security"},{id:2,title:"公积金查询",description:"查询公积金余额",icon:"🏦",type:"housing_fund"},{id:3,title:"个税查询",description:"个人所得税查询",icon:"📊",type:"tax_query"},{id:4,title:"违章查询",description:"车辆违章查询",icon:"🚗",type:"violation_query"},{id:5,title:"证件办理",description:"身份证等证件办理",icon:"📄",type:"document_service"},{id:6,title:"户籍服务",description:"户口迁移等服务",icon:"🏠",type:"household_service"}]),l=h([{id:1,title:"医保服务",icon:"certificate",gradient:"linear-gradient(135deg, #43E97B, #38F9D7)",type:"medical_insurance"},{id:2,title:"教育缴费",icon:"certificate",gradient:"linear-gradient(135deg, #FA709A, #FEE140)",type:"education_fee"},{id:3,title:"养老服务",icon:"like-o",gradient:"linear-gradient(135deg, #A8EDEA, #FED6E3)",type:"pension_service"},{id:4,title:"就业服务",icon:"manager-o",gradient:"linear-gradient(135deg, #667eea, #764ba2)",type:"employment_service"},{id:5,title:"法律援助",icon:"balance-o",gradient:"linear-gradient(135deg, #f093fb, #f5576c)",type:"legal_aid"},{id:6,title:"便民热线",icon:"phone-o",gradient:"linear-gradient(135deg, #4facfe, #00f2fe)",type:"hotline"}]),d=h([{id:1,title:"新人专享大礼包",description:"注册即送1000积分+专属优惠券",icon:"🎁",tag:"限时",action:"立即领取",type:"newbie_gift"},{id:2,title:"每日签到奖励",description:"连续签到7天送神秘大奖",icon:"📅",tag:"每日",action:"去签到",type:"daily_checkin"},{id:3,title:"生日专属福利",description:"生日当月享受专属折扣",icon:"🎂",tag:"专属",action:"查看详情",type:"birthday_benefit"},{id:4,title:"邀请好友奖励",description:"邀请好友注册双方都有奖",icon:"👥",tag:"双赢",action:"邀请好友",type:"invite_reward"}]),n=h([{id:1,title:"VIP专属客服",description:"7x24小时专属服务",icon:"service-o",gradient:"linear-gradient(135deg, #667eea, #764ba2)",type:"vip_service"},{id:2,title:"免费提现",description:"每月10次免费提现",icon:"gold-coin-o",gradient:"linear-gradient(135deg, #f9ca24, #f0932b)",type:"free_withdrawal"},{id:3,title:"积分翻倍",description:"消费积分双倍奖励",icon:"fire-o",gradient:"linear-gradient(135deg, #ff6b6b, #ee5a24)",type:"double_points"},{id:4,title:"专属理财",description:"高收益理财产品",icon:"diamond-o",gradient:"linear-gradient(135deg, #6c5ce7, #a29bfe)",type:"exclusive_finance"}]),a=h([{id:1,name:"别克",logo:"🚗"},{id:2,name:"奔驰",logo:"🚙"},{id:3,name:"大众",logo:"🚐"},{id:4,name:"本田",logo:"🚕"},{id:5,name:"凯迪拉克",logo:"🚖"},{id:6,name:"雪佛兰",logo:"🚗"}]),_=h([{id:1,title:"看车有礼",description:"到店看车享好礼",icon:"gift-o",type:"car_gift"},{id:2,title:"优惠购车",description:"超值优惠购新车",icon:"discount",type:"car_discount"}]),y=h([{id:1,title:"权益洗车",description:"洗车更优惠",icon:"fire-o",type:"car_wash"},{id:2,title:"停车缴费",description:"扫码缴费",icon:"scan",type:"parking"},{id:3,title:"机场贵宾服务",description:"享贵宾礼遇",icon:"gem-o",type:"airport_vip"}]),p=h([{id:1,title:"粉丝福利社",description:"专属福利",icon:"star-o",gradient:"linear-gradient(135deg, #FF6B6B, #FF8E8E)",type:"fans"},{id:2,title:"领券中心",description:"优惠券",icon:"coupon-o",gradient:"linear-gradient(135deg, #4ECDC4, #44A08D)",type:"coupon"},{id:3,title:"付款码",description:"快速支付",icon:"qr",gradient:"linear-gradient(135deg, #45B7D1, #96C93D)",type:"qr_pay"},{id:4,title:"电影票",description:"优惠购票",icon:"video-o",gradient:"linear-gradient(135deg, #F093FB, #F5576C)",type:"movie"},{id:5,title:"话费充值",description:"快速充值",icon:"phone-o",gradient:"linear-gradient(135deg, #4FACFE, #00F2FE)",type:"recharge"},{id:6,title:"医保码",description:"医保支付",icon:"certificate",gradient:"linear-gradient(135deg, #43E97B, #38F9D7)",type:"medical"},{id:7,title:"中小学学费",description:"在线缴费",icon:"certificate",gradient:"linear-gradient(135deg, #FA709A, #FEE140)",type:"tuition"},{id:8,title:"学生儿童医保",description:"医保服务",icon:"like-o",gradient:"linear-gradient(135deg, #A8EDEA, #FED6E3)",type:"student_medical"},{id:9,title:"全部菜单",description:"更多服务",icon:"ellipsis",gradient:"linear-gradient(135deg, #D299C2, #FEF9D7)",type:"more"}]),f=L=>{D(`搜索: ${L}`)},w=L=>{D(`切换到分类: ${L}`)},b=L=>{D(`点击了: ${L.title||L.type}`)},$=L=>{D(`选择品牌: ${L.name}`)},I=()=>{console.log("生活页面数据刷新")};return ee(()=>{I()}),ue(()=>{I()}),(L,k)=>{const R=T("van-search"),M=T("van-icon"),x=T("van-tab"),Z=T("van-tabs"),N=T("van-grid-item"),q=T("van-grid"),A=T("van-button");return c(),g("div",Hs,[e("div",Ws,[e("div",Zs,[m(R,{modelValue:s.value,"onUpdate:modelValue":k[0]||(k[0]=o=>s.value=o),placeholder:"请输入搜索内容",shape:"round",background:"transparent",onSearch:f,class:"nav-search"},null,8,["modelValue"]),e("div",Gs,[m(M,{name:"scan",size:"20",onClick:k[1]||(k[1]=o=>G(D)("扫一扫"))}),m(M,{name:"service-o",size:"20",onClick:k[2]||(k[2]=o=>G(D)("客服"))}),m(M,{name:"add-o",size:"20",onClick:k[3]||(k[3]=o=>G(D)("添加"))})])])]),e("div",Js,[e("div",Xs,[m(Z,{active:t.value,"onUpdate:active":k[4]||(k[4]=o=>t.value=o),onChange:w},{default:P(()=>[m(x,{title:"生活缴费"}),m(x,{title:"政务民生"}),m(x,{title:"粉丝福利"})]),_:1},8,["active"])]),t.value===0?(c(),g("div",Qs,[m(q,{"column-num":2,gutter:16,class:"payment-grid"},{default:P(()=>[(c(!0),g(E,null,V(i.value,o=>(c(),j(N,{key:o.id,onClick:S=>b(o)},{default:P(()=>[e("div",en,[e("div",tn,r(o.icon),1),e("div",sn,[e("h3",null,r(o.title),1),e("p",null,r(o.description),1)])])]),_:2},1032,["onClick"]))),128))]),_:1})])):F("",!0),t.value===1?(c(),g("div",nn,[k[6]||(k[6]=e("div",{class:"section-header"},[e("h2",null,"🏛️ 政务服务")],-1)),m(q,{"column-num":2,gutter:16,class:"government-grid"},{default:P(()=>[(c(!0),g(E,null,V(v.value,o=>(c(),j(N,{key:o.id,onClick:S=>b(o)},{default:P(()=>[e("div",an,[e("div",on,r(o.icon),1),e("div",ln,[e("h3",null,r(o.title),1),e("p",null,r(o.description),1)])])]),_:2},1032,["onClick"]))),128))]),_:1}),k[7]||(k[7]=e("div",{class:"section-header"},[e("h2",null,"🏥 民生服务")],-1)),m(q,{"column-num":3,gutter:12,class:"livelihood-grid"},{default:P(()=>[(c(!0),g(E,null,V(l.value,o=>(c(),j(N,{key:o.id,onClick:S=>b(o)},{default:P(()=>[e("div",rn,[e("div",{class:"livelihood-icon",style:ne({background:o.gradient})},[m(M,{name:o.icon,size:"20",color:"white"},null,8,["name"])],4),e("span",null,r(o.title),1)])]),_:2},1032,["onClick"]))),128))]),_:1})])):F("",!0),t.value===2?(c(),g("div",dn,[k[8]||(k[8]=e("div",{class:"benefits-banner"},[e("div",{class:"banner-content"},[e("h2",null,"🎉 粉丝专属福利"),e("p",null,"感谢您的支持，专属福利等您来领！")])],-1)),k[9]||(k[9]=e("div",{class:"section-header"},[e("h2",null,"🎁 限时福利")],-1)),e("div",cn,[(c(!0),g(E,null,V(d.value,o=>(c(),g("div",{key:o.id,class:"benefit-card",onClick:S=>b(o)},[e("div",vn,r(o.icon),1),e("div",pn,[e("h3",null,r(o.title),1),e("p",null,r(o.description),1),e("div",mn,r(o.tag),1)]),e("div",fn,[m(A,{size:"small",type:"primary"},{default:P(()=>[J(r(o.action),1)]),_:2},1024)])],8,un))),128))]),k[10]||(k[10]=e("div",{class:"section-header"},[e("h2",null,"🏆 会员特权")],-1)),m(q,{"column-num":2,gutter:16,class:"privilege-grid"},{default:P(()=>[(c(!0),g(E,null,V(n.value,o=>(c(),j(N,{key:o.id,onClick:S=>b(o)},{default:P(()=>[e("div",gn,[e("div",{class:"privilege-icon",style:ne({background:o.gradient})},[m(M,{name:o.icon,size:"24",color:"white"},null,8,["name"])],4),e("h3",null,r(o.title),1),e("p",null,r(o.description),1)])]),_:2},1032,["onClick"]))),128))]),_:1})])):F("",!0),t.value===0?(c(),g("div",_n,[e("div",hn,[e("div",yn,[k[11]||(k[11]=e("h2",null,"汽车服务",-1)),m(M,{name:"arrow"})]),e("div",bn,[e("div",kn,[k[12]||(k[12]=e("h3",null,"「营速2024」",-1)),k[13]||(k[13]=e("p",null,"内卷的尽头是抽象？",-1)),e("div",wn,[(c(),g(E,null,V(4,o=>e("span",{key:o,class:"star"},"✨")),64))])])]),e("div",$n,[(c(!0),g(E,null,V(a.value,o=>(c(),g("div",{key:o.id,class:"brand-item",onClick:S=>$(o)},[e("div",Cn,r(o.logo),1),e("span",null,r(o.name),1)],8,xn))),128))]),m(q,{"column-num":2,gutter:16,class:"car-services"},{default:P(()=>[(c(!0),g(E,null,V(_.value,o=>(c(),j(N,{key:o.id,onClick:S=>b(o)},{default:P(()=>[e("div",Pn,[e("div",Sn,[m(M,{name:o.icon,size:"24"},null,8,["name"])]),e("h4",null,r(o.title),1),e("p",null,r(o.description),1)])]),_:2},1032,["onClick"]))),128))]),_:1})]),e("div",Tn,[k[15]||(k[15]=e("div",{class:"section-header"},[e("h2",null,"出行礼遇")],-1)),e("div",In,[e("div",{class:"travel-main-card",onClick:k[5]||(k[5]=o=>b({type:"metro"}))},[k[14]||(k[14]=e("div",{class:"card-content"},[e("h3",null,"地铁公交"),e("p",null,"绿色出行，随机立减")],-1)),e("div",Dn,[m(M,{name:"logistics",size:"40",color:"#4A90E2"})])]),e("div",Ln,[(c(!0),g(E,null,V(y.value,o=>(c(),g("div",{key:o.id,class:"travel-card",onClick:S=>b(o)},[e("div",En,[m(M,{name:o.icon,size:"20"},null,8,["name"])]),e("h4",null,r(o.title),1),e("p",null,r(o.description),1)],8,An))),128))])])]),e("div",Vn,[m(q,{"column-num":5,gutter:12,class:"convenience-grid"},{default:P(()=>[(c(!0),g(E,null,V(p.value,o=>(c(),j(N,{key:o.id,onClick:S=>b(o)},{default:P(()=>[e("div",Rn,[e("div",{class:"convenience-icon",style:ne({background:o.gradient})},[m(M,{name:o.icon,size:"20",color:"white"},null,8,["name"])],4),e("span",null,r(o.title),1)])]),_:2},1032,["onClick"]))),128))]),_:1})])])):F("",!0)]),m(le)])}}},Bn=z(Nn,[["__scopeId","data-v-13bc8d54"]]);const Fn={class:"login-page"},Un={class:"status-bar"},Mn={class:"time"},On={class:"main-content"},zn={class:"logo-section"},qn={class:"app-title"},Kn={class:"app-subtitle"},Yn={class:"form-container"},jn={class:"input-wrapper"},Hn=["disabled"],Wn={key:0,class:"error-message"},Zn={class:"input-wrapper"},Gn=["type","disabled"],Jn={key:0,class:"error-message"},Xn={class:"checkbox-group"},Qn={class:"checkbox-label"},ea=["disabled"],ta={key:0},sa={key:1,class:"loading-spinner"},na={class:"quick-actions"},aa={key:0,class:"biometric-section"},oa={class:"biometric-icon"},ia={class:"footer"},la={class:"version"},ra={__name:"Login",setup(u){const t=oe(),s=ie(),i=h(""),v=h(!1),l=h(""),d=h(!1),n=h(!1),a=h(!1),_=h(!0),y=h("face"),p=X({username:"",password:""}),f=X({username:"",password:""}),w=X({show:!1,message:"",type:"success"}),b=X({title:"CC银行",subtitle:"一网通用户登录",version:"v8.8.8"}),$=h(null),I=h(null),L=se(()=>p.username.length>0&&p.password.length>0&&!f.username&&!f.password),k=()=>{const U=new Date;i.value=U.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})},R=U=>{switch(U){case"username":return!p.username||p.username.trim()===""?(f.username="请输入用户名",!1):(f.username="",!0);case"password":return!p.password||p.password.trim()===""?(f.password="请输入密码",!1):(f.password="",!0);default:return!0}},M=U=>{l.value=U},x=U=>{l.value="",R(U)},Z=U=>{f[U]=""},N=U=>{p[U]="",Z(U)},q=()=>{d.value=!d.value},A=(U,C="success")=>{w.message=U,w.type=C,w.show=!0,setTimeout(()=>{w.show=!1},3e3)},o=async()=>{const U=R("username"),C=R("password");if(!U||!C){A("请检查输入信息","error");return}a.value=!0;try{const K=await H.login({username:p.username,password:p.password});n.value?localStorage.setItem("rememberedPassword",p.password):localStorage.removeItem("rememberedPassword");const $e=s.query.redirect||"/home";setTimeout(()=>{t.push($e)},1e3)}catch(K){console.error("Login failed:",K)}finally{a.value=!1}},S=()=>{A(`${y.value==="face"?"Face ID":"Touch ID"}登录功能`,"warning")},ve=()=>{A("忘记密码功能","warning")},re=()=>{A("注册账户功能","warning")};let fe=null;return ee(()=>{setTimeout(()=>{v.value=!0},500),k(),fe=setInterval(k,1e3);const U=localStorage.getItem("rememberedPassword");U&&(p.password=U,n.value=!0),Pe(()=>{$.value&&$.value.focus()})}),pe(()=>{fe&&clearInterval(fe)}),(U,C)=>(c(),g("div",Fn,[e("div",Un,[e("span",Mn,r(i.value),1),C[10]||(C[10]=e("div",{class:"indicators"},[e("span",{class:"signal"},"📶"),e("span",{class:"wifi"},"📶"),e("span",{class:"battery"},"🔋")],-1))]),e("div",On,[e("div",zn,[e("div",{class:O(["logo-container",{animate:v.value}])},C[11]||(C[11]=[e("div",{class:"logo-circle"},[e("span",{class:"logo-text"},"C行")],-1)]),2),e("h1",qn,r(b.title),1),e("p",Kn,r(b.subtitle),1)]),e("div",Yn,[e("form",{onSubmit:ge(o,["prevent"]),class:"login-form"},[e("div",{class:O(["input-group",{error:f.username,focused:l.value==="username"}])},[e("div",jn,[C[12]||(C[12]=e("span",{class:"input-icon"},"👤",-1)),Y(e("input",{ref_key:"usernameInput",ref:$,"onUpdate:modelValue":C[0]||(C[0]=K=>p.username=K),type:"text",placeholder:"请输入用户名",class:"form-input",disabled:a.value,onFocus:C[1]||(C[1]=K=>M("username")),onBlur:C[2]||(C[2]=K=>x("username")),onInput:C[3]||(C[3]=K=>Z("username"))},null,40,Hn),[[W,p.username]]),p.username?(c(),g("span",{key:0,class:"clear-btn",onClick:C[4]||(C[4]=K=>N("username"))},"✕")):F("",!0)]),f.username?(c(),g("div",Wn,r(f.username),1)):F("",!0)],2),e("div",{class:O(["input-group",{error:f.password,focused:l.value==="password"}])},[e("div",Zn,[C[13]||(C[13]=e("span",{class:"input-icon"},"🔒",-1)),Y(e("input",{ref_key:"passwordInput",ref:I,"onUpdate:modelValue":C[5]||(C[5]=K=>p.password=K),type:d.value?"text":"password",placeholder:"请输入密码",class:"form-input",disabled:a.value,onFocus:C[6]||(C[6]=K=>M("password")),onBlur:C[7]||(C[7]=K=>x("password")),onInput:C[8]||(C[8]=K=>Z("password"))},null,40,Gn),[[Se,p.password]]),e("span",{class:"toggle-password",onClick:q},r(d.value?"🙈":"👁️"),1)]),f.password?(c(),g("div",Jn,r(f.password),1)):F("",!0)],2),e("div",Xn,[e("label",Qn,[Y(e("input",{"onUpdate:modelValue":C[9]||(C[9]=K=>n.value=K),type:"checkbox",class:"checkbox"},null,512),[[Te,n.value]]),C[14]||(C[14]=e("span",{class:"checkmark"},null,-1)),C[15]||(C[15]=J(" 记住密码 ",-1))])]),e("button",{type:"submit",class:O(["login-btn",{loading:a.value,disabled:!L.value}]),disabled:!L.value||a.value},[a.value?(c(),g("div",sa,C[16]||(C[16]=[e("div",{class:"spinner"},null,-1),e("span",null,"登录中...",-1)]))):(c(),g("span",ta,"登录"))],10,ea)],32),e("div",na,[e("a",{href:"#",onClick:ge(ve,["prevent"]),class:"action-link"},"忘记密码？"),e("a",{href:"#",onClick:ge(re,["prevent"]),class:"action-link"},"注册账户")]),_.value?(c(),g("div",aa,[C[17]||(C[17]=e("div",{class:"divider"},[e("span",null,"或")],-1)),e("button",{onClick:S,class:"biometric-btn"},[e("span",oa,r(y.value==="face"?"👤":"👆"),1),J(" "+r(y.value==="face"?"Face ID登录":"Touch ID登录"),1)])])):F("",!0)])]),e("div",ia,[e("p",la,"版本 "+r(b.version),1),C[18]||(C[18]=e("p",{class:"copyright"},"© 2024 CC银行股份有限公司",-1))]),m(Ie,{name:"toast"},{default:P(()=>[w.show?(c(),g("div",{key:0,class:O(["toast",w.type])},r(w.message),3)):F("",!0)]),_:1})]))}},da=z(ra,[["__scopeId","data-v-4678136e"]]),ca={style:{padding:"20px"}},ua={__name:"InterpolationDemo",setup(u){const t=h("张三"),s=h(""),i=h(!1),v=()=>{i.value=!i.value},l=()=>{console.log("用户名：",t.value),console.log("密码：",s.value),console.log("登录状态：",i.value)};return(d,n)=>(c(),g("div",ca,[n[2]||(n[2]=e("h2",null,"插值表达式演示",-1)),e("p",null,"用户名："+r(t.value),1),e("p",null,"密码长度："+r(s.value.length),1),e("p",null,"是否登录："+r(i.value?"是":"否"),1),e("p",null,"用户名大写："+r(t.value.toUpperCase()),1),n[3]||(n[3]=e("p",null,"计算结果："+r(1+1),-1)),Y(e("input",{"onUpdate:modelValue":n[0]||(n[0]=a=>t.value=a),placeholder:"输入用户名"},null,512),[[W,t.value]]),Y(e("input",{"onUpdate:modelValue":n[1]||(n[1]=a=>s.value=a),type:"password",placeholder:"输入密码"},null,512),[[W,s.value]]),e("button",{onClick:v},"切换登录状态"),e("button",{onClick:l},"在控制台显示值")]))}},va={__name:"RefDemo",setup(u){const t=h(""),s=()=>{t.value="张三"},i=()=>{t.value=""};return(v,l)=>(c(),g("div",null,[e("h2",null,"你好，"+r(t.value)+"！",1),e("p",null,"你输入了 "+r(t.value.length)+" 个字符",1),Y(e("input",{"onUpdate:modelValue":l[0]||(l[0]=d=>t.value=d),placeholder:"输入你的名字"},null,512),[[W,t.value]]),e("button",{onClick:s},"改成张三"),e("button",{onClick:i},"清空")]))}};const pa={class:"demo-container"},ma={__name:"StyleDemo",setup(u){return(t,s)=>(c(),g("div",pa,s[0]||(s[0]=[Q('<h2 data-v-c18decd7>CSS样式演示</h2><div class="box margin-demo" data-v-c18decd7> 外边距演示 (margin) </div><div class="box padding-demo" data-v-c18decd7> 内边距演示 (padding) </div><div class="box gradient-demo" data-v-c18decd7> 渐变背景演示 </div><div class="flex-demo" data-v-c18decd7><div class="flex-item" data-v-c18decd7>项目1</div><div class="flex-item" data-v-c18decd7>项目2</div><div class="flex-item" data-v-c18decd7>项目3</div></div>',5)])))}},fa=z(ma,[["__scopeId","data-v-c18decd7"]]),ga={style:{padding:"20px"}},_a={key:0},ha={key:1},ya={__name:"TemplateVsScript",setup(u){const t=h(""),s=h(""),i=()=>{t.value==="demo"&&s.value==="123456"?alert("登录成功！"):alert("登录失败！")},v=()=>{console.log("用户名：",t.value),console.log("密码：",s.value),console.log("登录条件：",t.value==="demo"&&s.value==="123456")};return(l,d)=>(c(),g("div",ga,[d[2]||(d[2]=e("h2",null,"模板 vs JavaScript 的区别",-1)),e("p",null,"用户名："+r(t.value),1),e("p",null,"密码："+r(s.value),1),e("p",null,"用户名是否为demo："+r(t.value==="demo"),1),e("p",null,"密码是否正确："+r(s.value==="123456"),1),e("p",null,"登录条件："+r(t.value==="demo"&&s.value==="123456"),1),Y(e("input",{"onUpdate:modelValue":d[0]||(d[0]=n=>t.value=n),placeholder:"用户名"},null,512),[[W,t.value]]),Y(e("input",{"onUpdate:modelValue":d[1]||(d[1]=n=>s.value=n),type:"password",placeholder:"密码"},null,512),[[W,s.value]]),e("button",{onClick:i},"检查登录条件"),e("button",{onClick:v},"在控制台显示"),t.value==="demo"&&s.value==="123456"?(c(),g("div",_a," ✅ 登录条件满足！ ")):(c(),g("div",ha," ❌ 登录条件不满足 "))]))}};const ba={class:"card-header"},ka={class:"bank-name"},wa={class:"card-type"},$a={class:"card-number"},xa={class:"card-footer"},Ca={class:"balance"},Pa={class:"amount"},Sa={__name:"BankCard",props:{bankName:{type:String,default:"CC银行"},cardNumber:{type:String,required:!0},cardType:{type:String,default:"savings",validator:u=>["savings","credit","debit"].includes(u)},balance:{type:Number,default:0}},emits:["transfer","showDetails"],setup(u,{emit:t}){const s=u,i=t,v=h(!1),l=se(()=>({savings:"储蓄卡",credit:"信用卡",debit:"借记卡"})[s.cardType]||"银行卡"),d=se(()=>s.cardNumber?`**** **** **** ${s.cardNumber.replace(/\s/g,"").slice(-4)}`:""),n=se(()=>s.balance.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})),a=()=>{v.value=!0,i("transfer",{cardNumber:s.cardNumber,cardType:s.cardType}),setTimeout(()=>{v.value=!1},1e3)},_=()=>{i("showDetails",{cardNumber:s.cardNumber,balance:s.balance})};return(y,p)=>(c(),g("div",{class:O(["bank-card",u.cardType])},[e("div",ba,[e("span",ka,r(u.bankName),1),e("span",wa,r(l.value),1)]),e("div",$a,r(d.value),1),e("div",xa,[e("div",Ca,[p[0]||(p[0]=e("span",{class:"label"},"可用余额",-1)),e("span",Pa,"¥"+r(n.value),1)]),e("div",{class:"actions"},[e("button",{onClick:a,class:"action-btn"},"转账"),e("button",{onClick:_,class:"action-btn"},"详情")])])],2))}},_e=z(Sa,[["__scopeId","data-v-be33502f"]]);const Ta={class:"component-demo"},Ia={class:"demo-section"},Da={class:"cards-container"},La={class:"interaction-section"},Aa={class:"interaction-log"},Ea={class:"log-list"},Va={class:"timestamp"},Ra={class:"action"},Na={class:"details"},Ba={__name:"ComponentDemo",setup(u){const t=h([]),s=(d,n)=>{t.value.unshift({time:new Date().toLocaleTimeString(),action:d,details:n}),t.value.length>10&&(t.value=t.value.slice(0,10))},i=d=>{s("转账操作",`卡号: ${d.cardNumber}, 类型: ${d.cardType}`)},v=d=>{s("查看详情",`卡号: ${d.cardNumber}, 余额: ¥${d.balance.toLocaleString()}`)},l=()=>{t.value=[]};return(d,n)=>(c(),g("div",Ta,[n[3]||(n[3]=Q('<h2 data-v-ae0d76f9>🧩 Vue组件基础演示</h2><div class="theory-section" data-v-ae0d76f9><h3 data-v-ae0d76f9>💡 什么是Vue组件？</h3><div class="explanation" data-v-ae0d76f9><p data-v-ae0d76f9><strong data-v-ae0d76f9>组件</strong>是Vue应用的基础构建块，就像搭积木一样：</p><ul data-v-ae0d76f9><li data-v-ae0d76f9>🏗️ <strong data-v-ae0d76f9>可复用</strong>：一次编写，多处使用</li><li data-v-ae0d76f9>🔧 <strong data-v-ae0d76f9>独立</strong>：有自己的数据、方法、样式</li><li data-v-ae0d76f9>🔗 <strong data-v-ae0d76f9>可组合</strong>：小组件组成大组件</li><li data-v-ae0d76f9>📦 <strong data-v-ae0d76f9>封装性</strong>：内部逻辑对外隐藏</li></ul></div></div>',2)),e("div",Ia,[n[0]||(n[0]=e("h3",null,"🎯 实际演示：银行卡组件",-1)),e("div",Da,[m(_e,{"bank-name":"CC银行","card-number":"6225 8888 1234 5678","card-type":"savings",balance:128888.88,onTransfer:i,onShowDetails:v}),m(_e,{"bank-name":"CC银行","card-number":"5555 4444 3333 2222","card-type":"credit",balance:5e4,onTransfer:i,onShowDetails:v}),m(_e,{"bank-name":"CC银行","card-number":"6225 1111 9999 8888","card-type":"debit",balance:25680.5,onTransfer:i,onShowDetails:v})])]),e("div",La,[n[2]||(n[2]=e("h3",null,"🔄 组件交互演示",-1)),e("div",Aa,[n[1]||(n[1]=e("h4",null,"操作日志：",-1)),e("div",Ea,[(c(!0),g(E,null,V(t.value,(a,_)=>(c(),g("div",{key:_,class:"log-item"},[e("span",Va,r(a.time),1),e("span",Ra,r(a.action),1),e("span",Na,r(a.details),1)]))),128))]),e("button",{onClick:l,class:"clear-btn"},"清空日志")])]),n[4]||(n[4]=Q('<div class="structure-section" data-v-ae0d76f9><h3 data-v-ae0d76f9>🏗️ 组件的三个核心部分</h3><div class="structure-grid" data-v-ae0d76f9><div class="structure-item template" data-v-ae0d76f9><h4 data-v-ae0d76f9>📄 Template（模板）</h4><p data-v-ae0d76f9>定义组件的HTML结构</p><code data-v-ae0d76f9>&lt;template&gt;<br data-v-ae0d76f9>  &lt;div&gt;界面内容&lt;/div&gt;<br data-v-ae0d76f9>&lt;/template&gt;</code></div><div class="structure-item script" data-v-ae0d76f9><h4 data-v-ae0d76f9>⚙️ Script（脚本）</h4><p data-v-ae0d76f9>定义组件的逻辑和数据</p><code data-v-ae0d76f9>&lt;script&gt;<br data-v-ae0d76f9>  export default {<br data-v-ae0d76f9>    // 组件逻辑<br data-v-ae0d76f9>  }<br data-v-ae0d76f9>&lt;/script&gt;</code></div><div class="structure-item style" data-v-ae0d76f9><h4 data-v-ae0d76f9>🎨 Style（样式）</h4><p data-v-ae0d76f9>定义组件的外观样式</p><code data-v-ae0d76f9>&lt;style scoped&gt;<br data-v-ae0d76f9>  .component {<br data-v-ae0d76f9>    /* 样式 */<br data-v-ae0d76f9>  }<br data-v-ae0d76f9>&lt;/style&gt;</code></div></div></div><div class="lifecycle-section" data-v-ae0d76f9><h3 data-v-ae0d76f9>🔄 组件生命周期</h3><div class="lifecycle-flow" data-v-ae0d76f9><div class="lifecycle-step" data-v-ae0d76f9><div class="step-icon" data-v-ae0d76f9>🚀</div><div class="step-content" data-v-ae0d76f9><h4 data-v-ae0d76f9>创建阶段</h4><p data-v-ae0d76f9>setup() → 初始化数据</p></div></div><div class="lifecycle-arrow" data-v-ae0d76f9>→</div><div class="lifecycle-step" data-v-ae0d76f9><div class="step-icon" data-v-ae0d76f9>📱</div><div class="step-content" data-v-ae0d76f9><h4 data-v-ae0d76f9>挂载阶段</h4><p data-v-ae0d76f9>onMounted() → 渲染到页面</p></div></div><div class="lifecycle-arrow" data-v-ae0d76f9>→</div><div class="lifecycle-step" data-v-ae0d76f9><div class="step-icon" data-v-ae0d76f9>🔄</div><div class="step-content" data-v-ae0d76f9><h4 data-v-ae0d76f9>更新阶段</h4><p data-v-ae0d76f9>数据变化 → 重新渲染</p></div></div><div class="lifecycle-arrow" data-v-ae0d76f9>→</div><div class="lifecycle-step" data-v-ae0d76f9><div class="step-icon" data-v-ae0d76f9>🗑️</div><div class="step-content" data-v-ae0d76f9><h4 data-v-ae0d76f9>销毁阶段</h4><p data-v-ae0d76f9>onUnmounted() → 清理资源</p></div></div></div></div>',2))]))}},Fa=z(Ba,[["__scopeId","data-v-ae0d76f9"]]);const Ua={class:"demo-container"},Ma={class:"input-section"},Oa={class:"result-section"},za={__name:"ComputedVsMethod",setup(u){const t=h("张"),s=h("三"),i=h(0),v=h(0),l=se(()=>(i.value++,console.log("计算属性被调用了！"),`${t.value}${s.value}`)),d=()=>(v.value++,console.log("方法被调用了！"),`${t.value}${s.value}`);return(n,a)=>(c(),g("div",Ua,[a[7]||(a[7]=e("h2",null,"计算属性 vs 方法的区别",-1)),e("div",Ma,[Y(e("input",{"onUpdate:modelValue":a[0]||(a[0]=_=>t.value=_),placeholder:"姓"},null,512),[[W,t.value]]),Y(e("input",{"onUpdate:modelValue":a[1]||(a[1]=_=>s.value=_),placeholder:"名"},null,512),[[W,s.value]])]),e("div",Oa,[a[2]||(a[2]=e("h3",null,"1. 计算属性 (Computed Property)",-1)),e("p",null,"全名: "+r(l.value),1),e("p",null,"全名: "+r(l.value),1),e("p",null,"全名: "+r(l.value),1),a[3]||(a[3]=e("small",null,"👆 多次访问，但只计算一次（有缓存）",-1)),a[4]||(a[4]=e("h3",null,"2. 方法 (Method)",-1)),e("p",null,"全名: "+r(d()),1),e("p",null,"全名: "+r(d()),1),e("p",null,"全名: "+r(d()),1),a[5]||(a[5]=e("small",null,"👆 每次访问都重新计算（无缓存）",-1)),a[6]||(a[6]=e("h3",null,"3. 性能对比",-1)),e("p",null,"计算属性调用次数: "+r(i.value),1),e("p",null,"方法调用次数: "+r(v.value),1)]),a[8]||(a[8]=Q('<div class="explanation" data-v-8da02685><h3 data-v-8da02685>为什么叫&quot;计算属性&quot;？</h3><ul data-v-8da02685><li data-v-8da02685><strong data-v-8da02685>访问方式像属性：</strong> fullNameComputed（无括号）</li><li data-v-8da02685><strong data-v-8da02685>行为像属性：</strong> 有缓存，依赖不变时不重新计算</li><li data-v-8da02685><strong data-v-8da02685>声明像属性：</strong> const fullName = computed(...)</li></ul><h3 data-v-8da02685>与方法的区别：</h3><ul data-v-8da02685><li data-v-8da02685><strong data-v-8da02685>方法访问：</strong> fullNameMethod()（有括号）</li><li data-v-8da02685><strong data-v-8da02685>方法行为：</strong> 每次调用都执行</li><li data-v-8da02685><strong data-v-8da02685>方法声明：</strong> const fullNameMethod = () =&gt; {...}</li></ul></div>',1))]))}},qa=z(za,[["__scopeId","data-v-8da02685"]]);const Ka={class:"lifecycle-demo"},Ya={class:"controls"},ja={class:"data-display"},Ha={key:0,class:"child-component"},Wa={class:"logs"},Za={class:"log-container"},Ga={class:"log-time"},Ja={class:"log-hook"},Xa={class:"log-message"},Qa={__name:"LifecycleDemo",setup(u){const t=h(0),s=h("Hello Vue!"),i=h(!1),v=h([]),l=(y,p,f="parent")=>{v.value.push({hook:y,message:p,type:f,time:new Date().toLocaleTimeString()})};l("setup()","组件创建，响应式数据初始化"),De(()=>{l("onBeforeMount","组件即将挂载到DOM，模板编译完成但未渲染")}),ee(()=>{l("onMounted","组件已挂载到DOM，可以访问DOM元素")}),Le(()=>{l("onBeforeUpdate","响应式数据变化，DOM即将更新")}),Ae(()=>{l("onUpdated","DOM已更新完成")}),Ee(()=>{l("onBeforeUnmount","组件即将卸载，清理工作的最佳时机")}),pe(()=>{l("onUnmounted","组件已卸载，所有子组件也已卸载")}),ue(()=>{l("onActivated","Keep-alive组件被激活")}),Ve(()=>{l("onDeactivated","Keep-alive组件被停用")}),Re((y,p,f)=>(l("onErrorCaptured",`捕获到错误: ${y.message}`,"error"),!1)),Ne(y=>{l("onRenderTracked",`追踪到依赖: ${y.key}`,"debug")}),Be(y=>{l("onRenderTriggered",`触发重新渲染: ${y.key}`,"debug")}),we(t,(y,p)=>{l("watch",`计数器从 ${p} 变为 ${y}`,"watch")}),Fe(()=>{t.value>0&&l("watchEffect",`watchEffect执行，计数器: ${t.value}`,"watch")});const d=()=>{i.value=!i.value},n=()=>{t.value++,s.value=`更新了 ${t.value} 次`},a=()=>{l("forceUpdate","手动触发强制更新","manual")},_=()=>{v.value=[]};return(y,p)=>(c(),g("div",Ka,[p[5]||(p[5]=e("h2",null,"🔄 生命周期钩子演示",-1)),e("div",Ya,[e("button",{onClick:n},"更新数据 ("+r(t.value)+")",1),e("button",{onClick:d},r(i.value?"隐藏":"显示")+"子组件",1),e("button",{onClick:a},"强制更新"),e("button",{onClick:_},"清空日志")]),e("div",ja,[e("p",null,[p[0]||(p[0]=e("strong",null,"计数器:",-1)),J(" "+r(t.value),1)]),e("p",null,[p[1]||(p[1]=e("strong",null,"消息:",-1)),J(" "+r(s.value),1)])]),i.value?(c(),g("div",Ha,[p[2]||(p[2]=e("h4",null,"子组件",-1)),e("p",null,"接收到的计数器: "+r(t.value),1),p[3]||(p[3]=e("p",null,"我是子组件的数据",-1))])):F("",!0),e("div",Wa,[p[4]||(p[4]=e("h3",null,"生命周期日志",-1)),e("div",Za,[(c(!0),g(E,null,V(v.value,(f,w)=>(c(),g("div",{key:w,class:O(["log-item",`log-${f.type}`])},[e("span",Ga,r(f.time),1),e("span",Ja,r(f.hook),1),e("span",Xa,r(f.message),1)],2))),128))])])]))}},eo=z(Qa,[["__scopeId","data-v-dde61e6c"]]);const to={class:"render-demo"},so={class:"demo-section"},no={class:"demo-content"},ao={class:"demo-section"},oo={class:"demo-content"},io={class:"demo-section"},lo={class:"demo-content"},ro={class:"card-grid"},co={class:"demo-section"},uo={class:"demo-content"},vo={__name:"RenderDemo",setup(u){const t={props:["level","text"],render(){return B(`h${this.level}`,{class:"dynamic-heading",style:{color:"#667eea",fontSize:`${2.5-this.level*.3}rem`,margin:"8px 0"}},this.text)}},s={props:["status","amount"],render(){const n={success:{color:"#28a745",icon:"✅",text:"交易成功"},pending:{color:"#ffc107",icon:"⏳",text:"处理中"},failed:{color:"#dc3545",icon:"❌",text:"交易失败"}}[this.status];return B("div",{class:"transaction-status",style:{display:"flex",alignItems:"center",padding:"12px 16px",backgroundColor:`${n.color}15`,border:`2px solid ${n.color}30`,borderRadius:"8px",margin:"8px 0"}},[B("span",{style:{fontSize:"20px",marginRight:"8px"}},n.icon),B("div",[B("div",{style:{fontWeight:"bold",color:n.color}},n.text),B("div",{style:{fontSize:"14px",color:"#666"}},`金额: ¥${this.amount}`)])])}},i={props:["type"],render(){const n={credit:{name:"信用卡",icon:"💳",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",features:["透支消费","分期付款","积分奖励"]},debit:{name:"借记卡",icon:"🏦",gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",features:["即时扣款","ATM取现","转账汇款"]},savings:{name:"储蓄卡",icon:"💰",gradient:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",features:["定期存款","活期存款","理财产品"]}}[this.type];return B("div",{class:"bank-card-type",style:{background:n.gradient,color:"white",padding:"20px",borderRadius:"12px",margin:"10px 0",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}},[B("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"}},[B("span",{style:{fontSize:"24px",marginRight:"8px"}},n.icon),B("h4",{style:{margin:"0",fontSize:"18px"}},n.name)]),B("ul",{style:{margin:"0",paddingLeft:"20px"}},n.features.map(a=>B("li",{style:{marginBottom:"4px"}},a)))])}},v={props:["menuData"],render(){const d=n=>n.children&&n.children.length>0?B("li",{style:{marginBottom:"8px"}},[B("div",{style:{fontWeight:"bold",color:"#667eea",marginBottom:"4px",cursor:"pointer"}},[B("span","📁 "),B("span",n.name)]),B("ul",{style:{marginLeft:"20px",borderLeft:"2px solid #f0f0f0",paddingLeft:"12px"}},n.children.map(d))]):B("li",{style:{marginBottom:"4px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px",transition:"background-color 0.2s"},onMouseenter:a=>{a.target.style.backgroundColor="#f8f9fa"},onMouseleave:a=>{a.target.style.backgroundColor="transparent"}},[B("span","📄 "),B("span",n.name)]);return B("ul",{style:{listStyle:"none",padding:"0",border:"1px solid #e8e8e8",borderRadius:"8px",padding:"16px",backgroundColor:"#fafafa"}},this.menuData.map(d))}},l=h([{name:"账户服务",children:[{name:"余额查询"},{name:"交易明细"},{name:"账户设置"}]},{name:"转账汇款",children:[{name:"行内转账"},{name:"跨行转账"},{name:"国际汇款"}]},{name:"理财服务",children:[{name:"定期存款"},{name:"基金投资"},{name:"保险产品"}]},{name:"信用卡服务",children:[{name:"账单查询"},{name:"还款服务"},{name:"积分兑换"}]}]);return(d,n)=>(c(),g("div",to,[n[8]||(n[8]=e("div",{class:"demo-header"},[e("h2",null,"渲染函数演示"),e("p",null,"使用 Vue 3 的 h() 函数创建动态组件")],-1)),e("div",so,[n[0]||(n[0]=e("h3",null,"1. 动态标题组件",-1)),n[1]||(n[1]=e("p",null,"根据 level 属性动态生成不同级别的标题",-1)),e("div",no,[m(t,{level:1,text:"一级标题"}),m(t,{level:2,text:"二级标题"}),m(t,{level:3,text:"三级标题"}),m(t,{level:4,text:"四级标题"})])]),e("div",ao,[n[2]||(n[2]=e("h3",null,"2. 交易状态组件",-1)),n[3]||(n[3]=e("p",null,"根据状态动态渲染不同样式的交易信息",-1)),e("div",oo,[m(s,{status:"success",amount:"1000.00"}),m(s,{status:"pending",amount:"500.50"}),m(s,{status:"failed",amount:"200.00"})])]),e("div",io,[n[4]||(n[4]=e("h3",null,"3. 银行卡类型组件",-1)),n[5]||(n[5]=e("p",null,"根据卡片类型渲染不同的卡片样式",-1)),e("div",lo,[e("div",ro,[m(i,{type:"credit"}),m(i,{type:"debit"}),m(i,{type:"savings"})])])]),e("div",co,[n[6]||(n[6]=e("h3",null,"4. 菜单树组件",-1)),n[7]||(n[7]=e("p",null,"递归渲染树形菜单结构",-1)),e("div",uo,[m(v,{menuData:l.value},null,8,["menuData"])])])]))}},po=z(vo,[["__scopeId","data-v-ddcf00ec"]]);async function ae(u,t={}){try{const s=await fetch(u,{headers:{"Content-Type":"application/json",...t.headers},...t});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){throw console.error("API请求失败:",s),s}}const be={async getUserProfile(u){return ae(`/api/users/${u}/profile`)},async updateUserProfile(u,t){return ae(`/api/users/${u}/profile`,{method:"PUT",body:JSON.stringify(t)})}},ke={async getAccountBalance(u){return ae(`/bank-api/accounts/${u}/balance`)},async transfer(u,t,s){return ae("/bank-api/transfer",{method:"POST",body:JSON.stringify({from:u,to:t,amount:s})})}},mo={async login(u,t){return ae("/auth/login",{method:"POST",body:JSON.stringify({username:u,password:t})})},async register(u){return ae("/auth/register",{method:"POST",body:JSON.stringify(u)})}};function fo(){try{const u=new WebSocket("ws://localhost:8080/socket.io");return u.onopen=()=>{console.log("WebSocket连接成功")},u.onclose=()=>{console.log("WebSocket连接断开")},u.onerror=t=>{console.error("WebSocket连接错误:",t)},u}catch(u){return console.error("创建WebSocket连接失败:",u),null}}const go={class:"proxy-demo"},_o={class:"section"},ho={key:0},yo=["disabled"],bo={class:"section"},ko={key:0},wo=["disabled"],$o={class:"section"},xo={class:"auth-form"},Co=["disabled"],Po={class:"section"},So={key:0,class:"error"},To={__name:"ProxyDemo",setup(u){const t=h(null),s=h(null),i=h(""),v=h("未连接"),l=h(!1);let d=null;const n=X({user:!1,bank:!1,auth:!1}),a=X({username:"",password:""}),_=async()=>{n.user=!0,i.value="";try{t.value=await be.getUserProfile("123")}catch($){i.value=`加载用户信息失败: ${$.message}`}finally{n.user=!1}},y=async()=>{try{const $={email:"new-email@example.com",phone:"13800138000"};await be.updateUserProfile("123",$),await _()}catch($){i.value=`更新用户信息失败: ${$.message}`}},p=async()=>{n.bank=!0,i.value="";try{const $=await ke.getAccountBalance("456");s.value=$.balance}catch($){i.value=`查询余额失败: ${$.message}`}finally{n.bank=!1}},f=async()=>{try{const $=await ke.transfer("456","789",100);console.log("转账成功:",$),await p()}catch($){i.value=`转账失败: ${$.message}`}},w=async()=>{if(!a.username||!a.password){i.value="请输入用户名和密码";return}n.auth=!0,i.value="";try{const $=await mo.login(a.username,a.password);console.log("登录成功:",$),a.username="",a.password=""}catch($){i.value=`登录失败: ${$.message}`}finally{n.auth=!1}},b=()=>{l.value?d&&(d.disconnect(),d=null):(d=fo(),d.on("connect",()=>{v.value="已连接",l.value=!0}),d.on("disconnect",()=>{v.value="已断开",l.value=!1}),d.on("error",$=>{v.value=`连接错误: ${$.message}`,l.value=!1}))};return ee(()=>{console.log("Proxy Demo组件已挂载"),console.log("可用的代理路径:"),console.log("- /api -> http://localhost:8080"),console.log("- /bank-api -> https://api.bank.example.com/v1"),console.log("- /auth -> http://localhost:3001"),console.log("- /socket.io -> ws://localhost:8080")}),pe(()=>{d&&d.disconnect()}),($,I)=>(c(),g("div",go,[I[6]||(I[6]=e("h2",null,"Proxy使用示例",-1)),e("div",_o,[I[2]||(I[2]=e("h3",null,"用户信息 (使用 /api 代理)",-1)),t.value?(c(),g("div",ho,[e("p",null,"用户名: "+r(t.value.username),1),e("p",null,"邮箱: "+r(t.value.email),1),e("button",{onClick:y},"更新资料")])):F("",!0),e("button",{onClick:_,disabled:n.user},r(n.user?"加载中...":"加载用户信息"),9,yo)]),e("div",bo,[I[3]||(I[3]=e("h3",null,"银行信息 (使用 /bank-api 代理)",-1)),s.value?(c(),g("div",ko,[e("p",null,"账户余额: ¥"+r(s.value.toLocaleString()),1),e("button",{onClick:f},"转账测试")])):F("",!0),e("button",{onClick:p,disabled:n.bank},r(n.bank?"加载中...":"查询余额"),9,wo)]),e("div",$o,[I[4]||(I[4]=e("h3",null,"用户认证 (使用 /auth 代理)",-1)),e("div",xo,[Y(e("input",{"onUpdate:modelValue":I[0]||(I[0]=L=>a.username=L),placeholder:"用户名"},null,512),[[W,a.username]]),Y(e("input",{"onUpdate:modelValue":I[1]||(I[1]=L=>a.password=L),type:"password",placeholder:"密码"},null,512),[[W,a.password]]),e("button",{onClick:w,disabled:n.auth},r(n.auth?"登录中...":"登录"),9,Co)])]),e("div",Po,[I[5]||(I[5]=e("h3",null,"WebSocket连接 (使用 /socket.io 代理)",-1)),e("p",null,"连接状态: "+r(v.value),1),e("button",{onClick:b},r(l.value?"断开连接":"连接WebSocket"),1)]),i.value?(c(),g("div",So," 错误: "+r(i.value),1)):F("",!0)]))}},Io=z(To,[["__scopeId","data-v-4a2d10f7"]]);const Do={class:"vue-proxy-demo"},Lo={class:"section"},Ao={class:"demo-card"},Eo={key:0,class:"log-section"},Vo={class:"section"},Ro={class:"demo-card"},No={key:0,class:"log-section"},Bo={class:"section"},Fo={class:"demo-card"},Uo={class:"result-display"},Mo={key:0},Oo={class:"section"},zo={class:"demo-card"},qo={class:"form-demo"},Ko={class:"error-messages"},Yo={__name:"VueProxyDemo",setup(u){const t=h(0),s=X({name:"张三",age:25}),i=h([]),v={balance:5e3,status:"active"},l=h([]);let d=0;const n=new Proxy(v,{get(A,o){return q(`读取属性: ${o} = ${A[o]}`,"info"),A[o]},set(A,o,S){if(o==="balance"){if(S<0)return q(`❌ 错误: 余额不能为负数 (尝试设置: ${S})`,"error"),!1;S>1e6&&q(`⚠️ 警告: 余额过高 (${S})`,"warning")}const ve=A[o];return A[o]=S,q(`✅ 设置属性: ${o} = ${S} (原值: ${ve})`,"success"),!0},has(A,o){return q(`检查属性是否存在: ${o}`,"info"),o in A},deleteProperty(A,o){return q(`❌ 尝试删除属性: ${o} (被拒绝)`,"error"),!1}}),a={publicData:"这是公开数据",_privateData:"这是私有数据",secretKey:"top-secret"},_=h(""),y=new Proxy(a,{get(A,o){return typeof o=="string"&&o.startsWith("_")?"❌ 访问被拒绝: 私有属性":o==="secretKey"?"❌ 访问被拒绝: 机密信息":A[o]||"❌ 属性不存在"}}),p=X({username:"",email:"",age:""}),f=X({}),w=new Proxy(p,{set(A,o,S){switch(A[o]=S,o){case"username":S.length<3||S.length>20?f.username="用户名长度必须在3-20字符之间":delete f.username;break;case"email":S&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(S)?f.email="请输入有效的邮箱地址":delete f.email;break;case"age":const re=parseInt(S);S&&(isNaN(re)||re<18||re>100)?f.age="年龄必须在18-100之间":delete f.age;break}return!0}});we(p,()=>{Object.keys(p).forEach(A=>{w[A]=p[A]})},{deep:!0});const b=()=>{t.value++,N(`计数器增加到: ${t.value}`)},$=()=>{s.age++,s.name=s.name==="张三"?"李四":"张三",N(`用户信息更新: ${s.name}, ${s.age}岁`)},I=()=>{N("Vue 3使用Proxy实现响应式系统，自动追踪依赖变化")},L=()=>{n.balance+=1e3},k=()=>{n.balance-=500},R=()=>{try{n.balance=-100}catch(A){q(`❌ 操作失败: ${A.message}`,"error")}},M=()=>{_.value=y.publicData},x=()=>{_.value=y._privateData},Z=()=>{_.value=y.nonExistent},N=A=>{i.value.unshift({id:Date.now(),message:A,time:new Date().toLocaleTimeString()}),i.value.length>5&&i.value.pop()},q=(A,o="info")=>{l.value.unshift({id:++d,message:A,type:o,time:new Date().toLocaleTimeString()}),l.value.length>8&&l.value.pop()};return(A,o)=>(c(),g("div",Do,[o[15]||(o[15]=e("h2",null,"Vue中的Proxy详解",-1)),e("div",Lo,[o[6]||(o[6]=e("h3",null,"🔥 Vue 3响应式系统（基于Proxy）",-1)),e("div",Ao,[o[5]||(o[5]=e("h4",null,"响应式数据示例",-1)),e("p",null,[o[3]||(o[3]=J("当前计数: ",-1)),e("strong",null,r(t.value),1)]),e("p",null,"用户信息: "+r(s.name)+" ("+r(s.age)+"岁)",1),e("div",{class:"buttons"},[e("button",{onClick:b},"增加计数"),e("button",{onClick:$},"更新用户"),e("button",{onClick:I},"查看响应式日志")]),i.value.length?(c(),g("div",Eo,[o[4]||(o[4]=e("h5",null,"响应式操作日志:",-1)),e("ul",null,[(c(!0),g(E,null,V(i.value,S=>(c(),g("li",{key:S.id},r(S.message),1))),128))])])):F("",!0)])]),e("div",Vo,[o[9]||(o[9]=e("h3",null,"⚡ 手动创建Proxy示例",-1)),e("div",Ro,[o[8]||(o[8]=e("h4",null,"数据验证Proxy",-1)),e("p",null,"银行账户余额: ¥"+r(G(n).balance.toLocaleString()),1),e("p",null,"账户状态: "+r(G(n).status),1),e("div",{class:"buttons"},[e("button",{onClick:L},"存款 ¥1000"),e("button",{onClick:k},"取款 ¥500"),e("button",{onClick:R},"无效操作测试")]),l.value.length?(c(),g("div",No,[o[7]||(o[7]=e("h5",null,"Proxy操作日志:",-1)),e("ul",null,[(c(!0),g(E,null,V(l.value,S=>(c(),g("li",{key:S.id,class:O(S.type)},r(S.message),3))),128))])])):F("",!0)])]),e("div",Bo,[o[12]||(o[12]=e("h3",null,"🛡️ Proxy拦截器演示",-1)),e("div",Fo,[o[10]||(o[10]=e("h4",null,"属性访问控制",-1)),o[11]||(o[11]=e("p",null,"尝试访问不同的属性:",-1)),e("div",{class:"buttons"},[e("button",{onClick:M},"访问公开属性"),e("button",{onClick:x},"访问私有属性"),e("button",{onClick:Z},"访问不存在属性")]),e("div",Uo,[_.value?(c(),g("p",Mo,"访问结果: "+r(_.value),1)):F("",!0)])])]),o[16]||(o[16]=Q('<div class="section" data-v-52186c15><h3 data-v-52186c15>📊 Proxy vs Object.defineProperty</h3><div class="comparison-grid" data-v-52186c15><div class="comparison-item" data-v-52186c15><h4 data-v-52186c15>Vue 2 (Object.defineProperty)</h4><ul data-v-52186c15><li data-v-52186c15>只能监听已存在的属性</li><li data-v-52186c15>无法监听数组索引变化</li><li data-v-52186c15>需要递归遍历所有属性</li><li data-v-52186c15>性能开销较大</li></ul></div><div class="comparison-item" data-v-52186c15><h4 data-v-52186c15>Vue 3 (Proxy)</h4><ul data-v-52186c15><li data-v-52186c15>可以监听整个对象</li><li data-v-52186c15>支持数组索引和length变化</li><li data-v-52186c15>支持动态添加属性</li><li data-v-52186c15>性能更好，懒代理</li></ul></div></div></div>',1)),e("div",Oo,[o[14]||(o[14]=e("h3",null,"🎯 实际应用场景",-1)),e("div",zo,[o[13]||(o[13]=e("h4",null,"表单验证Proxy",-1)),e("div",qo,[Y(e("input",{"onUpdate:modelValue":o[0]||(o[0]=S=>p.username=S),placeholder:"用户名 (3-20字符)",class:O({error:f.username})},null,2),[[W,p.username]]),Y(e("input",{"onUpdate:modelValue":o[1]||(o[1]=S=>p.email=S),placeholder:"邮箱地址",class:O({error:f.email})},null,2),[[W,p.email]]),Y(e("input",{"onUpdate:modelValue":o[2]||(o[2]=S=>p.age=S),type:"number",placeholder:"年龄 (18-100)",class:O({error:f.age})},null,2),[[W,p.age]]),e("div",Ko,[(c(!0),g(E,null,V(Object.values(f),S=>(c(),g("p",{key:S,class:"error-text"},r(S),1))),128))])])])]),o[17]||(o[17]=e("div",{class:"section"},[e("h3",null,"💻 核心代码示例"),e("div",{class:"code-examples"},[e("div",{class:"code-block"},[e("h4",null,"Vue 3响应式原理简化版"),e("pre",null,[e("code",null,`function reactive(target) {
  return new Proxy(target, {
    get(target, key) {
      // 依赖收集
      track(target, key)
      return target[key]
    },
    set(target, key, value) {
      target[key] = value
      // 触发更新
      trigger(target, key)
      return true
    }
  })
}`)])]),e("div",{class:"code-block"},[e("h4",null,"数据验证Proxy"),e("pre",null,[e("code",null,`const validatedData = new Proxy(data, {
  set(target, key, value) {
    if (key === 'balance' && value < 0) {
      throw new Error('余额不能为负数')
    }
    target[key] = value
    return true
  }
})`)])])])],-1))]))}},jo=z(Yo,[["__scopeId","data-v-52186c15"]]);const Ho={class:"promise-demo"},Wo={class:"demo-container"},Zo={class:"demo-section"},Go={class:"demo-buttons"},Jo=["disabled"],Xo=["disabled"],Qo={class:"logs"},ei={class:"log-container"},ti={class:"timestamp"},si={__name:"PromiseDemo",setup(u){const t=h([]),s=h(!1),i=(a,_="info")=>{t.value.push({time:new Date().toLocaleTimeString(),message:a,type:_})},v=(a=2e3)=>new Promise((_,y)=>{setTimeout(()=>{Math.random()>.1?_("操作成功完成"):y(new Error("操作失败"))},a)}),l=()=>{s.value||(s.value=!0,i("开始执行 Promise 版本...","info"),v(1500).then(a=>(i(`Promise 结果: ${a}`,"success"),"数据处理完成")).then(a=>{i(`Promise 处理结果: ${a}`,"success")}).catch(a=>{i(`Promise 错误: ${a.message}`,"error")}).finally(()=>{i("Promise 版本执行完毕","info"),s.value=!1}))},d=async()=>{if(!s.value){s.value=!0,i("开始执行 Async/Await 版本...","info");try{const a=await v(1500);i(`Async/Await 结果: ${a}`,"success"),i("Async/Await 处理结果: 数据处理完成","success")}catch(a){i(`Async/Await 错误: ${a.message}`,"error")}finally{i("Async/Await 版本执行完毕","info"),s.value=!1}}},n=()=>{t.value=[]};return(a,_)=>(c(),g("div",Ho,[_[4]||(_[4]=e("div",{class:"header"},[e("h1",null,"Promise vs Async/Await 演示"),e("p",null,"理解它们的等价关系")],-1)),e("div",Wo,[_[2]||(_[2]=Q(`<div class="concept-section" data-v-14fddf70><h2 data-v-14fddf70>🔍 核心概念</h2><div class="concept-card" data-v-14fddf70><h3 data-v-14fddf70>async/await 是 Promise 的语法糖</h3><p data-v-14fddf70>它们本质上是同一个东西，只是写法不同</p></div></div><div class="comparison-section" data-v-14fddf70><h2 data-v-14fddf70>📝 等价写法对比</h2><div class="comparison-grid" data-v-14fddf70><div class="code-block" data-v-14fddf70><h3 data-v-14fddf70>Promise 写法</h3><pre data-v-14fddf70><code data-v-14fddf70>function fetchData() {
  return new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      resolve(&#39;数据获取成功&#39;)
    }, 2000)
  })
}

// 使用 Promise
fetchData()
  .then(result =&gt; {
    console.log(result)
    return &#39;处理完成&#39;
  })
  .then(finalResult =&gt; {
    console.log(finalResult)
  })
  .catch(error =&gt; {
    console.error(error)
  })</code></pre></div><div class="code-block" data-v-14fddf70><h3 data-v-14fddf70>async/await 写法</h3><pre data-v-14fddf70><code data-v-14fddf70>function fetchData() {
  return new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      resolve(&#39;数据获取成功&#39;)
    }, 2000)
  })
}

// 使用 async/await
async function handleData() {
  try {
    const result = await fetchData()
    console.log(result)
    const finalResult = &#39;处理完成&#39;
    console.log(finalResult)
  } catch (error) {
    console.error(error)
  }
}</code></pre></div></div></div>`,2)),e("div",Zo,[_[1]||(_[1]=e("h2",null,"🎯 实际演示",-1)),e("div",Go,[e("button",{onClick:l,disabled:s.value}," 运行 Promise 版本 ",8,Jo),e("button",{onClick:d,disabled:s.value}," 运行 Async/Await 版本 ",8,Xo),e("button",{onClick:n},"清空日志")]),e("div",Qo,[_[0]||(_[0]=e("h3",null,"执行日志：",-1)),e("div",ei,[(c(!0),g(E,null,V(t.value,(y,p)=>(c(),g("div",{key:p,class:"log-item"},[e("span",ti,r(y.time),1),e("span",{class:O(["message",y.type])},r(y.message),3)]))),128))])])]),_[3]||(_[3]=Q(`<div class="explanation-section" data-v-14fddf70><h2 data-v-14fddf70>💡 详细解释</h2><div class="explanation-grid" data-v-14fddf70><div class="explanation-card" data-v-14fddf70><h3 data-v-14fddf70>1. async 函数</h3><p data-v-14fddf70><code data-v-14fddf70>async</code> 关键字让函数自动返回 Promise</p><pre data-v-14fddf70><code data-v-14fddf70>async function test() {
  return &#39;hello&#39;
}
// 等价于
function test() {
  return Promise.resolve(&#39;hello&#39;)
}</code></pre></div><div class="explanation-card" data-v-14fddf70><h3 data-v-14fddf70>2. await 关键字</h3><p data-v-14fddf70><code data-v-14fddf70>await</code> 等待 Promise 完成并返回结果</p><pre data-v-14fddf70><code data-v-14fddf70>const result = await promise
// 等价于
promise.then(result =&gt; {
  // 使用 result
})</code></pre></div><div class="explanation-card" data-v-14fddf70><h3 data-v-14fddf70>3. 错误处理</h3><p data-v-14fddf70>try/catch 等价于 .catch()</p><pre data-v-14fddf70><code data-v-14fddf70>try {
  const result = await promise
} catch (error) {
  console.error(error)
}
// 等价于
promise.catch(error =&gt; {
  console.error(error)
})</code></pre></div><div class="explanation-card" data-v-14fddf70><h3 data-v-14fddf70>4. 你的代码示例</h3><p data-v-14fddf70>Login.vue 中的这行代码：</p><pre data-v-14fddf70><code data-v-14fddf70>await new Promise(resolve =&gt; 
  setTimeout(resolve, 2000)
)
// 等价于
new Promise(resolve =&gt; 
  setTimeout(resolve, 2000)
).then(() =&gt; {
  // 继续执行后续代码
})</code></pre></div></div></div><div class="pros-cons-section" data-v-14fddf70><h2 data-v-14fddf70>⚖️ 优缺点对比</h2><div class="comparison-table" data-v-14fddf70><table data-v-14fddf70><thead data-v-14fddf70><tr data-v-14fddf70><th data-v-14fddf70>特性</th><th data-v-14fddf70>Promise</th><th data-v-14fddf70>async/await</th></tr></thead><tbody data-v-14fddf70><tr data-v-14fddf70><td data-v-14fddf70>可读性</td><td data-v-14fddf70>链式调用，嵌套复杂</td><td data-v-14fddf70>同步代码风格，易读</td></tr><tr data-v-14fddf70><td data-v-14fddf70>错误处理</td><td data-v-14fddf70>.catch() 处理</td><td data-v-14fddf70>try/catch 统一处理</td></tr><tr data-v-14fddf70><td data-v-14fddf70>调试</td><td data-v-14fddf70>调试困难</td><td data-v-14fddf70>容易调试</td></tr><tr data-v-14fddf70><td data-v-14fddf70>浏览器支持</td><td data-v-14fddf70>ES6 支持</td><td data-v-14fddf70>ES2017 支持</td></tr><tr data-v-14fddf70><td data-v-14fddf70>性能</td><td data-v-14fddf70>相同</td><td data-v-14fddf70>相同（只是语法糖）</td></tr></tbody></table></div></div>`,2))])]))}},ni=z(si,[["__scopeId","data-v-14fddf70"]]),ai=[{path:"/",redirect:"/home"},{path:"/login",name:"Login",component:da,meta:{requiresAuth:!1,isFirstLevel:!0,title:"登录"}},{path:"/permission-demo",name:"PermissionDemo",component:()=>Ge(()=>import("./PermissionDemo-a506fa43.js"),["assets/PermissionDemo-a506fa43.js","assets/vendor-64db4e53.js","assets/vant-dbf08e58.js","assets/PermissionDemo-42372748.css"]),meta:{requiresAuth:!0,isFirstLevel:!1,title:"权限管理演示"}},{path:"/home",name:"Home",component:Bt,meta:{requiresAuth:!0,isFirstLevel:!0,title:"首页"}},{path:"/account",name:"Account",component:Kt,meta:{requiresAuth:!0,isFirstLevel:!0,title:"我的账户",permissions:["user:read"]}},{path:"/transfer",name:"Transfer",component:Zt,meta:{requiresAuth:!0,isFirstLevel:!0,title:"转账汇款",permissions:["user:read"]}},{path:"/cards",name:"Cards",component:vs,meta:{requiresAuth:!0,isFirstLevel:!0,title:"我的卡片",permissions:["user:read"]}},{path:"/wealth",name:"Wealth",component:js,meta:{requiresAuth:!0,isFirstLevel:!0,title:"财富管理"}},{path:"/life",name:"Life",component:Bn,meta:{requiresAuth:!0,isFirstLevel:!0,title:"生活服务"}},{path:"/computed-demo",name:"ComputedDemo",component:qa,meta:{requiresAuth:!0,isFirstLevel:!1,title:"Computed演示",roles:["admin"]}},{path:"/lifecycle-demo",name:"LifecycleDemo",component:eo,meta:{requiresAuth:!0,isFirstLevel:!1,title:"生命周期演示",roles:["admin"]}},{path:"/render-demo",name:"RenderDemo",component:po,meta:{requiresAuth:!0,isFirstLevel:!1,title:"渲染演示",roles:["admin"]}},{path:"/component-demo",name:"ComponentDemo",component:Fa,meta:{requiresAuth:!0,isFirstLevel:!1,title:"组件演示",roles:["admin"]}},{path:"/proxy-demo",name:"ProxyDemo",component:Io,meta:{requiresAuth:!0,isFirstLevel:!1,title:"Proxy演示",roles:["admin"]}},{path:"/vue-proxy-demo",name:"VueProxyDemo",component:jo,meta:{requiresAuth:!0,isFirstLevel:!1,title:"Vue Proxy演示",roles:["admin"]}},{path:"/promise-demo",name:"PromiseDemo",component:ni,meta:{requiresAuth:!0,isFirstLevel:!1,title:"Promise演示",roles:["admin"]}},{path:"/interpolation-demo",name:"InterpolationDemo",component:ua,meta:{requiresAuth:!0,isFirstLevel:!1,title:"插值演示",roles:["admin"]}},{path:"/ref-demo",name:"RefDemo",component:va,meta:{requiresAuth:!0,isFirstLevel:!1,title:"Ref演示",roles:["admin"]}},{path:"/style-demo",name:"StyleDemo",component:fa,meta:{requiresAuth:!0,isFirstLevel:!1,title:"样式演示",roles:["admin"]}},{path:"/template-vs-script",name:"TemplateVsScript",component:ya,meta:{requiresAuth:!0,isFirstLevel:!1,title:"模板vs脚本",roles:["admin"]}}],ce=Ue({history:Me("/vue-bank/"),routes:ai});ce.beforeEach(async(u,t,s)=>{if(console.log("🔐 Route Guard Check:",{to:u.path,requiresAuth:u.meta.requiresAuth,roles:u.meta.roles,permissions:u.meta.permissions,requiresVIP:u.meta.requiresVIP}),u.meta.requiresAuth){if(!H.isLoggedIn()){console.log("❌ Not logged in, redirecting to login"),D({type:"fail",message:"请先登录"}),s({path:"/login",query:{redirect:u.fullPath}});return}if(H.isTokenExpired())try{console.log("🔄 Token expired, attempting refresh"),await H.refreshToken(),console.log("✅ Token refreshed successfully")}catch(i){console.log("❌ Token refresh failed:",i.message),D({type:"fail",message:"登录已过期，请重新登录"}),s({path:"/login",query:{redirect:u.fullPath}});return}if(u.meta.roles&&u.meta.roles.length>0&&!H.hasAnyRole(u.meta.roles)){console.log("❌ Insufficient role permissions"),D({type:"fail",message:"权限不足，无法访问该页面"}),s({path:t.path||"/home"});return}if(u.meta.permissions&&u.meta.permissions.length>0&&!H.hasAllPermissions(u.meta.permissions)){console.log("❌ Insufficient permissions"),D({type:"fail",message:"权限不足，无法访问该功能"}),s({path:t.path||"/home"});return}if(u.meta.requiresVIP&&!H.isVIP()){console.log("❌ VIP access required"),D({type:"fail",message:"该功能仅限VIP用户使用"}),s({path:t.path||"/home"});return}console.log("✅ All permission checks passed")}if(u.path==="/login"&&H.isLoggedIn()){console.log("🏠 Already logged in, redirecting to home");const i=u.query.redirect||"/home";s({path:i});return}if(u.path==="/"&&!H.isLoggedIn()){s({path:"/login"});return}console.log("✅ Route guard passed, proceeding to:",u.path),s()});ce.afterEach((u,t)=>{u.meta.title&&(document.title=`${u.meta.title} - CC银行`),console.log("🔄 ROUTE CHANGE DETECTED:",{from:t.path,to:u.path,timestamp:new Date().toLocaleTimeString(),reason:"Vue Router navigation"}),window.backHandler&&(window.backHandler.recordNavigation(t.path,u.path),window.backHandler.resetBackTimer())});Je.initSwipeBack(()=>{var t,s;const u=ce.currentRoute.value;if(console.log("🎯 Swipe back triggered on route:",u.path,"isFirstLevel:",(t=u.meta)==null?void 0:t.isFirstLevel),(s=u.meta)!=null&&s.isFirstLevel)if(console.log("🚪 First level page - showing exit confirmation with enhanced feedback"),navigator.vibrate&&(navigator.vibrate([50,30,50]),console.log("📳 Vibration feedback triggered")),window.confirm(`🚪 您正在一级页面

侧滑将退出应用，确定要退出吗？

💡 提示：在二级页面侧滑可返回上一页`)){console.log("✅ User confirmed exit");try{window.close()}catch{console.log("⚠️ Cannot close window directly, showing alternative message"),alert(`
          🌟 感谢使用！
          
          由于浏览器安全限制，无法直接关闭页面。
          请手动关闭浏览器标签页。
          
          💡 建议：将此应用添加到桌面，获得更好的体验！
        `)}"serviceWorker"in navigator&&console.log("📱 PWA environment detected - enhanced exit handling")}else console.log("❌ User cancelled exit");else console.log("⬅️ Second level page - going back with smooth transition"),navigator.vibrate&&navigator.vibrate(30),ce.go(-1),setTimeout(()=>{console.log("✅ Successfully navigated back to previous page")},100)});class oi{constructor(){this.topLevelRoutes=["/home","/wealth","/life","/cards"],this.lastBackTime=0,this.backToExitInterval=2e3,this.navigationStack=[],this.isInitialized=!1}isTopLevelRoute(t){return this.topLevelRoutes.includes(t)}initialize(t){this.isInitialized||(this.navigationStack=[t],this.isInitialized=!0)}recordNavigation(t,s){if(this.isTopLevelRoute(t)&&this.isTopLevelRoute(s)){this.navigationStack.length>0?this.navigationStack[this.navigationStack.length-1]=s:this.navigationStack.push(s);return}if(this.isTopLevelRoute(t)&&!this.isTopLevelRoute(s)){this.navigationStack.push(s);return}if(!this.isTopLevelRoute(t)&&this.isTopLevelRoute(s)){for(;this.navigationStack.length>0&&!this.isTopLevelRoute(this.navigationStack[this.navigationStack.length-1]);)this.navigationStack.pop();(this.navigationStack.length===0||this.navigationStack[this.navigationStack.length-1]!==s)&&this.navigationStack.push(s);return}this.navigationStack.push(s)}shouldExitApp(t){return this.isTopLevelRoute(t)?this.navigationStack.filter(i=>!this.isTopLevelRoute(i)).length===0&&this.navigationStack.length<=1:!1}async handleBack(t,s){if(this.isTopLevelRoute(t))if(this.shouldExitApp(t)){const i=Date.now();return this.isPWA()?this.showExitConfirm():i-this.lastBackTime<this.backToExitInterval?(this.exitApp(),!0):(this.lastBackTime=i,D({message:"再按一次退出应用",position:"bottom",duration:2e3}),!1)}else return!0;return!0}isPWA(){return window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches||window.matchMedia("(display-mode: fullscreen)").matches}async showExitConfirm(){try{return await de({title:"退出应用",message:"确定要退出Vue银行吗？",confirmButtonText:"退出",cancelButtonText:"取消",confirmButtonColor:"#ee0a24",overlay:!0,closeOnClickOverlay:!1}),this.exitApp(),!0}catch{return!1}}exitApp(){this.isPWA()?window.close&&window.close():window.history.length>1?window.history.back():window.close()}resetBackTimer(){this.lastBackTime=0}}const te=new oi;const ii={id:"app"},li={__name:"App",setup(u){const t=oe(),s=ie(),i=async l=>{const d=s.path;if(console.log("🚨 POPSTATE in handlePopState:",{currentPath:d,isTopLevel:te.isTopLevelRoute(d),timestamp:new Date().toLocaleTimeString()}),te.isTopLevelRoute(d))return console.log("🔴 BLOCKING POPSTATE for top-level route, showing exit dialog:",d),l.preventDefault(),l.stopPropagation(),window.history.pushState(null,"",d),await te.handleBack(d,t)||window.history.pushState(null,"",d),!1},v=async l=>{if(l.key==="Escape"||l.keyCode===27){const d=s.path;te.isTopLevelRoute(d)&&(l.preventDefault(),await te.handleBack(d,t))}};return window.backHandler=te,ee(()=>{te.initialize(s.path),preventBrowserNavigation(),window.history.pushState(null,"",s.path),window.addEventListener("popstate",i),window.addEventListener("keydown",v),window.addEventListener("beforeunload",l=>{te.isTopLevelRoute(s.path)&&(l.preventDefault(),l.returnValue="")})}),pe(()=>{window.removeEventListener("popstate",i),window.removeEventListener("keydown",v)}),(l,d)=>{const n=T("router-view");return c(),g("div",ii,[m(n,null,{default:P(({Component:a,route:_})=>[(c(),j(ze,{include:["Transfer","Account"]},[(c(),j(Oe(a),{key:_.path}))],1024))]),_:1})])}}};const me=qe(li);me.use(He());me.use(ce);me.use(Ke);me.mount("#app");export{dt as U,z as _,H as a};
